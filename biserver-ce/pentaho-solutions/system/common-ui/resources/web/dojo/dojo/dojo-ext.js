/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/
/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/
if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.getObject("date.stamp",true,dojo);dojo.date.stamp.fromISOString=function(_1,_2){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _3=dojo.date.stamp._isoRegExp.exec(_1),_4=null;if(_3){_3.shift();if(_3[1]){_3[1]--;}if(_3[6]){_3[6]*=1000;}if(_2){_2=new Date(_2);dojo.forEach(dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(_5){return _2["get"+_5]();}),function(_6,_7){_3[_7]=_3[_7]||_6;});}_4=new Date(_3[0]||1970,_3[1]||0,_3[2]||1,_3[3]||0,_3[4]||0,_3[5]||0,_3[6]||0);if(_3[0]<100){_4.setFullYear(_3[0]||1970);}var _8=0,_9=_3[7]&&_3[7].charAt(0);if(_9!="Z"){_8=((_3[8]||0)*60)+(Number(_3[9])||0);if(_9!="-"){_8*=-1;}}if(_9){_8-=_4.getTimezoneOffset();}if(_8){_4.setTime(_4.getTime()+_8*60000);}}return _4;};dojo.date.stamp.toISOString=function(_a,_b){var _c=function(n){return (n<10)?"0"+n:n;};_b=_b||{};var _d=[],_e=_b.zulu?"getUTC":"get",_f="";if(_b.selector!="time"){var _10=_a[_e+"FullYear"]();_f=["0000".substr((_10+"").length)+_10,_c(_a[_e+"Month"]()+1),_c(_a[_e+"Date"]())].join("-");}_d.push(_f);if(_b.selector!="date"){var _11=[_c(_a[_e+"Hours"]()),_c(_a[_e+"Minutes"]()),_c(_a[_e+"Seconds"]())].join(":");var _12=_a[_e+"Milliseconds"]();if(_b.milliseconds){_11+="."+(_12<100?"0":"")+_c(_12);}if(_b.zulu){_11+="Z";}else{if(_b.selector!="time"){var _13=_a.getTimezoneOffset();var _14=Math.abs(_13);_11+=(_13>0?"-":"+")+_c(Math.floor(_14/60))+":"+_c(_14%60);}}_d.push(_11);}return _d.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");new Date("X");dojo.parser=new function(){var d=dojo;function _15(_16){if(d.isString(_16)){return "string";}if(typeof _16=="number"){return "number";}if(typeof _16=="boolean"){return "boolean";}if(d.isFunction(_16)){return "function";}if(d.isArray(_16)){return "array";}if(_16 instanceof Date){return "date";}if(_16 instanceof d._Url){return "url";}return "object";};function _17(_18,_19){switch(_19){case "string":return _18;case "number":return _18.length?Number(_18):NaN;case "boolean":return typeof _18=="boolean"?_18:!(_18.toLowerCase()=="false");case "function":if(d.isFunction(_18)){_18=_18.toString();_18=d.trim(_18.substring(_18.indexOf("{")+1,_18.length-1));}try{if(_18===""||_18.search(/[^\w\.]+/i)!=-1){return new Function(_18);}else{return d.getObject(_18,false)||new Function(_18);}}catch(e){return new Function();}case "array":return _18?_18.split(/\s*,\s*/):[];case "date":switch(_18){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_18);}case "url":return d.baseUrl+_18;default:return d.fromJson(_18);}};var _1a={},_1b={};d.connect(d,"extend",function(){_1b={};});function _1c(cls,_1d){for(var _1e in cls){if(_1e.charAt(0)=="_"){continue;}if(_1e in _1a){continue;}_1d[_1e]=_15(cls[_1e]);}return _1d;};function _1f(_20,_21){var c=_1b[_20];if(!c){var cls=d.getObject(_20),_22=null;if(!cls){return null;}if(!_21){_22=_1c(cls.prototype,{});}c={cls:cls,params:_22};}else{if(!_21&&!c.params){c.params=_1c(c.cls.prototype,{});}}return c;};this._functionFromScript=function(_23,_24){var _25="";var _26="";var _27=(_23.getAttribute(_24+"args")||_23.getAttribute("args"));if(_27){d.forEach(_27.split(/\s*,\s*/),function(_28,idx){_25+="var "+_28+" = arguments["+idx+"]; ";});}var _29=_23.getAttribute("with");if(_29&&_29.length){d.forEach(_29.split(/\s*,\s*/),function(_2a){_25+="with("+_2a+"){";_26+="}";});}return new Function(_25+_23.innerHTML+_26);};this.instantiate=function(_2b,_2c,_2d){var _2e=[],_2c=_2c||{};_2d=_2d||{};var _2f=(_2d.scope||d._scopeName)+"Type",_30="data-"+(_2d.scope||d._scopeName)+"-";d.forEach(_2b,function(obj){if(!obj){return;}var _31,_32,_33,_34,_35,_36;if(obj.node){_31=obj.node;_32=obj.type;_36=obj.fastpath;_33=obj.clsInfo||(_32&&_1f(_32,_36));_34=_33&&_33.cls;_35=obj.scripts;}else{_31=obj;_32=_2f in _2c?_2c[_2f]:_31.getAttribute(_2f);_33=_32&&_1f(_32);_34=_33&&_33.cls;_35=(_34&&(_34._noScript||_34.prototype._noScript)?[]:d.query("> script[type^='dojo/']",_31));}if(!_33){throw new Error("Could not load class '"+_32);}var _37={};if(_2d.defaults){d._mixin(_37,_2d.defaults);}if(obj.inherited){d._mixin(_37,obj.inherited);}if(_36){var _38=_31.getAttribute(_30+"props");if(_38&&_38.length){try{_38=d.fromJson.call(_2d.propsThis,"{"+_38+"}");d._mixin(_37,_38);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+_38+"'");}}var _39=_31.getAttribute(_30+"attach-point");if(_39){_37.dojoAttachPoint=_39;}var _3a=_31.getAttribute(_30+"attach-event");if(_3a){_37.dojoAttachEvent=_3a;}dojo.mixin(_37,_2c);}else{var _3b=_31.attributes;for(var _3c in _33.params){var _3d=_3c in _2c?{value:_2c[_3c],specified:true}:_3b.getNamedItem(_3c);if(!_3d||(!_3d.specified&&(!dojo.isIE||_3c.toLowerCase()!="value"))){continue;}var _3e=_3d.value;switch(_3c){case "class":_3e="className" in _2c?_2c.className:_31.className;break;case "style":_3e="style" in _2c?_2c.style:(_31.style&&_31.style.cssText);}var _3f=_33.params[_3c];if(typeof _3e=="string"){_37[_3c]=_17(_3e,_3f);}else{_37[_3c]=_3e;}}}var _40=[],_41=[];d.forEach(_35,function(_42){_31.removeChild(_42);var _43=(_42.getAttribute(_30+"event")||_42.getAttribute("event")),_32=_42.getAttribute("type"),nf=d.parser._functionFromScript(_42,_30);if(_43){if(_32=="dojo/connect"){_40.push({event:_43,func:nf});}else{_37[_43]=nf;}}else{_41.push(nf);}});var _44=_34.markupFactory||_34.prototype&&_34.prototype.markupFactory;var _45=_44?_44(_37,_31,_34):new _34(_37,_31);_2e.push(_45);var _46=(_31.getAttribute(_30+"id")||_31.getAttribute("jsId"));if(_46){d.setObject(_46,_45);}d.forEach(_40,function(_47){d.connect(_45,_47.event,null,_47.func);});d.forEach(_41,function(_48){_48.call(_45);});});if(!_2c._started){d.forEach(_2e,function(_49){if(!_2d.noStart&&_49&&dojo.isFunction(_49.startup)&&!_49._started&&(!_49.getParent||!_49.getParent())){_49.startup();}});}return _2e;};this.parse=function(_4a,_4b){var _4c;if(!_4b&&_4a&&_4a.rootNode){_4b=_4a;_4c=_4b.rootNode;}else{_4c=_4a;}_4c=_4c?dojo.byId(_4c):dojo.body();_4b=_4b||{};var _4d=(_4b.scope||d._scopeName)+"Type",_4e="data-"+(_4b.scope||d._scopeName)+"-";function _4f(_50,_51){var _52=dojo.clone(_50.inherited);dojo.forEach(["dir","lang"],function(_53){var val=_50.node.getAttribute(_53);if(val){_52[_53]=val;}});var _54=_50.clsInfo&&!_50.clsInfo.cls.prototype._noScript?_50.scripts:null;var _55=(!_50.clsInfo||!_50.clsInfo.cls.prototype.stopParser)||(_4b&&_4b.template);for(var _56=_50.node.firstChild;_56;_56=_56.nextSibling){if(_56.nodeType==1){var _57,_58=_55&&_56.getAttribute(_4e+"type");if(_58){_57=_58;}else{_57=_55&&_56.getAttribute(_4d);}var _59=_58==_57;if(_57){var _5a={"type":_57,fastpath:_59,clsInfo:_1f(_57,_59),node:_56,scripts:[],inherited:_52};_51.push(_5a);_4f(_5a,_51);}else{if(_54&&_56.nodeName.toLowerCase()=="script"){_57=_56.getAttribute("type");if(_57&&/^dojo\/\w/i.test(_57)){_54.push(_56);}}else{if(_55){_4f({node:_56,inherited:_52},_51);}}}}}};var _5b={};if(_4b&&_4b.inherited){for(var key in _4b.inherited){if(_4b.inherited[key]){_5b[key]=_4b.inherited[key];}}}var _5c=[];_4f({node:_4c,inherited:_5b},_5c);var _5d=_4b&&_4b.template?{template:true}:null;return this.instantiate(_5c,_5d,_4b);};}();(function(){var _5e=function(){if(dojo.config.parseOnLoad){dojo.parser.parse();}};if(dojo.getObject("dijit.wai.onload")===dojo._loaders[0]){dojo._loaders.splice(1,0,_5e);}else{dojo._loaders.unshift(_5e);}})();}if(!dojo._hasResource["dojo.window"]){dojo._hasResource["dojo.window"]=true;dojo.provide("dojo.window");dojo.getObject("window",true,dojo);dojo.window.getBox=function(){var _5f=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var _60=dojo._docScroll();return {w:_5f.clientWidth,h:_5f.clientHeight,l:_60.x,t:_60.y};};dojo.window.get=function(doc){if(dojo.isIE&&window!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;};dojo.window.scrollIntoView=function(_61,pos){try{_61=dojo.byId(_61);var doc=_61.ownerDocument||dojo.doc,_62=doc.body||dojo.body(),_63=doc.documentElement||_62.parentNode,_64=dojo.isIE,_65=dojo.isWebKit;if((!(dojo.isMoz||_64||_65||dojo.isOpera)||_61==_62||_61==_63)&&(typeof _61.scrollIntoView!="undefined")){_61.scrollIntoView(false);return;}var _66=doc.compatMode=="BackCompat",_67=(_64>=9&&_61.ownerDocument.parentWindow.frameElement)?((_63.clientHeight>0&&_63.clientWidth>0&&(_62.clientHeight==0||_62.clientWidth==0||_62.clientHeight>_63.clientHeight||_62.clientWidth>_63.clientWidth))?_63:_62):(_66?_62:_63),_68=_65?_62:_67,_69=_67.clientWidth,_6a=_67.clientHeight,rtl=!dojo._isBodyLtr(),_6b=pos||dojo.position(_61),el=_61.parentNode,_6c=function(el){return ((_64<=6||(_64&&_66))?false:(dojo.style(el,"position").toLowerCase()=="fixed"));};if(_6c(_61)){return;}while(el){if(el==_62){el=_68;}var _6d=dojo.position(el),_6e=_6c(el);if(el==_68){_6d.w=_69;_6d.h=_6a;if(_68==_63&&_64&&rtl){_6d.x+=_68.offsetWidth-_6d.w;}if(_6d.x<0||!_64){_6d.x=0;}if(_6d.y<0||!_64){_6d.y=0;}}else{var pb=dojo._getPadBorderExtents(el);_6d.w-=pb.w;_6d.h-=pb.h;_6d.x+=pb.l;_6d.y+=pb.t;var _6f=el.clientWidth,_70=_6d.w-_6f;if(_6f>0&&_70>0){_6d.w=_6f;_6d.x+=(rtl&&(_64||el.clientLeft>pb.l))?_70:0;}_6f=el.clientHeight;_70=_6d.h-_6f;if(_6f>0&&_70>0){_6d.h=_6f;}}if(_6e){if(_6d.y<0){_6d.h+=_6d.y;_6d.y=0;}if(_6d.x<0){_6d.w+=_6d.x;_6d.x=0;}if(_6d.y+_6d.h>_6a){_6d.h=_6a-_6d.y;}if(_6d.x+_6d.w>_69){_6d.w=_69-_6d.x;}}var l=_6b.x-_6d.x,t=_6b.y-Math.max(_6d.y,0),r=l+_6b.w-_6d.w,bot=t+_6b.h-_6d.h;if(r*l>0){var s=Math[l<0?"max":"min"](l,r);if(rtl&&((_64==8&&!_66)||_64>=9)){s=-s;}_6b.x+=el.scrollLeft;el.scrollLeft+=s;_6b.x-=el.scrollLeft;}if(bot*t>0){_6b.y+=el.scrollTop;el.scrollTop+=Math[t<0?"max":"min"](t,bot);_6b.y-=el.scrollTop;}el=(el!=_68)&&!_6e&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);_61.scrollIntoView(false);}};}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_71){if(this._hash[_71.id]){throw new Error("Tried to register widget with id=="+_71.id+" but that id is already registered");}this._hash[_71.id]=_71;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(_72,_73){_73=_73||dojo.global;var i=0,id;for(id in this._hash){_72.call(_73,this._hash[id],i++,this._hash);}return this;},filter:function(_74,_75){_75=_75||dojo.global;var res=new dijit.WidgetSet(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_74.call(_75,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new dijit.WidgetSet(),id,_76;for(id in this._hash){_76=this._hash[id];if(_76.declaredClass==cls){res.add(_76);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(_77,_78){return dojo.map(this.toArray(),_77,_78);},every:function(_79,_7a){_7a=_7a||dojo.global;var x=0,i;for(i in this._hash){if(!_79.call(_7a,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(_7b,_7c){_7c=_7c||dojo.global;var x=0,i;for(i in this._hash){if(_7b.call(_7c,this._hash[i],x++,this._hash)){return true;}}return false;}});(function(){dijit.registry=new dijit.WidgetSet();var _7d=dijit.registry._hash,_7e=dojo.attr,_7f=dojo.hasAttr,_80=dojo.style;dijit.byId=function(id){return typeof id=="string"?_7d[id]:id;};var _81={};dijit.getUniqueId=function(_82){var id;do{id=_82+"_"+(_82 in _81?++_81[_82]:_81[_82]=0);}while(_7d[id]);return dijit._scopeName=="dijit"?id:dijit._scopeName+"_"+id;};dijit.findWidgets=function(_83){var _84=[];function _85(_86){for(var _87=_86.firstChild;_87;_87=_87.nextSibling){if(_87.nodeType==1){var _88=_87.getAttribute("widgetId");if(_88){var _89=_7d[_88];if(_89){_84.push(_89);}}else{_85(_87);}}}};_85(_83);return _84;};dijit._destroyAll=function(){dijit._curFocus=null;dijit._prevFocus=null;dijit._activeStack=[];dojo.forEach(dijit.findWidgets(dojo.body()),function(_8a){if(!_8a._destroyed){if(_8a.destroyRecursive){_8a.destroyRecursive();}else{if(_8a.destroy){_8a.destroy();}}}});};if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit._destroyAll();});}dijit.byNode=function(_8b){return _7d[_8b.getAttribute("widgetId")];};dijit.getEnclosingWidget=function(_8c){while(_8c){var id=_8c.getAttribute&&_8c.getAttribute("widgetId");if(id){return _7d[id];}_8c=_8c.parentNode;}return null;};var _8d=(dijit._isElementShown=function(_8e){var s=_80(_8e);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_7e(_8e,"type")!="hidden");});dijit.hasDefaultTabStop=function(_8f){switch(_8f.nodeName.toLowerCase()){case "a":return _7f(_8f,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var _90;try{var _91=_8f.contentDocument;if("designMode" in _91&&_91.designMode=="on"){return true;}_90=_91.body;}catch(e1){try{_90=_8f.contentWindow.document.body;}catch(e2){return false;}}return _90.contentEditable=="true"||(_90.firstChild&&_90.firstChild.contentEditable=="true");default:return _8f.contentEditable=="true";}};var _92=(dijit.isTabNavigable=function(_93){if(_7e(_93,"disabled")){return false;}else{if(_7f(_93,"tabIndex")){return _7e(_93,"tabIndex")>=0;}else{return dijit.hasDefaultTabStop(_93);}}});dijit._getTabNavigable=function(_94){var _95,_96,_97,_98,_99,_9a,_9b={};function _9c(_9d){return _9d&&_9d.tagName.toLowerCase()=="input"&&_9d.type&&_9d.type.toLowerCase()=="radio"&&_9d.name&&_9d.name.toLowerCase();};var _9e=function(_9f){dojo.query("> *",_9f).forEach(function(_a0){if((dojo.isIE&&_a0.scopeName!=="HTML")||!_8d(_a0)){return;}if(_92(_a0)){var _a1=_7e(_a0,"tabIndex");if(!_7f(_a0,"tabIndex")||_a1==0){if(!_95){_95=_a0;}_96=_a0;}else{if(_a1>0){if(!_97||_a1<_98){_98=_a1;_97=_a0;}if(!_99||_a1>=_9a){_9a=_a1;_99=_a0;}}}var rn=_9c(_a0);if(dojo.attr(_a0,"checked")&&rn){_9b[rn]=_a0;}}if(_a0.nodeName.toUpperCase()!="SELECT"){_9e(_a0);}});};if(_8d(_94)){_9e(_94);}function rs(_a2){return _9b[_9c(_a2)]||_a2;};return {first:rs(_95),last:rs(_96),lowest:rs(_97),highest:rs(_99)};};dijit.getFirstInTabbingOrder=function(_a3){var _a4=dijit._getTabNavigable(dojo.byId(_a3));return _a4.lowest?_a4.lowest:_a4.first;};dijit.getLastInTabbingOrder=function(_a5){var _a6=dijit._getTabNavigable(dojo.byId(_a5));return _a6.last?_a6.last:_a6.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;})();}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return dijit.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=dojo.doc.selection,cf=dijit._curFocus;if(dojo.global.getSelection){sel=dojo.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;},moveToBookmark:function(_a7){var _a8=dojo.doc,_a9=_a7.mark;if(_a9){if(dojo.global.getSelection){var sel=dojo.global.getSelection();if(sel&&sel.removeAllRanges){if(_a9.pRange){var r=_a9;var n=r.node;n.selectionStart=r.start;n.selectionEnd=r.end;}else{sel.removeAllRanges();sel.addRange(_a9);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(_a8.selection&&_a9){var rg;if(_a9.pRange){rg=_a9.range;}else{if(dojo.isArray(_a9)){rg=_a8.body.createControlRange();dojo.forEach(_a9,function(n){rg.addElement(n);});}else{rg=_a8.body.createTextRange();rg.moveToBookmark(_a9);}}rg.select();}}}},getFocus:function(_aa,_ab){var _ac=!dijit._curFocus||(_aa&&dojo.isDescendant(dijit._curFocus,_aa.domNode))?dijit._prevFocus:dijit._curFocus;return {node:_ac,bookmark:(_ac==dijit._curFocus)&&dojo.withGlobal(_ab||dojo.global,dijit.getBookmark),openedForWindow:_ab};},focus:function(_ad){if(!_ad){return;}var _ae="node" in _ad?_ad.node:_ad,_af=_ad.bookmark,_b0=_ad.openedForWindow,_b1=_af?_af.isCollapsed:false;if(_ae){var _b2=(_ae.tagName.toLowerCase()=="iframe")?_ae.contentWindow:_ae;if(_b2&&_b2.focus){try{_b2.focus();}catch(e){}}dijit._onFocusNode(_ae);}if(_af&&dojo.withGlobal(_b0||dojo.global,dijit.isCollapsed)&&!_b1){if(_b0){_b0.focus();}try{dojo.withGlobal(_b0||dojo.global,dijit.moveToBookmark,null,[_af]);}catch(e2){}}},_activeStack:[],registerIframe:function(_b3){return dijit.registerWin(_b3.contentWindow,_b3);},unregisterIframe:function(_b4){dijit.unregisterWin(_b4);},registerWin:function(_b5,_b6){var _b7=function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);if(dojo.isIE&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}dijit._onTouchNode(_b6||evt.target||evt.srcElement,"mouse");};var doc=dojo.isIE?_b5.document.documentElement:_b5.document;if(doc){if(dojo.isIE){_b5.document.body.attachEvent("onmousedown",_b7);var _b8=function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"&&dijit.isTabNavigable(evt.srcElement)){dijit._onFocusNode(_b6||evt.srcElement);}else{dijit._onTouchNode(_b6||evt.srcElement);}};doc.attachEvent("onactivate",_b8);var _b9=function(evt){dijit._onBlurNode(_b6||evt.srcElement);};doc.attachEvent("ondeactivate",_b9);return function(){_b5.document.detachEvent("onmousedown",_b7);doc.detachEvent("onactivate",_b8);doc.detachEvent("ondeactivate",_b9);doc=null;};}else{doc.body.addEventListener("mousedown",_b7,true);var _ba=function(evt){dijit._onFocusNode(_b6||evt.target);};doc.addEventListener("focus",_ba,true);var _bb=function(evt){dijit._onBlurNode(_b6||evt.target);};doc.addEventListener("blur",_bb,true);return function(){doc.body.removeEventListener("mousedown",_b7,true);doc.removeEventListener("focus",_ba,true);doc.removeEventListener("blur",_bb,true);doc=null;};}}},unregisterWin:function(_bc){_bc&&_bc();},_onBlurNode:function(_bd){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(_be,by){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _bf=[];try{while(_be){var _c0=dojo.attr(_be,"dijitPopupParent");if(_c0){_be=dijit.byId(_c0).domNode;}else{if(_be.tagName&&_be.tagName.toLowerCase()=="body"){if(_be===dojo.body()){break;}_be=dojo.window.get(_be.ownerDocument).frameElement;}else{var id=_be.getAttribute&&_be.getAttribute("widgetId"),_c1=id&&dijit.byId(id);if(_c1&&!(by=="mouse"&&_c1.get("disabled"))){_bf.unshift(id);}_be=_be.parentNode;}}}}catch(e){}dijit._setStack(_bf,by);},_onFocusNode:function(_c2){if(!_c2){return;}if(_c2.nodeType==9){return;}dijit._onTouchNode(_c2);if(_c2==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=_c2;dojo.publish("focusNode",[_c2]);},_setStack:function(_c3,by){var _c4=dijit._activeStack;dijit._activeStack=_c3;for(var _c5=0;_c5<Math.min(_c4.length,_c3.length);_c5++){if(_c4[_c5]!=_c3[_c5]){break;}}var _c6;for(var i=_c4.length-1;i>=_c5;i--){_c6=dijit.byId(_c4[i]);if(_c6){_c6._focused=false;_c6.set("focused",false);_c6._hasBeenBlurred=true;if(_c6._onBlur){_c6._onBlur(by);}dojo.publish("widgetBlur",[_c6,by]);}}for(i=_c5;i<_c3.length;i++){_c6=dijit.byId(_c3[i]);if(_c6){_c6._focused=true;_c6.set("focused",true);if(_c6._onFocus){_c6._onFocus(by);}dojo.publish("widgetFocus",[_c6,by]);}}}});dojo.addOnLoad(function(){var _c7=dijit.registerWin(window);if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit.unregisterWin(_c7);_c7=null;});}});}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_c8){this.pairs=[];this.returnWrappers=_c8||false;};dojo.extend(dojo.AdapterRegistry,{register:function(_c9,_ca,_cb,_cc,_cd){this.pairs[((_cd)?"unshift":"push")]([_c9,_ca,_cb,_cc]);},match:function(){for(var i=0;i<this.pairs.length;i++){var _ce=this.pairs[i];if(_ce[1].apply(this,arguments)){if((_ce[3])||(this.returnWrappers)){return _ce[2];}else{return _ce[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(_cf){for(var i=0;i<this.pairs.length;i++){var _d0=this.pairs[i];if(_d0[0]==_cf){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){return dojo.window.getBox();};dijit.placeOnScreen=function(_d1,pos,_d2,_d3){var _d4=dojo.map(_d2,function(_d5){var c={corner:_d5,pos:{x:pos.x,y:pos.y}};if(_d3){c.pos.x+=_d5.charAt(1)=="L"?_d3.x:-_d3.x;c.pos.y+=_d5.charAt(0)=="T"?_d3.y:-_d3.y;}return c;});return dijit._place(_d1,_d4);};dijit._place=function(_d6,_d7,_d8,_d9){var _da=dojo.window.getBox();if(!_d6.parentNode||String(_d6.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(_d6);}var _db=null;dojo.some(_d7,function(_dc){var _dd=_dc.corner;var pos=_dc.pos;var _de=0;var _df={w:_dd.charAt(1)=="L"?(_da.l+_da.w)-pos.x:pos.x-_da.l,h:_dd.charAt(1)=="T"?(_da.t+_da.h)-pos.y:pos.y-_da.t};if(_d8){var res=_d8(_d6,_dc.aroundCorner,_dd,_df,_d9);_de=typeof res=="undefined"?0:res;}var _e0=_d6.style;var _e1=_e0.display;var _e2=_e0.visibility;_e0.visibility="hidden";_e0.display="";var mb=dojo.marginBox(_d6);_e0.display=_e1;_e0.visibility=_e2;var _e3=Math.max(_da.l,_dd.charAt(1)=="L"?pos.x:(pos.x-mb.w)),_e4=Math.max(_da.t,_dd.charAt(0)=="T"?pos.y:(pos.y-mb.h)),_e5=Math.min(_da.l+_da.w,_dd.charAt(1)=="L"?(_e3+mb.w):pos.x),_e6=Math.min(_da.t+_da.h,_dd.charAt(0)=="T"?(_e4+mb.h):pos.y),_e7=_e5-_e3,_e8=_e6-_e4;_de+=(mb.w-_e7)+(mb.h-_e8);if(_db==null||_de<_db.overflow){_db={corner:_dd,aroundCorner:_dc.aroundCorner,x:_e3,y:_e4,w:_e7,h:_e8,overflow:_de,spaceAvailable:_df};}return !_de;});if(_db.overflow&&_d8){_d8(_d6,_db.aroundCorner,_db.corner,_db.spaceAvailable,_d9);}var l=dojo._isBodyLtr(),s=_d6.style;s.top=_db.y+"px";s[l?"left":"right"]=(l?_db.x:_da.w-_db.x-_db.w)+"px";return _db;};dijit.placeOnScreenAroundNode=function(_e9,_ea,_eb,_ec){_ea=dojo.byId(_ea);var _ed=dojo.position(_ea,true);return dijit._placeOnScreenAroundRect(_e9,_ed.x,_ed.y,_ed.w,_ed.h,_eb,_ec);};dijit.placeOnScreenAroundRectangle=function(_ee,_ef,_f0,_f1){return dijit._placeOnScreenAroundRect(_ee,_ef.x,_ef.y,_ef.width,_ef.height,_f0,_f1);};dijit._placeOnScreenAroundRect=function(_f2,x,y,_f3,_f4,_f5,_f6){var _f7=[];for(var _f8 in _f5){_f7.push({aroundCorner:_f8,corner:_f5[_f8],pos:{x:x+(_f8.charAt(1)=="L"?0:_f3),y:y+(_f8.charAt(0)=="T"?0:_f4)}});}return dijit._place(_f2,_f7,_f6,{w:_f3,h:_f4});};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(_f9,_fa,_fb,_fc){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};dijit.getPopupAroundAlignment=function(_fd,_fe){var _ff={};dojo.forEach(_fd,function(pos){switch(pos){case "after":_ff[_fe?"BR":"BL"]=_fe?"BL":"BR";break;case "before":_ff[_fe?"BL":"BR"]=_fe?"BR":"BL";break;case "below-alt":_fe=!_fe;case "below":_ff[_fe?"BL":"BR"]=_fe?"TL":"TR";_ff[_fe?"BR":"BL"]=_fe?"TR":"TL";break;case "above-alt":_fe=!_fe;case "above":default:_ff[_fe?"TL":"TR"]=_fe?"BL":"BR";_ff[_fe?"TR":"TL"]=_fe?"BR":"BL";break;}});return _ff;};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){return dojo.window.get(doc);};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup={_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_100){var _101=_100.declaredClass?_100._popupWrapper:(_100.parentNode&&dojo.hasClass(_100.parentNode,"dijitPopup")),node=_100.domNode||_100;if(!_101){_101=dojo.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},dojo.body());_101.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";if(_100.declaredClass){_100._popupWrapper=_101;dojo.connect(_100,"destroy",function(){dojo.destroy(_101);delete _100._popupWrapper;});}}return _101;},moveOffScreen:function(_102){var _103=this._createWrapper(_102);dojo.style(_103,{visibility:"hidden",top:"-9999px",display:""});},hide:function(_104){var _105=this._createWrapper(_104);dojo.style(_105,"display","none");},getTopPopup:function(){var _106=this._stack;for(var pi=_106.length-1;pi>0&&_106[pi].parent===_106[pi-1].widget;pi--){}return _106[pi];},open:function(args){var _107=this._stack,_108=args.popup,_109=args.orient||((args.parent?args.parent.isLeftToRight():dojo._isBodyLtr())?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),_10a=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_107.length&&(!args.parent||!dojo.isDescendant(args.parent.domNode,_107[_107.length-1].widget.domNode))){dijit.popup.close(_107[_107.length-1].widget);}var _10b=this._createWrapper(_108);dojo.attr(_10b,{id:id,style:{zIndex:this._beginZIndex+_107.length},"class":"dijitPopup "+(_108.baseClass||_108["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(dojo.isIE||dojo.isMoz){if(!_108.bgIframe){_108.bgIframe=new dijit.BackgroundIframe(_10b);}}var best=_10a?dijit.placeOnScreenAroundElement(_10b,_10a,_109,_108.orient?dojo.hitch(_108,"orient"):null):dijit.placeOnScreen(_10b,args,_109=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_10b.style.display="";_10b.style.visibility="visible";_108.domNode.style.visibility="visible";var _10c=[];_10c.push(dojo.connect(_10b,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&args.onCancel){dojo.stopEvent(evt);args.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _10d=this.getTopPopup();if(_10d&&_10d.onCancel){_10d.onCancel();}}}}));if(_108.onCancel){_10c.push(dojo.connect(_108,"onCancel",args.onCancel));}_10c.push(dojo.connect(_108,_108.onExecute?"onExecute":"onChange",this,function(){var _10e=this.getTopPopup();if(_10e&&_10e.onExecute){_10e.onExecute();}}));_107.push({widget:_108,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_10c});if(_108.onOpen){_108.onOpen(best);}return best;},close:function(_10f){var _110=this._stack;while((_10f&&dojo.some(_110,function(elem){return elem.widget==_10f;}))||(!_10f&&_110.length)){var top=_110.pop(),_111=top.widget,_112=top.onClose;if(_111.onClose){_111.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(_111&&_111.domNode){this.hide(_111);}if(_112){_112();}}}};dijit._frames=new function(){var _113=[];this.pop=function(){var _114;if(_113.length){_114=_113.pop();_114.style.display="";}else{if(dojo.isIE<9){var burl=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var html="<iframe src='"+burl+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_114=dojo.doc.createElement(html);}else{_114=dojo.create("iframe");_114.src="javascript:\"\"";_114.className="dijitBackgroundIframe";dojo.style(_114,"opacity",0.1);}_114.tabIndex=-1;dijit.setWaiRole(_114,"presentation");}return _114;};this.push=function(_115){_115.style.display="none";_113.push(_115);};}();dijit.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(dojo.isIE||dojo.isMoz){var _116=(this.iframe=dijit._frames.pop());node.appendChild(_116);if(dojo.isIE<7||dojo.isQuirks){this.resize(node);this._conn=dojo.connect(node,"onresize",this,function(){this.resize(node);});}else{dojo.style(_116,{width:"100%",height:"100%"});}}};dojo.extend(dijit.BackgroundIframe,{resize:function(node){if(this.iframe){dojo.style(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){dojo.disconnect(this._conn);this._conn=null;}if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(node,pos){dojo.window.scrollIntoView(node,pos);};}if(!dojo._hasResource["dojo.uacss"]){dojo._hasResource["dojo.uacss"]=true;dojo.provide("dojo.uacss");(function(){var d=dojo,html=d.doc.documentElement,ie=d.isIE,_117=d.isOpera,maj=Math.floor,ff=d.isFF,_118=d.boxModel.replace(/-/,""),_119={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_ie8:maj(ie)==8,dj_ie9:maj(ie)==9,dj_quirks:d.isQuirks,dj_iequirks:ie&&d.isQuirks,dj_opera:_117,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_chrome:d.isChrome,dj_gecko:d.isMozilla,dj_ff3:maj(ff)==3};_119["dj_"+_118]=true;var _11a="";for(var clz in _119){if(_119[clz]){_11a+=clz+" ";}}html.className=d.trim(html.className+" "+_11a);dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){var _11b="dj_rtl dijitRtl "+_11a.replace(/ /g,"-rtl ");html.className=d.trim(html.className+" "+_11b);}});})();}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_11c,node,_11d,obj,_11e,_11f,_120){if(obj!=this._obj){this.stop();this._initialDelay=_11f||500;this._subsequentDelay=_11e||0.9;this._minDelay=_120||10;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_11c,_11d);this._fireEventAndReload();this._evt=dojo.mixin({faux:true},evt);}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_121,_122,_123,_124,_125,_126){if(_121.keyCode){_121.charOrCode=_121.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_121.charCode){_121.charOrCode=String.fromCharCode(_121.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(node,"onkeypress",this,function(evt){if(evt.charOrCode==_121.charOrCode&&(_121.ctrlKey===undefined||_121.ctrlKey==evt.ctrlKey)&&(_121.altKey===undefined||_121.altKey==evt.altKey)&&(_121.metaKey===undefined||_121.metaKey==(evt.metaKey||false))&&(_121.shiftKey===undefined||_121.shiftKey==evt.shiftKey)){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_122,node,_123,_121,_124,_125,_126);}else{if(dijit.typematic._obj==_121){dijit.typematic.stop();}}}),dojo.connect(node,"onkeyup",this,function(evt){if(dijit.typematic._obj==_121){dijit.typematic.stop();}})];},addMouseListener:function(node,_127,_128,_129,_12a,_12b){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_127,node,_128,node,_129,_12a,_12b);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){evt.preventDefault();}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_127,node,_128,node,_129,_12a,_12b);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_12c,_12d,_12e,_12f,_130,_131,_132,_133){return this.addKeyListener(_12d,_12e,_12f,_130,_131,_132,_133).concat(this.addMouseListener(_12c,_12f,_130,_131,_132,_133));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");"}},dojo.body());var cs=dojo.getComputedStyle(div);if(cs){var _134=cs.backgroundImage;var _135=(cs.borderTopColor==cs.borderRightColor)||(_134!=null&&(_134=="none"||_134=="url(invalid-url:)"));dojo[_135?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{hasWaiRole:function(elem,role){var _136=this.getWaiRole(elem);return role?(_136.indexOf(role)>-1):(_136.length>0);},getWaiRole:function(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){dojo.attr(elem,"role",role);},removeWaiRole:function(elem,role){var _137=dojo.attr(elem,"role");if(!_137){return;}if(role){var t=dojo.trim((" "+_137+" ").replace(" "+role+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_138){return elem.hasAttribute?elem.hasAttribute("aria-"+_138):!!elem.getAttribute("aria-"+_138);},getWaiState:function(elem,_139){return elem.getAttribute("aria-"+_139)||"";},setWaiState:function(elem,_13a,_13b){elem.setAttribute("aria-"+_13a,_13b);},removeWaiState:function(elem,_13c){elem.removeAttribute("aria-"+_13c);}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dojo.Stateful"]){dojo._hasResource["dojo.Stateful"]=true;dojo.provide("dojo.Stateful");dojo.declare("dojo.Stateful",null,{postscript:function(_13d){if(_13d){dojo.mixin(this,_13d);}},get:function(name){return this[name];},set:function(name,_13e){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _13f=this[name];this[name]=_13e;if(this._watchCallbacks){this._watchCallbacks(name,_13f,_13e);}return this;},watch:function(name,_140){var _141=this._watchCallbacks;if(!_141){var self=this;_141=this._watchCallbacks=function(name,_142,_143,_144){var _145=function(_146){if(_146){_146=_146.slice();for(var i=0,l=_146.length;i<l;i++){try{_146[i].call(self,name,_142,_143);}catch(e){console.error(e);}}}};_145(_141["_"+name]);if(!_144){_145(_141["*"]);}};}if(!_140&&typeof name==="function"){_140=name;name="*";}else{name="_"+name;}var _147=_141[name];if(typeof _147!=="object"){_147=_141[name]=[];}_147.push(_140);return {unwatch:function(){_147.splice(dojo.indexOf(_147,_140),1);}};}});}if(!dojo._hasResource["dijit._WidgetBase"]){dojo._hasResource["dijit._WidgetBase"]=true;dojo.provide("dijit._WidgetBase");(function(){dojo.declare("dijit._WidgetBase",dojo.Stateful,{id:"",lang:"",dir:"","class":"",style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")).toString(),postscript:function(_148,_149){this.create(_148,_149);},create:function(_14a,_14b){this.srcNodeRef=dojo.byId(_14b);this._connects=[];this._subscribes=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_14a){this.params=_14a;dojo._mixin(this,_14a);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _14c=this.srcNodeRef;if(_14c&&_14c.parentNode&&this.domNode!==_14c){_14c.parentNode.replaceChild(this.domNode,_14c);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _14d=function(attr,_14e){if((_14e.params&&attr in _14e.params)||_14e[attr]){_14e.set(attr,_14e[attr]);}};for(var attr in this.attributeMap){_14d(attr,this);}dojo.forEach(this._getSetterAttributes(),function(a){if(!(a in this.attributeMap)){_14d(a,this);}},this);},_getSetterAttributes:function(){var ctor=this.constructor;if(!ctor._setterAttrs){var r=(ctor._setterAttrs=[]),_14f,_150=ctor.prototype;for(var _151 in _150){if(dojo.isFunction(_150[_151])&&(_14f=_151.match(/^_set([a-zA-Z]*)Attr$/))&&_14f[1]){r.push(_14f[1].charAt(0).toLowerCase()+_14f[1].substr(1));}}}return ctor._setterAttrs;},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||dojo.create("div");}if(this.baseClass){var _152=this.baseClass.split(" ");if(!this.isLeftToRight()){_152=_152.concat(dojo.map(_152,function(name){return name+"Rtl";}));}dojo.addClass(this.domNode,_152);}},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_153){this._beingDestroyed=true;this.destroyDescendants(_153);this.destroy(_153);},destroy:function(_154){this._beingDestroyed=true;this.uninitialize();var d=dojo,dfe=d.forEach,dun=d.unsubscribe;dfe(this._connects,function(_155){dfe(_155,d.disconnect);});dfe(this._subscribes,function(_156){dun(_156);});dfe(this._supportingWidgets||[],function(w){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}});this.destroyRendering(_154);dijit.registry.remove(this.id);this._destroyed=true;},destroyRendering:function(_157){if(this.bgIframe){this.bgIframe.destroy(_157);delete this.bgIframe;}if(this.domNode){if(_157){dojo.removeAttr(this.domNode,"widgetId");}else{dojo.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_157){dojo.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_158){dojo.forEach(this.getChildren(),function(_159){if(_159.destroyRecursive){_159.destroyRecursive(_158);}});},uninitialize:function(){return false;},_setClassAttr:function(_15a){var _15b=this[this.attributeMap["class"]||"domNode"];dojo.replaceClass(_15b,_15a,this["class"]);this._set("class",_15a);},_setStyleAttr:function(_15c){var _15d=this[this.attributeMap.style||"domNode"];if(dojo.isObject(_15c)){dojo.style(_15d,_15c);}else{if(_15d.style.cssText){_15d.style.cssText+="; "+_15c;}else{_15d.style.cssText=_15c;}}this._set("style",_15c);},_attrToDom:function(attr,_15e){var _15f=this.attributeMap[attr];dojo.forEach(dojo.isArray(_15f)?_15f:[_15f],function(_160){var _161=this[_160.node||_160||"domNode"];var type=_160.type||"attribute";switch(type){case "attribute":if(dojo.isFunction(_15e)){_15e=dojo.hitch(this,_15e);}var _162=_160.attribute?_160.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);dojo.attr(_161,_162,_15e);break;case "innerText":_161.innerHTML="";_161.appendChild(dojo.doc.createTextNode(_15e));break;case "innerHTML":_161.innerHTML=_15e;break;case "class":dojo.replaceClass(_161,_15e,this[attr]);break;}},this);},get:function(name){var _163=this._getAttrNames(name);return this[_163.g]?this[_163.g]():this[name];},set:function(name,_164){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _165=this._getAttrNames(name);if(this[_165.s]){var _166=this[_165.s].apply(this,Array.prototype.slice.call(arguments,1));}else{if(name in this.attributeMap){this._attrToDom(name,_164);}this._set(name,_164);}return _166||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},_set:function(name,_167){var _168=this[name];this[name]=_167;if(this._watchCallbacks&&this._created&&_167!==_168){this._watchCallbacks(name,_168,_167);}},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){return this.containerNode?dojo.query("[widgetId]",this.containerNode).map(dijit.byNode):[];},getChildren:function(){return this.containerNode?dijit.findWidgets(this.containerNode):[];},connect:function(obj,_169,_16a){var _16b=[dojo._connect(obj,_169,this,_16a)];this._connects.push(_16b);return _16b;},disconnect:function(_16c){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_16c){dojo.forEach(_16c,dojo.disconnect);this._connects.splice(i,1);return;}}},subscribe:function(_16d,_16e){var _16f=dojo.subscribe(_16d,this,_16e);this._subscribes.push(_16f);return _16f;},unsubscribe:function(_170){for(var i=0;i<this._subscribes.length;i++){if(this._subscribes[i]==_170){dojo.unsubscribe(_170);this._subscribes.splice(i,1);return;}}},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):dojo._isBodyLtr();},placeAt:function(_171,_172){if(_171.declaredClass&&_171.addChild){_171.addChild(this,_172);}else{dojo.place(this.domNode,_171,_172);}return this;}});})();}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.connect(dojo,"_connect",function(_173,_174){if(_173&&dojo.isFunction(_173._onConnect)){_173._onConnect(_174);}});dijit._connectOnUseEventHandler=function(_175){};dijit._lastKeyDownNode=null;if(dojo.isIE){(function(){var _176=function(evt){dijit._lastKeyDownNode=evt.srcElement;};dojo.doc.attachEvent("onkeydown",_176);dojo.addOnWindowUnload(function(){dojo.doc.detachEvent("onkeydown",_176);});})();}else{dojo.doc.addEventListener("keydown",function(evt){dijit._lastKeyDownNode=evt.target;},true);}(function(){dojo.declare("dijit._Widget",dijit._WidgetBase,{_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,create:function(_177,_178){this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}this.inherited(arguments);if(this.domNode){for(attr in this.params){this._onConnect(attr);}}},_onConnect:function(_179){if(_179 in this._deferredConnects){var _17a=this[this._deferredConnects[_179]||"domNode"];this.connect(_17a,_179.toLowerCase(),_179);delete this._deferredConnects[_179];}},focused:false,isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},setAttribute:function(attr,_17b){dojo.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_17b);},attr:function(name,_17c){if(dojo.config.isDebug){var _17d=arguments.callee._ach||(arguments.callee._ach={}),_17e=(arguments.callee.caller||"unknown caller").toString();if(!_17d[_17e]){dojo.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_17e,"","2.0");_17d[_17e]=true;}}var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},nodesWithKeyClick:["input","button"],connect:function(obj,_17f,_180){var d=dojo,dc=d._connect,_181=this.inherited(arguments,[obj,_17f=="ondijitclick"?"onclick":_17f,_180]);if(_17f=="ondijitclick"){if(d.indexOf(this.nodesWithKeyClick,obj.nodeName.toLowerCase())==-1){var m=d.hitch(this,_180);_181.push(dc(obj,"onkeydown",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=e.target;if(!("openDropDown" in this&&obj==this._buttonNode)){e.preventDefault();}}}),dc(obj,"onkeyup",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&e.target==dijit._lastKeyDownNode&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=null;return m(e);}}));}}return _181;},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});})();}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.getObject("string",true,dojo);dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_182,map,_183,_184){_184=_184||dojo.global;_183=_183?dojo.hitch(_184,_183):function(v){return v;};return _182.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_185,key,_186){var _187=dojo.getObject(key,false,map);if(_186){_187=dojo.getObject(_186,false,_184).call(_184,_187,key);}return _183(_187,key).toString();});};dojo.string.trim=String.prototype.trim?dojo.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.cache"]){dojo._hasResource["dojo.cache"]=true;dojo.provide("dojo.cache");var cache={};dojo.cache=function(_188,url,_189){if(typeof _188=="string"){var _18a=dojo.moduleUrl(_188,url);}else{_18a=_188;_189=url;}var key=_18a.toString();var val=_189;if(_189!=undefined&&!dojo.isString(_189)){val=("value" in _189?_189.value:undefined);}var _18b=_189&&_189.sanitize?true:false;if(typeof val=="string"){val=cache[key]=_18b?dojo.cache._sanitize(val):val;}else{if(val===null){delete cache[key];}else{if(!(key in cache)){val=dojo._getText(key);cache[key]=_18b?dojo.cache._sanitize(val):val;}val=cache[key];}}return val;};dojo.cache._sanitize=function(val){if(val){val=val.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _18c=val.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_18c){val=_18c[1];}}else{val="";}return val;};}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];this._attachEvents=[];},_stringRepl:function(tmpl){var _18d=this.declaredClass,_18e=this;return dojo.string.substitute(tmpl,this,function(_18f,key){if(key.charAt(0)=="!"){_18f=dojo.getObject(key.substr(1),false,_18e);}if(typeof _18f=="undefined"){throw new Error(_18d+" template:"+key);}if(_18f==null){return "";}return key.charAt(0)=="!"?_18f:_18f.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _190=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_190)){node=dojo._toDom(this._stringRepl(_190));if(node.nodeType!=1){throw new Error("Invalid template: "+_190);}}else{node=_190.cloneNode(true);}this.domNode=node;this.inherited(arguments);this._attachTemplateNodes(node);if(this.widgetsInTemplate){var cw=(this._startupWidgets=dojo.parser.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang},propsThis:this,scope:"dojo"}));this._supportingWidgets=dijit.findWidgets(node);this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function(_191){var dest=this.containerNode;if(_191&&dest){while(_191.hasChildNodes()){dest.appendChild(_191.firstChild);}}},_attachTemplateNodes:function(_192,_193){_193=_193||function(n,p){return n.getAttribute(p);};var _194=dojo.isArray(_192)?_192:(_192.all||_192.getElementsByTagName("*"));var x=dojo.isArray(_192)?0:-1;for(;x<_194.length;x++){var _195=(x==-1)?_192:_194[x];if(this.widgetsInTemplate&&(_193(_195,"dojoType")||_193(_195,"data-dojo-type"))){continue;}var _196=_193(_195,"dojoAttachPoint")||_193(_195,"data-dojo-attach-point");if(_196){var _197,_198=_196.split(/\s*,\s*/);while((_197=_198.shift())){if(dojo.isArray(this[_197])){this[_197].push(_195);}else{this[_197]=_195;}this._attachPoints.push(_197);}}var _199=_193(_195,"dojoAttachEvent")||_193(_195,"data-dojo-attach-event");if(_199){var _19a,_19b=_199.split(/\s*,\s*/);var trim=dojo.trim;while((_19a=_19b.shift())){if(_19a){var _19c=null;if(_19a.indexOf(":")!=-1){var _19d=_19a.split(":");_19a=trim(_19d[0]);_19c=trim(_19d[1]);}else{_19a=trim(_19a);}if(!_19c){_19c=_19a;}this._attachEvents.push(this.connect(_195,_19a,_19c));}}}var role=_193(_195,"waiRole");if(role){dijit.setWaiRole(_195,role);}var _19e=_193(_195,"waiState");if(_19e){dojo.forEach(_19e.split(/\s*,\s*/),function(_19f){if(_19f.indexOf("-")!=-1){var pair=_19f.split("-");dijit.setWaiState(_195,pair[0],pair[1]);}});}}},startup:function(){dojo.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);},destroyRendering:function(){dojo.forEach(this._attachPoints,function(_1a0){delete this[_1a0];},this);this._attachPoints=[];dojo.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_1a1,_1a2,_1a3){var _1a4=dijit._Templated._templateCache;var key=_1a2||_1a1;var _1a5=_1a4[key];if(_1a5){try{if(!_1a5.ownerDocument||_1a5.ownerDocument==dojo.doc){return _1a5;}}catch(e){}dojo.destroy(_1a5);}if(!_1a2){_1a2=dojo.cache(_1a1,{sanitize:true});}_1a2=dojo.string.trim(_1a2);if(_1a3||_1a2.match(/\$\{([^\}]+)\}/g)){return (_1a4[key]=_1a2);}else{var node=dojo._toDom(_1a2);if(node.nodeType!=1){throw new Error("Invalid template: "+_1a2);}return (_1a4[key]=node);}};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _1a6=dijit._Templated._templateCache;for(var key in _1a6){var _1a7=_1a6[key];if(typeof _1a7=="object"){dojo.destroy(_1a7);}delete _1a6[key];}});}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_1a8,_1a9){var _1aa=this.containerNode;if(_1a9&&typeof _1a9=="number"){var _1ab=this.getChildren();if(_1ab&&_1ab.length>=_1a9){_1aa=_1ab[_1a9-1].domNode;_1a9="after";}}dojo.place(_1a8.domNode,_1aa,_1a9);if(this._started&&!_1a8._started){_1a8.startup();}},removeChild:function(_1ac){if(typeof _1ac=="number"){_1ac=this.getChildren()[_1ac];}if(_1ac){var node=_1ac.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},destroyDescendants:function(_1ad){dojo.forEach(this.getChildren(),function(_1ae){_1ae.destroyRecursive(_1ad);});},_getSiblingOfChild:function(_1af,dir){var node=_1af.domNode,_1b0=(dir>0?"nextSibling":"previousSibling");do{node=node[_1b0];}while(node&&(node.nodeType!=1||!dijit.byNode(node)));return node&&dijit.byNode(node);},getIndexOfChild:function(_1b1){return dojo.indexOf(this.getChildren(),_1b1);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_1b2){_1b2.startup();});this.inherited(arguments);}});}if(!dojo._hasResource["dijit._Contained"]){dojo._hasResource["dijit._Contained"]=true;dojo.provide("dijit._Contained");dojo.declare("dijit._Contained",null,{getParent:function(){var _1b3=dijit.getEnclosingWidget(this.domNode.parentNode);return _1b3&&_1b3.isContainer?_1b3:null;},_getSibling:function(_1b4){var node=this.domNode;do{node=node[_1b4+"Sibling"];}while(node&&node.nodeType!=1);return node&&dijit.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});}if(!dojo._hasResource["dijit.layout._LayoutWidget"]){dojo._hasResource["dijit.layout._LayoutWidget"]=true;dojo.provide("dijit.layout._LayoutWidget");dojo.declare("dijit.layout._LayoutWidget",[dijit._Widget,dijit._Container,dijit._Contained],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _1b5=this.getParent&&this.getParent();if(!(_1b5&&_1b5.isLayoutContainer)){this.resize();this.connect(dojo.isIE?this.domNode:dojo.global,"onresize",function(){this.resize();});}},resize:function(_1b6,_1b7){var node=this.domNode;if(_1b6){dojo.marginBox(node,_1b6);if(_1b6.t){node.style.top=_1b6.t+"px";}if(_1b6.l){node.style.left=_1b6.l+"px";}}var mb=_1b7||{};dojo.mixin(mb,_1b6||{});if(!("h" in mb)||!("w" in mb)){mb=dojo.mixin(dojo.marginBox(node),mb);}var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var be=dojo._getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=dojo._getPadExtents(node,cs);this._contentBox={l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_1b8){var cls=this.baseClass+"-child "+(_1b8.baseClass?this.baseClass+"-"+_1b8.baseClass:"");dojo.addClass(_1b8.domNode,cls);},addChild:function(_1b9,_1ba){this.inherited(arguments);if(this._started){this._setupChild(_1b9);}},removeChild:function(_1bb){var cls=this.baseClass+"-child"+(_1bb.baseClass?" "+this.baseClass+"-"+_1bb.baseClass:"");dojo.removeClass(_1bb.domNode,cls);this.inherited(arguments);}});dijit.layout.marginBox2contentBox=function(node,mb){var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var pb=dojo._getPadBorderExtents(node,cs);return {l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};(function(){var _1bc=function(word){return word.substring(0,1).toUpperCase()+word.substring(1);};var size=function(_1bd,dim){var _1be=_1bd.resize?_1bd.resize(dim):dojo.marginBox(_1bd.domNode,dim);if(_1be){dojo.mixin(_1bd,_1be);}else{dojo.mixin(_1bd,dojo.marginBox(_1bd.domNode));dojo.mixin(_1bd,dim);}};dijit.layout.layoutChildren=function(_1bf,dim,_1c0,_1c1,_1c2){dim=dojo.mixin({},dim);dojo.addClass(_1bf,"dijitLayoutContainer");_1c0=dojo.filter(_1c0,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(dojo.filter(_1c0,function(item){return item.region=="center"||item.layoutAlign=="client";}));dojo.forEach(_1c0,function(_1c3){var elm=_1c3.domNode,pos=(_1c3.region||_1c3.layoutAlign);var _1c4=elm.style;_1c4.left=dim.l+"px";_1c4.top=dim.t+"px";_1c4.position="absolute";dojo.addClass(elm,"dijitAlign"+_1bc(pos));var _1c5={};if(_1c1&&_1c1==_1c3.id){_1c5[_1c3.region=="top"||_1c3.region=="bottom"?"h":"w"]=_1c2;}if(pos=="top"||pos=="bottom"){_1c5.w=dim.w;size(_1c3,_1c5);dim.h-=_1c3.h;if(pos=="top"){dim.t+=_1c3.h;}else{_1c4.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_1c5.h=dim.h;size(_1c3,_1c5);dim.w-=_1c3.w;if(pos=="left"){dim.l+=_1c3.w;}else{_1c4.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(_1c3,dim);}}}});};})();}if(!dojo._hasResource["dijit._CssStateMixin"]){dojo._hasResource["dijit._CssStateMixin"]=true;dojo.provide("dijit._CssStateMixin");dojo.declare("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);dojo.forEach(["onmouseenter","onmouseleave","onmousedown"],function(e){this.connect(this.domNode,e,"_cssMouseEvent");},this);dojo.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active"],function(attr){this.watch(attr,dojo.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._setStateClass();},_cssMouseEvent:function(_1c6){if(!this.disabled){switch(_1c6.type){case "mouseenter":case "mouseover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseleave":case "mouseout":this._set("hovering",false);this._set("active",false);break;case "mousedown":this._set("active",true);this._mouseDown=true;var _1c7=this.connect(dojo.body(),"onmouseup",function(){this._mouseDown=false;this._set("active",false);this.disconnect(_1c7);});break;}}},_setStateClass:function(){var _1c8=this.baseClass.split(" ");function _1c9(_1ca){_1c8=_1c8.concat(dojo.map(_1c8,function(c){return c+_1ca;}),"dijit"+_1ca);};if(!this.isLeftToRight()){_1c9("Rtl");}if(this.checked){_1c9("Checked");}if(this.state){_1c9(this.state);}if(this.selected){_1c9("Selected");}if(this.disabled){_1c9("Disabled");}else{if(this.readOnly){_1c9("ReadOnly");}else{if(this.active){_1c9("Active");}else{if(this.hovering){_1c9("Hover");}}}}if(this._focused){_1c9("Focused");}var tn=this.stateNode||this.domNode,_1cb={};dojo.forEach(tn.className.split(" "),function(c){_1cb[c]=true;});if("_stateClasses" in this){dojo.forEach(this._stateClasses,function(c){delete _1cb[c];});}dojo.forEach(_1c8,function(c){_1cb[c]=true;});var _1cc=[];for(var c in _1cb){_1cc.push(c);}tn.className=_1cc.join(" ");this._stateClasses=_1c8;},_trackMouseState:function(node,_1cd){var _1ce=false,_1cf=false,_1d0=false;var self=this,cn=dojo.hitch(this,"connect",node);function _1d1(){var _1d2=("disabled" in self&&self.disabled)||("readonly" in self&&self.readonly);dojo.toggleClass(node,_1cd+"Hover",_1ce&&!_1cf&&!_1d2);dojo.toggleClass(node,_1cd+"Active",_1cf&&!_1d2);dojo.toggleClass(node,_1cd+"Focused",_1d0&&!_1d2);};cn("onmouseenter",function(){_1ce=true;_1d1();});cn("onmouseleave",function(){_1ce=false;_1cf=false;_1d1();});cn("onmousedown",function(){_1cf=true;_1d1();});cn("onmouseup",function(){_1cf=false;_1d1();});cn("onfocus",function(){_1d0=true;_1d1();});cn("onblur",function(){_1d0=false;_1d1();});this.watch("disabled",_1d1);this.watch("readOnly",_1d1);}});}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated,dijit._CssStateMixin],{name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{value:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode",title:"focusNode"}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name=\""+this.name.replace(/'/g,"&quot;")+"\""):"";this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onmousedown","_onMouseDown");},_setDisabledAttr:function(_1d3){this._set("disabled",_1d3);dojo.attr(this.focusNode,"disabled",_1d3);if(this.valueNode){dojo.attr(this.valueNode,"disabled",_1d3);}dijit.setWaiState(this.focusNode,"disabled",_1d3);if(_1d3){this._set("hovering",false);this._set("active",false);var _1d4="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:"focusNode";dojo.forEach(dojo.isArray(_1d4)?_1d4:[_1d4],function(_1d5){var node=this[_1d5];if(dojo.isWebKit||dijit.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.focusNode.setAttribute("tabIndex",this.tabIndex);}}},setDisabled:function(_1d6){dojo.deprecated("setDisabled("+_1d6+") is deprecated. Use set('disabled',"+_1d6+") instead.","","2.0");this.set("disabled",_1d6);},_onFocus:function(e){if(this.scrollOnFocus){dojo.window.scrollIntoView(this.domNode);}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(dojo.style(this.domNode,"display")!="none");},focus:function(){if(!this.disabled){dijit.focus(this.focusNode);}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(_1d7){},_onChangeActive:false,_handleOnChange:function(_1d8,_1d9){if(this._lastValueReported==undefined&&(_1d9===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_1d8;}this._pendingOnChange=this._pendingOnChange||(typeof _1d8!=typeof this._lastValueReported)||(this.compare(_1d8,this._lastValueReported)!=0);if((this.intermediateChanges||_1d9||_1d9===undefined)&&this._pendingOnChange){this._lastValueReported=_1d8;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);}this._onChangeHandle=setTimeout(dojo.hitch(this,function(){this._onChangeHandle=null;this.onChange(_1d8);}),0);}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);this.onChange(this._lastValueReported);}this.inherited(arguments);},setValue:function(_1da){dojo.deprecated("dijit.form._FormWidget:setValue("+_1da+") is deprecated.  Use set('value',"+_1da+") instead.","","2.0");this.set("value",_1da);},getValue:function(){dojo.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_onMouseDown:function(e){if(!e.ctrlKey&&dojo.mouseButtons.isLeft(e)&&this.isFocusable()){var _1db=this.connect(dojo.body(),"onmouseup",function(){if(this.isFocusable()){this.focus();}this.disconnect(_1db);});}}});dojo.declare("dijit.form._FormValueWidget",dijit.form._FormWidget,{readOnly:false,attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:"",readOnly:"focusNode"}),_setReadOnlyAttr:function(_1dc){dojo.attr(this.focusNode,"readOnly",_1dc);dijit.setWaiState(this.focusNode,"readonly",_1dc);this._set("readOnly",_1dc);},postCreate:function(){this.inherited(arguments);if(dojo.isIE<9||(dojo.isIE&&dojo.isQuirks)){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_1dd,_1de){this._handleOnChange(_1dd,_1de);},_handleOnChange:function(_1df,_1e0){this._set("value",_1df);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==dojo.keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){var te;if(dojo.isIE){e.preventDefault();te=document.createEventObject();te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}}},_layoutHackIE7:function(){if(dojo.isIE==7){var _1e1=this.domNode;var _1e2=_1e1.parentNode;var _1e3=_1e1.firstChild||_1e1;var _1e4=_1e3.style.filter;var _1e5=this;while(_1e2&&_1e2.clientHeight==0){(function ping(){var _1e6=_1e5.connect(_1e2,"onscroll",function(e){_1e5.disconnect(_1e6);_1e3.style.filter=(new Date()).getMilliseconds();setTimeout(function(){_1e3.style.filter=_1e4;},0);});})();_1e2=_1e2.parentNode;}}}});}if(!dojo._hasResource["dijit.dijit"]){dojo._hasResource["dijit.dijit"]=true;dojo.provide("dijit.dijit");}if(!dojo._hasResource["dojo.colors"]){dojo._hasResource["dojo.colors"]=true;dojo.provide("dojo.colors");dojo.getObject("colors",true,dojo);(function(){var _1e7=function(m1,m2,h){if(h<0){++h;}if(h>1){--h;}var h6=6*h;if(h6<1){return m1+(m2-m1)*h6;}if(2*h<1){return m2;}if(3*h<2){return m1+(m2-m1)*(2/3-h)*6;}return m1;};dojo.colorFromRgb=function(_1e8,obj){var m=_1e8.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(m){var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1],a;if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){var r=c[0];if(r.charAt(r.length-1)=="%"){a=dojo.map(c,function(x){return parseFloat(x)*2.56;});if(l==4){a[3]=c[3];}return dojo.colorFromArray(a,obj);}return dojo.colorFromArray(c,obj);}if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2;a=[_1e7(m1,m2,H+1/3)*256,_1e7(m1,m2,H)*256,_1e7(m1,m2,H-1/3)*256,1];if(l==4){a[3]=c[3];}return dojo.colorFromArray(a,obj);}}return null;};var _1e9=function(c,low,high){c=Number(c);return isNaN(c)?high:c<low?low:c>high?high:c;};dojo.Color.prototype.sanitize=function(){var t=this;t.r=Math.round(_1e9(t.r,0,255));t.g=Math.round(_1e9(t.g,0,255));t.b=Math.round(_1e9(t.b,0,255));t.a=_1e9(t.a,0,1);return this;};})();dojo.colors.makeGrey=function(g,a){return dojo.colorFromArray([g,g,g,a]);};dojo.mixin(dojo.Color.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],transparent:[0,0,0,0],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.getObject("i18n",true,dojo);dojo.i18n.getLocalization=dojo.i18n.getLocalization||function(_1ea,_1eb,_1ec){_1ec=dojo.i18n.normalizeLocale(_1ec);var _1ed=_1ec.split("-");var _1ee=[_1ea,"nls",_1eb].join(".");var _1ef=dojo._loadedModules[_1ee];if(_1ef){var _1f0;for(var i=_1ed.length;i>0;i--){var loc=_1ed.slice(0,i).join("_");if(_1ef[loc]){_1f0=_1ef[loc];break;}}if(!_1f0){_1f0=_1ef.ROOT;}if(_1f0){var _1f1=function(){};_1f1.prototype=_1f0;return new _1f1();}}throw new Error("Bundle not found: "+_1eb+" in "+_1ea+" , locale="+_1ec);};dojo.i18n.normalizeLocale=function(_1f2){var _1f3=_1f2?_1f2.toLowerCase():dojo.locale;if(_1f3=="root"){_1f3="ROOT";}return _1f3;};dojo.i18n._requireLocalization=function(_1f4,_1f5,_1f6,_1f7){var _1f8=dojo.i18n.normalizeLocale(_1f6);var _1f9=[_1f4,"nls",_1f5].join(".");var _1fa="";if(_1f7){var _1fb=_1f7.split(",");for(var i=0;i<_1fb.length;i++){if(_1f8["indexOf"](_1fb[i])==0){if(_1fb[i].length>_1fa.length){_1fa=_1fb[i];}}}if(!_1fa){_1fa="ROOT";}}var _1fc=_1f7?_1fa:_1f8;var _1fd=dojo._loadedModules[_1f9];var _1fe=null;if(_1fd){if(dojo.config.localizationComplete&&_1fd._built){return;}var _1ff=_1fc.replace(/-/g,"_");var _200=_1f9+"."+_1ff;_1fe=dojo._loadedModules[_200];}if(!_1fe){_1fd=dojo["provide"](_1f9);var syms=dojo._getModuleSymbols(_1f4);var _201=syms.concat("nls").join("/");var _202;dojo.i18n._searchLocalePath(_1fc,_1f7,function(loc){var _203=loc.replace(/-/g,"_");var _204=_1f9+"."+_203;var _205=false;if(!dojo._loadedModules[_204]){dojo["provide"](_204);var _206=[_201];if(loc!="ROOT"){_206.push(loc);}_206.push(_1f5);var _207=_206.join("/")+".js";_205=dojo._loadPath(_207,null,function(hash){hash=hash.root||hash;var _208=function(){};_208.prototype=_202;_1fd[_203]=new _208();for(var j in hash){_1fd[_203][j]=hash[j];}});}else{_205=true;}if(_205&&_1fd[_203]){_202=_1fd[_203];}else{_1fd[_203]=_202;}if(_1f7){return true;}});}if(_1f7&&_1f8!=_1fa){_1fd[_1f8.replace(/-/g,"_")]=_1fd[_1fa.replace(/-/g,"_")];}};(function(){var _209=dojo.config.extraLocale;if(_209){if(!_209 instanceof Array){_209=[_209];}var req=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(m,b,_20a,_20b){req(m,b,_20a,_20b);if(_20a){return;}for(var i=0;i<_209.length;i++){req(m,b,_209[i],_20b);}};}})();dojo.i18n._searchLocalePath=function(_20c,down,_20d){_20c=dojo.i18n.normalizeLocale(_20c);var _20e=_20c.split("-");var _20f=[];for(var i=_20e.length;i>0;i--){_20f.push(_20e.slice(0,i).join("-"));}_20f.push(false);if(down){_20f.reverse();}for(var j=_20f.length-1;j>=0;j--){var loc=_20f[j]||"ROOT";var stop=_20d(loc);if(stop){break;}}};dojo.i18n._preloadLocalizations=function(_210,_211){function _212(_213){_213=dojo.i18n.normalizeLocale(_213);dojo.i18n._searchLocalePath(_213,true,function(loc){for(var i=0;i<_211.length;i++){if(_211[i]==loc){dojo["require"](_210+"_"+loc);return true;}}return false;});};_212();var _214=dojo.config.extraLocale||[];for(var i=0;i<_214.length;i++){_212(_214[i]);}};}if(!dojo._hasResource["dijit._PaletteMixin"]){dojo._hasResource["dijit._PaletteMixin"]=true;dojo.provide("dijit._PaletteMixin");dojo.declare("dijit._PaletteMixin",[dijit._CssStateMixin],{defaultTimeout:500,timeoutChangeRate:0.9,value:null,_selectedCell:-1,tabIndex:"0",cellClass:"dijitPaletteCell",dyeClass:"",_preparePalette:function(_215,_216,_217){this._cells=[];var url=this._blankGif;_217=_217||dojo.getObject(this.dyeClass);for(var row=0;row<_215.length;row++){var _218=dojo.create("tr",{tabIndex:"-1"},this.gridNode);for(var col=0;col<_215[row].length;col++){var _219=_215[row][col];if(_219){var _21a=new _217(_219,row,col);var _21b=dojo.create("td",{"class":this.cellClass,tabIndex:"-1",title:_216[_219]});_21a.fillCell(_21b,url);this.connect(_21b,"ondijitclick","_onCellClick");this._trackMouseState(_21b,this.cellClass);dojo.place(_21b,_218);_21b.index=this._cells.length;this._cells.push({node:_21b,dye:_21a});}}}this._xDim=_215[0].length;this._yDim=_215.length;var _21c={UP_ARROW:-this._xDim,DOWN_ARROW:this._xDim,RIGHT_ARROW:this.isLeftToRight()?1:-1,LEFT_ARROW:this.isLeftToRight()?-1:1};for(var key in _21c){this._connects.push(dijit.typematic.addKeyListener(this.domNode,{charOrCode:dojo.keys[key],ctrlKey:false,altKey:false,shiftKey:false},this,function(){var _21d=_21c[key];return function(_21e){this._navigateByKey(_21d,_21e);};}(),this.timeoutChangeRate,this.defaultTimeout));}},postCreate:function(){this.inherited(arguments);this._setCurrent(this._cells[0].node);},focus:function(){dijit.focus(this._currentFocus);},_onCellClick:function(evt){var _21f=evt.currentTarget,_220=this._getDye(_21f).getValue();this._setCurrent(_21f);setTimeout(dojo.hitch(this,function(){dijit.focus(_21f);this._setValueAttr(_220,true);}));dojo.removeClass(_21f,"dijitPaletteCellHover");dojo.stopEvent(evt);},_setCurrent:function(node){if("_currentFocus" in this){dojo.attr(this._currentFocus,"tabIndex","-1");}this._currentFocus=node;if(node){dojo.attr(node,"tabIndex",this.tabIndex);}},_setValueAttr:function(_221,_222){if(this._selectedCell>=0){dojo.removeClass(this._cells[this._selectedCell].node,"dijitPaletteCellSelected");}this._selectedCell=-1;if(_221){for(var i=0;i<this._cells.length;i++){if(_221==this._cells[i].dye.getValue()){this._selectedCell=i;dojo.addClass(this._cells[i].node,"dijitPaletteCellSelected");break;}}}this._set("value",this._selectedCell>=0?_221:null);if(_222||_222===undefined){this.onChange(_221);}},onChange:function(_223){},_navigateByKey:function(_224,_225){if(_225==-1){return;}var _226=this._currentFocus.index+_224;if(_226<this._cells.length&&_226>-1){var _227=this._cells[_226].node;this._setCurrent(_227);setTimeout(dojo.hitch(dijit,"focus",_227),0);}},_getDye:function(cell){return this._cells[cell.index].dye;}});}if(!dojo._hasResource["dijit.ColorPalette"]){dojo._hasResource["dijit.ColorPalette"]=true;dojo.provide("dijit.ColorPalette");dojo.declare("dijit.ColorPalette",[dijit._Widget,dijit._Templated,dijit._PaletteMixin],{palette:"7x10",_palettes:{"7x10":[["white","seashell","cornsilk","lemonchiffon","lightyellow","palegreen","paleturquoise","lightcyan","lavender","plum"],["lightgray","pink","bisque","moccasin","khaki","lightgreen","lightseagreen","lightskyblue","cornflowerblue","violet"],["silver","lightcoral","sandybrown","orange","palegoldenrod","chartreuse","mediumturquoise","skyblue","mediumslateblue","orchid"],["gray","red","orangered","darkorange","yellow","limegreen","darkseagreen","royalblue","slateblue","mediumorchid"],["dimgray","crimson","chocolate","coral","gold","forestgreen","seagreen","blue","blueviolet","darkorchid"],["darkslategray","firebrick","saddlebrown","sienna","olive","green","darkcyan","mediumblue","darkslateblue","darkmagenta"],["black","darkred","maroon","brown","darkolivegreen","darkgreen","midnightblue","navy","indigo","purple"]],"3x4":[["white","lime","green","blue"],["silver","yellow","fuchsia","navy"],["gray","red","purple","black"]]},templateString:dojo.cache("dijit","templates/ColorPalette.html","<div class=\"dijitInline dijitColorPalette\">\n\t<table class=\"dijitPaletteTable\" cellSpacing=\"0\" cellPadding=\"0\">\n\t\t<tbody dojoAttachPoint=\"gridNode\"></tbody>\n\t</table>\n</div>\n"),baseClass:"dijitColorPalette",buildRendering:function(){this.inherited(arguments);this._preparePalette(this._palettes[this.palette],dojo.i18n.getLocalization("dojo","colors",this.lang),dojo.declare(dijit._Color,{hc:dojo.hasClass(dojo.body(),"dijit_a11y"),palette:this.palette}));}});dojo.declare("dijit._Color",dojo.Color,{template:"<span class='dijitInline dijitPaletteImg'>"+"<img src='${blankGif}' alt='${alt}' class='dijitColorPaletteSwatch' style='background-color: ${color}'/>"+"</span>",hcTemplate:"<span class='dijitInline dijitPaletteImg' style='position: relative; overflow: hidden; height: 12px; width: 14px;'>"+"<img src='${image}' alt='${alt}' style='position: absolute; left: ${left}px; top: ${top}px; ${size}'/>"+"</span>",_imagePaths:{"7x10":dojo.moduleUrl("dijit.themes","a11y/colors7x10.png"),"3x4":dojo.moduleUrl("dijit.themes","a11y/colors3x4.png")},constructor:function(_228,row,col){this._alias=_228;this._row=row;this._col=col;this.setColor(dojo.Color.named[_228]);},getValue:function(){return this.toHex();},fillCell:function(cell,_229){var html=dojo.string.substitute(this.hc?this.hcTemplate:this.template,{color:this.toHex(),blankGif:_229,alt:this._alias,image:this._imagePaths[this.palette].toString(),left:this._col*-20-5,top:this._row*-20-5,size:this.palette=="7x10"?"height: 145px; width: 206px":"height: 64px; width: 86px"});dojo.place(html,cell);}});}if(!dojo._hasResource["dijit.Declaration"]){dojo._hasResource["dijit.Declaration"]=true;dojo.provide("dijit.Declaration");dojo.declare("dijit.Declaration",dijit._Widget,{_noScript:true,stopParser:true,widgetClass:"",defaults:null,mixins:[],buildRendering:function(){var src=this.srcNodeRef.parentNode.removeChild(this.srcNodeRef),_22a=dojo.query("> script[type^='dojo/method']",src).orphan(),_22b=dojo.query("> script[type^='dojo/connect']",src).orphan(),_22c=src.nodeName;var _22d=this.defaults||{};dojo.forEach(_22a,function(s){var evt=s.getAttribute("event")||s.getAttribute("data-dojo-event"),func=dojo.parser._functionFromScript(s);if(evt){_22d[evt]=func;}else{_22b.push(s);}});this.mixins=this.mixins.length?dojo.map(this.mixins,function(name){return dojo.getObject(name);}):[dijit._Widget,dijit._Templated];_22d.widgetsInTemplate=true;_22d._skipNodeCache=true;_22d.templateString="<"+_22c+" class='"+src.className+"' dojoAttachPoint='"+(src.getAttribute("dojoAttachPoint")||"")+"' dojoAttachEvent='"+(src.getAttribute("dojoAttachEvent")||"")+"' >"+src.innerHTML.replace(/\%7B/g,"{").replace(/\%7D/g,"}")+"</"+_22c+">";dojo.query("[dojoType]",src).forEach(function(node){node.removeAttribute("dojoType");});var wc=dojo.declare(this.widgetClass,this.mixins,_22d);dojo.forEach(_22b,function(s){var evt=s.getAttribute("event")||s.getAttribute("data-dojo-event")||"postscript",func=dojo.parser._functionFromScript(s);dojo.connect(wc.prototype,evt,func);});}});}if(!dojo._hasResource["dojo.dnd.common"]){dojo._hasResource["dojo.dnd.common"]=true;dojo.provide("dojo.dnd.common");dojo.getObject("dnd",true,dojo);dojo.dnd.getCopyKeyState=dojo.isCopyKey;dojo.dnd._uniqueId=0;dojo.dnd.getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++dojo.dnd._uniqueId);}while(dojo.byId(id));return id;};dojo.dnd._empty={};dojo.dnd.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};}if(!dojo._hasResource["dojo.dnd.autoscroll"]){dojo._hasResource["dojo.dnd.autoscroll"]=true;dojo.provide("dojo.dnd.autoscroll");dojo.getObject("dnd",true,dojo);dojo.dnd.getViewport=dojo.window.getBox;dojo.dnd.V_TRIGGER_AUTOSCROLL=32;dojo.dnd.H_TRIGGER_AUTOSCROLL=32;dojo.dnd.V_AUTOSCROLL_VALUE=16;dojo.dnd.H_AUTOSCROLL_VALUE=16;dojo.dnd.autoScroll=function(e){var v=dojo.window.getBox(),dx=0,dy=0;if(e.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=-dojo.dnd.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=dojo.dnd.H_AUTOSCROLL_VALUE;}}if(e.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=-dojo.dnd.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=dojo.dnd.V_AUTOSCROLL_VALUE;}}window.scrollBy(dx,dy);};dojo.dnd._validNodes={"div":1,"p":1,"td":1};dojo.dnd._validOverflow={"auto":1,"scroll":1};dojo.dnd.autoScrollNodes=function(e){for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in dojo.dnd._validNodes)){var s=dojo.getComputedStyle(n);if(s.overflow.toLowerCase() in dojo.dnd._validOverflow){var b=dojo._getContentBox(n,s),t=dojo.position(n,true);var w=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,b.w/2),h=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,b.h/2),rx=e.pageX-t.x,ry=e.pageY-t.y,dx=0,dy=0;if(dojo.isWebKit||dojo.isOpera){rx+=dojo.body().scrollLeft;ry+=dojo.body().scrollTop;}if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}}if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}}var _22e=n.scrollLeft,_22f=n.scrollTop;n.scrollLeft=n.scrollLeft+dx;n.scrollTop=n.scrollTop+dy;if(_22e!=n.scrollLeft||_22f!=n.scrollTop){return;}}}try{n=n.parentNode;}catch(x){n=null;}}dojo.dnd.autoScroll(e);};}if(!dojo._hasResource["dojo.dnd.Mover"]){dojo._hasResource["dojo.dnd.Mover"]=true;dojo.provide("dojo.dnd.Mover");dojo.declare("dojo.dnd.Mover",null,{constructor:function(node,e,host){this.node=dojo.byId(node);var pos=e.touches?e.touches[0]:e;this.marginBox={l:pos.pageX,t:pos.pageY};this.mouseButton=e.button;var h=(this.host=host),d=node.ownerDocument;this.events=[dojo.connect(d,"onmousemove",this,"onFirstMove"),dojo.connect(d,"ontouchmove",this,"onFirstMove"),dojo.connect(d,"onmousemove",this,"onMouseMove"),dojo.connect(d,"ontouchmove",this,"onMouseMove"),dojo.connect(d,"onmouseup",this,"onMouseUp"),dojo.connect(d,"ontouchend",this,"onMouseUp"),dojo.connect(d,"ondragstart",dojo.stopEvent),dojo.connect(d.body,"onselectstart",dojo.stopEvent)];if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){dojo.dnd.autoScroll(e);var m=this.marginBox,pos=e.touches?e.touches[0]:e;this.host.onMove(this,{l:m.l+pos.pageX,t:m.t+pos.pageY},e);dojo.stopEvent(e);},onMouseUp:function(e){if(dojo.isWebKit&&dojo.isMac&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}dojo.stopEvent(e);},onFirstMove:function(e){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left))||0;t=Math.round(parseFloat(s.top))||0;break;default:s.position="absolute";var m=dojo.marginBox(this.node);var b=dojo.doc.body;var bs=dojo.getComputedStyle(b);var bm=dojo._getMarginBox(b,bs);var bc=dojo._getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this,e);}dojo.disconnect(this.events.shift());dojo.disconnect(this.events.shift());},destroy:function(){dojo.forEach(this.events,dojo.disconnect);var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});}if(!dojo._hasResource["dojo.dnd.Moveable"]){dojo._hasResource["dojo.dnd.Moveable"]=true;dojo.provide("dojo.dnd.Moveable");dojo.declare("dojo.dnd.Moveable",null,{handle:"",delay:0,skip:false,constructor:function(node,_230){this.node=dojo.byId(node);if(!_230){_230={};}this.handle=_230.handle?dojo.byId(_230.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_230.delay>0?_230.delay:0;this.skip=_230.skip;this.mover=_230.mover?_230.mover:dojo.dnd.Mover;this.events=[dojo.connect(this.handle,"onmousedown",this,"onMouseDown"),dojo.connect(this.handle,"ontouchstart",this,"onMouseDown"),dojo.connect(this.handle,"ondragstart",this,"onSelectStart"),dojo.connect(this.handle,"onselectstart",this,"onSelectStart")];},markupFactory:function(_231,node){return new dojo.dnd.Moveable(node,_231);},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dojo.dnd.isFormElement(e)){return;}if(this.delay){this.events.push(dojo.connect(this.handle,"onmousemove",this,"onMouseMove"),dojo.connect(this.handle,"ontouchmove",this,"onMouseMove"),dojo.connect(this.handle,"onmouseup",this,"onMouseUp"),dojo.connect(this.handle,"ontouchend",this,"onMouseUp"));var pos=e.touches?e.touches[0]:e;this._lastX=pos.pageX;this._lastY=pos.pageY;}else{this.onDragDetected(e);}dojo.stopEvent(e);},onMouseMove:function(e){var pos=e.touches?e.touches[0]:e;if(Math.abs(pos.pageX-this._lastX)>this.delay||Math.abs(pos.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}dojo.stopEvent(e);},onMouseUp:function(e){for(var i=0;i<2;++i){dojo.disconnect(this.events.pop());}dojo.stopEvent(e);},onSelectStart:function(e){if(!this.skip||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_232){dojo.publish("/dnd/move/start",[_232]);dojo.addClass(dojo.body(),"dojoMove");dojo.addClass(this.node,"dojoMoveItem");},onMoveStop:function(_233){dojo.publish("/dnd/move/stop",[_233]);dojo.removeClass(dojo.body(),"dojoMove");dojo.removeClass(this.node,"dojoMoveItem");},onFirstMove:function(_234,e){},onMove:function(_235,_236,e){this.onMoving(_235,_236);var s=_235.node.style;s.left=_236.l+"px";s.top=_236.t+"px";this.onMoved(_235,_236);},onMoving:function(_237,_238){},onMoved:function(_239,_23a){}});}if(!dojo._hasResource["dojo.dnd.move"]){dojo._hasResource["dojo.dnd.move"]=true;dojo.provide("dojo.dnd.move");dojo.declare("dojo.dnd.move.constrainedMoveable",dojo.dnd.Moveable,{constraints:function(){},within:false,markupFactory:function(_23b,node){return new dojo.dnd.move.constrainedMoveable(node,_23b);},constructor:function(node,_23c){if(!_23c){_23c={};}this.constraints=_23c.constraints;this.within=_23c.within;},onFirstMove:function(_23d){var c=this.constraintBox=this.constraints.call(this,_23d);c.r=c.l+c.w;c.b=c.t+c.h;if(this.within){var mb=dojo._getMarginSize(_23d.node);c.r-=mb.w;c.b-=mb.h;}},onMove:function(_23e,_23f){var c=this.constraintBox,s=_23e.node.style;this.onMoving(_23e,_23f);_23f.l=_23f.l<c.l?c.l:c.r<_23f.l?c.r:_23f.l;_23f.t=_23f.t<c.t?c.t:c.b<_23f.t?c.b:_23f.t;s.left=_23f.l+"px";s.top=_23f.t+"px";this.onMoved(_23e,_23f);}});dojo.declare("dojo.dnd.move.boxConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{box:{},markupFactory:function(_240,node){return new dojo.dnd.move.boxConstrainedMoveable(node,_240);},constructor:function(node,_241){var box=_241&&_241.box;this.constraints=function(){return box;};}});dojo.declare("dojo.dnd.move.parentConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{area:"content",markupFactory:function(_242,node){return new dojo.dnd.move.parentConstrainedMoveable(node,_242);},constructor:function(node,_243){var area=_243&&_243.area;this.constraints=function(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(area=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};}});dojo.dnd.constrainedMover=dojo.dnd.move.constrainedMover;dojo.dnd.boxConstrainedMover=dojo.dnd.move.boxConstrainedMover;dojo.dnd.parentConstrainedMover=dojo.dnd.move.parentConstrainedMover;}if(!dojo._hasResource["dojo.dnd.TimedMoveable"]){dojo._hasResource["dojo.dnd.TimedMoveable"]=true;dojo.provide("dojo.dnd.TimedMoveable");(function(){var _244=dojo.dnd.Moveable.prototype.onMove;dojo.declare("dojo.dnd.TimedMoveable",dojo.dnd.Moveable,{timeout:40,constructor:function(node,_245){if(!_245){_245={};}if(_245.timeout&&typeof _245.timeout=="number"&&_245.timeout>=0){this.timeout=_245.timeout;}},markupFactory:function(_246,node){return new dojo.dnd.TimedMoveable(node,_246);},onMoveStop:function(_247){if(_247._timer){clearTimeout(_247._timer);_244.call(this,_247,_247._leftTop);}dojo.dnd.Moveable.prototype.onMoveStop.apply(this,arguments);},onMove:function(_248,_249){_248._leftTop=_249;if(!_248._timer){var _24a=this;_248._timer=setTimeout(function(){_248._timer=null;_244.call(_24a,_248,_248._leftTop);},this.timeout);}}});})();}if(!dojo._hasResource["dojo.fx.Toggler"]){dojo._hasResource["dojo.fx.Toggler"]=true;dojo.provide("dojo.fx.Toggler");dojo.declare("dojo.fx.Toggler",null,{node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _24b=this;dojo.mixin(_24b,args);_24b.node=args.node;_24b._showArgs=dojo.mixin({},args);_24b._showArgs.node=_24b.node;_24b._showArgs.duration=_24b.showDuration;_24b.showAnim=_24b.showFunc(_24b._showArgs);_24b._hideArgs=dojo.mixin({},args);_24b._hideArgs.node=_24b.node;_24b._hideArgs.duration=_24b.hideDuration;_24b.hideAnim=_24b.hideFunc(_24b._hideArgs);dojo.connect(_24b.showAnim,"beforeBegin",dojo.hitch(_24b.hideAnim,"stop",true));dojo.connect(_24b.hideAnim,"beforeBegin",dojo.hitch(_24b.showAnim,"stop",true));},show:function(_24c){return this.showAnim.play(_24c||0);},hide:function(_24d){return this.hideAnim.play(_24d||0);}});}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");(function(){var d=dojo,_24e={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _24f=function(_250){this._index=-1;this._animations=_250||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;d.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};d.extend(_24f,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){d.disconnect(this._onAnimateCtx);d.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_251,_252){if(!this._current){this._current=this._animations[this._index=0];}if(!_252&&this._current.status()=="playing"){return this;}var _253=d.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_254=d.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_255=d.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);d.disconnect(_253);d.disconnect(_254);d.disconnect(_255);});if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){d.disconnect(this._onEndCtx);}this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=d.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);d.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_256,_257){this.pause();var _258=this.duration*_256;this._current=null;d.some(this._animations,function(a){if(a.duration<=_258){this._current=a;return true;}_258-=a.duration;return false;});if(this._current){this._current.gotoPercent(_258/this._current.duration,_257);}return this;},stop:function(_259){if(this._current){if(_259){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=d.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);d.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}if(this._onEndCtx){d.disconnect(this._onEndCtx);}}});d.extend(_24f,_24e);dojo.fx.chain=function(_25a){return new _24f(_25a);};var _25b=function(_25c){this._animations=_25c||[];this._connects=[];this._finished=0;this.duration=0;d.forEach(_25c,function(a){var _25d=a.duration;if(a.delay){_25d+=a.delay;}if(this.duration<_25d){this.duration=_25d;}this._connects.push(d.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new d.Animation({curve:[0,1],duration:this.duration});var self=this;d.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(d.connect(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));});};d.extend(_25b,{_doAction:function(_25e,args){d.forEach(this._animations,function(a){a[_25e].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_25f,args){var t=this._pseudoAnimation;t[_25f].apply(t,args);},play:function(_260,_261){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_262,_263){var ms=this.duration*_262;d.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_263);});this._call("gotoPercent",arguments);return this;},stop:function(_264){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){d.forEach(this._connects,dojo.disconnect);}});d.extend(_25b,_24e);dojo.fx.combine=function(_265){return new _25b(_265);};dojo.fx.wipeIn=function(args){var node=args.node=d.byId(args.node),s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _266=d.style(node,"height");return Math.max(_266,1);}},end:function(){return node.scrollHeight;}}}},args));d.connect(anim,"onEnd",function(){s.height="auto";s.overflow=o;});return anim;};dojo.fx.wipeOut=function(args){var node=args.node=d.byId(args.node),s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{end:1}}},args));d.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});d.connect(anim,"onEnd",function(){s.overflow=o;s.height="auto";s.display="none";});return anim;};dojo.fx.slideTo=function(args){var node=args.node=d.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=d.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=d.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=d.animateProperty(d.mixin({properties:{top:args.top||0,left:args.left||0}},args));d.connect(anim,"beforeBegin",anim,init);return anim;};})();}if(!dojo._hasResource["dijit.form._FormMixin"]){dojo._hasResource["dijit.form._FormMixin"]=true;dojo.provide("dijit.form._FormMixin");dojo.declare("dijit.form._FormMixin",null,{state:"",reset:function(){dojo.forEach(this.getDescendants(),function(_267){if(_267.reset){_267.reset();}});},validate:function(){var _268=false;return dojo.every(dojo.map(this.getDescendants(),function(_269){_269._hasBeenBlurred=true;var _26a=_269.disabled||!_269.validate||_269.validate();if(!_26a&&!_268){dojo.window.scrollIntoView(_269.containerNode||_269.domNode);_269.focus();_268=true;}return _26a;}),function(item){return item;});},setValues:function(val){dojo.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(obj){var map={};dojo.forEach(this.getDescendants(),function(_26b){if(!_26b.name){return;}var _26c=map[_26b.name]||(map[_26b.name]=[]);_26c.push(_26b);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _26d=map[name],_26e=dojo.getObject(name,false,obj);if(_26e===undefined){continue;}if(!dojo.isArray(_26e)){_26e=[_26e];}if(typeof _26d[0].checked=="boolean"){dojo.forEach(_26d,function(w,i){w.set("value",dojo.indexOf(_26e,w.value)!=-1);});}else{if(_26d[0].multiple){_26d[0].set("value",_26e);}else{dojo.forEach(_26d,function(w,i){w.set("value",_26e[i]);});}}}},getValues:function(){dojo.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function(){var obj={};dojo.forEach(this.getDescendants(),function(_26f){var name=_26f.name;if(!name||_26f.disabled){return;}var _270=_26f.get("value");if(typeof _26f.checked=="boolean"){if(/Radio/.test(_26f.declaredClass)){if(_270!==false){dojo.setObject(name,_270,obj);}else{_270=dojo.getObject(name,false,obj);if(_270===undefined){dojo.setObject(name,null,obj);}}}else{var ary=dojo.getObject(name,false,obj);if(!ary){ary=[];dojo.setObject(name,ary,obj);}if(_270!==false){ary.push(_270);}}}else{var prev=dojo.getObject(name,false,obj);if(typeof prev!="undefined"){if(dojo.isArray(prev)){prev.push(_270);}else{dojo.setObject(name,[prev,_270],obj);}}else{dojo.setObject(name,_270,obj);}}});return obj;},isValid:function(){return this.state=="";},onValidStateChange:function(_271){},_getState:function(){var _272=dojo.map(this._descendants,function(w){return w.get("state")||"";});return dojo.indexOf(_272,"Error")>=0?"Error":dojo.indexOf(_272,"Incomplete")>=0?"Incomplete":"";},disconnectChildren:function(){dojo.forEach(this._childConnections||[],dojo.hitch(this,"disconnect"));dojo.forEach(this._childWatches||[],function(w){w.unwatch();});},connectChildren:function(_273){var _274=this;this.disconnectChildren();this._descendants=this.getDescendants();var set=_273?function(name,val){_274[name]=val;}:dojo.hitch(this,"_set");set("value",this.get("value"));set("state",this._getState());var _275=(this._childConnections=[]),_276=(this._childWatches=[]);dojo.forEach(dojo.filter(this._descendants,function(item){return item.validate;}),function(_277){dojo.forEach(["state","disabled"],function(attr){_276.push(_277.watch(attr,function(attr,_278,_279){_274.set("state",_274._getState());}));});});var _27a=function(){if(_274._onChangeDelayTimer){clearTimeout(_274._onChangeDelayTimer);}_274._onChangeDelayTimer=setTimeout(function(){delete _274._onChangeDelayTimer;_274._set("value",_274.get("value"));},10);};dojo.forEach(dojo.filter(this._descendants,function(item){return item.onChange;}),function(_27b){_275.push(_274.connect(_27b,"onChange",_27a));_276.push(_27b.watch("disabled",_27a));});},startup:function(){this.inherited(arguments);this.connectChildren(true);this.watch("state",function(attr,_27c,_27d){this.onValidStateChange(_27d=="");});},destroy:function(){this.disconnectChildren();this.inherited(arguments);}});}if(!dojo._hasResource["dijit._DialogMixin"]){dojo._hasResource["dijit._DialogMixin"]=true;dojo.provide("dijit._DialogMixin");dojo.declare("dijit._DialogMixin",null,{attributeMap:dijit._Widget.prototype.attributeMap,execute:function(_27e){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"));},_getFocusItems:function(){var _27f=dijit._getTabNavigable(this.containerNode);this._firstFocusItem=_27f.lowest||_27f.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_27f.last||_27f.highest||this._firstFocusItem;}});}if(!dojo._hasResource["dijit.DialogUnderlay"]){dojo._hasResource["dijit.DialogUnderlay"]=true;dojo.provide("dijit.DialogUnderlay");dojo.declare("dijit.DialogUnderlay",[dijit._Widget,dijit._Templated],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' dojoAttachPoint='node'></div></div>",dialogId:"","class":"",attributeMap:{id:"domNode"},_setDialogIdAttr:function(id){dojo.attr(this.node,"id",id+"_underlay");this._set("dialogId",id);},_setClassAttr:function(_280){this.node.className="dijitDialogUnderlay "+_280;this._set("class",_280);},postCreate:function(){dojo.body().appendChild(this.domNode);},layout:function(){var is=this.node.style,os=this.domNode.style;os.display="none";var _281=dojo.window.getBox();os.top=_281.t+"px";os.left=_281.l+"px";is.width=_281.w+"px";is.height=_281.h+"px";os.display="block";},show:function(){this.domNode.style.display="block";this.layout();this.bgIframe=new dijit.BackgroundIframe(this.domNode);},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none";}});}if(!dojo._hasResource["dijit.layout._ContentPaneResizeMixin"]){dojo._hasResource["dijit.layout._ContentPaneResizeMixin"]=true;dojo.provide("dijit.layout._ContentPaneResizeMixin");dojo.declare("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isContainer:true,isLayoutContainer:true,_startChildren:function(){dojo.forEach(this.getChildren(),function(_282){_282.startup();_282._started=true;});},startup:function(){if(this._started){return;}var _283=dijit._Contained.prototype.getParent.call(this);this._childOfLayoutWidget=_283&&_283.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._startChildren();if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.connect(dojo.isIE?this.domNode:dojo.global,"onresize",function(){this._needLayout=!this._childOfLayoutWidget;this.resize();});}},_checkIfSingleChild:function(){var _284=dojo.query("> *",this.containerNode).filter(function(node){return node.tagName!=="SCRIPT";}),_285=_284.filter(function(node){return dojo.hasAttr(node,"data-dojo-type")||dojo.hasAttr(node,"dojoType")||dojo.hasAttr(node,"widgetId");}),_286=dojo.filter(_285.map(dijit.byNode),function(_287){return _287&&_287.domNode&&_287.resize;});if(_284.length==_285.length&&_286.length==1){this._singleChild=_286[0];}else{delete this._singleChild;}dojo.toggleClass(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_288,_289){if(!this._wasShown&&this.open!==false){this._onShow();}this._resizeCalled=true;this._scheduleLayout(_288,_289);},_scheduleLayout:function(_28a,_28b){if(this._isShown()){this._layout(_28a,_28b);}else{this._needLayout=true;this._changeSize=_28a;this._resultSize=_28b;}},_layout:function(_28c,_28d){if(_28c){dojo.marginBox(this.domNode,_28c);}var cn=this.containerNode;if(cn===this.domNode){var mb=_28d||{};dojo.mixin(mb,_28c||{});if(!("h" in mb)||!("w" in mb)){mb=dojo.mixin(dojo.marginBox(cn),mb);}this._contentBox=dijit.layout.marginBox2contentBox(cn,mb);}else{this._contentBox=dojo.contentBox(cn);}this._layoutChildren();delete this._needLayout;},_layoutChildren:function(){if(this.doLayout){this._checkIfSingleChild();}if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||dojo.contentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{dojo.forEach(this.getChildren(),function(_28e){if(_28e.resize){_28e.resize();}});}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_28f=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!dojo.hasClass(node,"dijitHidden")&&_28f&&_28f.style&&(_28f.style.display!="none");}}},_onShow:function(){if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);this._wasShown=true;}});}if(!dojo._hasResource["dojo.html"]){dojo._hasResource["dojo.html"]=true;dojo.provide("dojo.html");dojo.getObject("html",true,dojo);(function(){var _290=0,d=dojo;dojo.html._secureForInnerHtml=function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};dojo.html._emptyNode=dojo.empty;dojo.html._setNodeContent=function(node,cont){d.empty(node);if(cont){if(typeof cont=="string"){cont=d._toDom(cont,node.ownerDocument);}if(!cont.nodeType&&d.isArrayLike(cont)){for(var _291=cont.length,i=0;i<cont.length;i=_291==cont.length?i+1:0){d.place(cont[i],node,"last");}}else{d.place(cont,node,"last");}}return node;};dojo.declare("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:dojo._scopeName,startup:true,constructor:function(_292,node){dojo.mixin(this,_292||{});node=this.node=dojo.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_290++].join("_");}},set:function(cont,_293){if(undefined!==cont){this.content=cont;}if(_293){this._mixin(_293);}this.onBegin();this.setContent();this.onEnd();return this.node;},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=dojo.html._setNodeContent(node,this.content);}catch(e){var _294=this.onContentError(e);try{node.innerHTML=_294;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseResults&&this.parseResults.length){dojo.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}dojo.html._emptyNode(this.node);},onBegin:function(){var cont=this.content;if(dojo.isString(cont)){if(this.cleanContent){cont=dojo.html._secureForInnerHtml(cont);}if(this.extractContent){var _295=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_295){cont=_295[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.node;delete this.content;},onContentError:function(err){return "Error occured setting content: "+err;},_mixin:function(_296){var _297={},key;for(key in _296){if(key in _297){continue;}this[key]=_296[key];}},_parse:function(){var _298=this.node;try{var _299={};dojo.forEach(["dir","lang","textDir"],function(name){if(this[name]){_299[name]=this[name];}},this);this.parseResults=dojo.parser.parse({rootNode:_298,noStart:!this.startup,inherited:_299,scope:this.parserScope});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_29a){var _29b=this["on"+type+"Error"].call(this,err);if(_29a){console.error(_29a,err);}else{if(_29b){dojo.html._setNodeContent(this.node,_29b,true);}}}});dojo.html.set=function(node,cont,_29c){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_29c){return dojo.html._setNodeContent(node,cont,true);}else{var op=new dojo.html._ContentSetter(dojo.mixin(_29c,{content:cont,node:node}));return op.set();}};})();}if(!dojo._hasResource["dijit.layout.ContentPane"]){dojo._hasResource["dijit.layout.ContentPane"]=true;dojo.provide("dijit.layout.ContentPane");dojo.declare("dijit.layout.ContentPane",[dijit._Widget,dijit.layout._ContentPaneResizeMixin],{href:"",extractContent:false,parseOnLoad:true,parserScope:dojo._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{title:[]}),stopParser:true,template:false,create:function(_29d,_29e){if((!_29d||!_29d.template)&&_29e&&!("href" in _29d)&&!("content" in _29d)){var df=dojo.doc.createDocumentFragment();_29e=dojo.byId(_29e);while(_29e.firstChild){df.appendChild(_29e.firstChild);}_29d=dojo.delegate(_29d,{content:df});}this.inherited(arguments,[_29d,_29e]);},postMixInProperties:function(){this.inherited(arguments);var _29f=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=dojo.string.substitute(this.loadingMessage,_29f);this.errorMessage=dojo.string.substitute(this.errorMessage,_29f);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.title="";if(!dojo.attr(this.domNode,"role")){dijit.setWaiRole(this.domNode,"group");}},_startChildren:function(){this.inherited(arguments);if(this._contentSetter){dojo.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&dojo.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(href){dojo.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",href);},_setHrefAttr:function(href){this.cancel();this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));this.onLoadDeferred.addCallback(dojo.hitch(this,"onLoad"));this._set("href",href);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(data){dojo.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",data);},_setContentAttr:function(data){this._set("href","");this.cancel();this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.addCallback(dojo.hitch(this,"onLoad"));}this._setContent(data||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},uninitialize:function(){if(this._beingDestroyed){this.cancel();}this.inherited(arguments);},destroyRecursive:function(_2a0){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));this.onLoadDeferred.addCallback(dojo.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var self=this;var _2a1={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(dojo.isObject(this.ioArgs)){dojo.mixin(_2a1,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||dojo.xhrGet)(_2a1));hand.addCallback(function(html){try{self._isDownloaded=true;self._setContent(html,false);self.onDownloadEnd();}catch(err){self._onError("Content",err);}delete self._xhrDfd;return html;});hand.addErrback(function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;});delete this._hrefChanged;},_onLoadHandler:function(data){this._set("isLoaded",true);try{this.onLoadDeferred.callback(data);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(){if(this.isLoaded){this._onUnloadHandler();}var _2a2=this._contentSetter;dojo.forEach(this.getChildren(),function(_2a3){if(_2a3.destroyRecursive){_2a3.destroyRecursive();}});if(_2a2){dojo.forEach(_2a2.parseResults,function(_2a4){if(_2a4.destroyRecursive&&_2a4.domNode&&_2a4.domNode.parentNode==dojo.body()){_2a4.destroyRecursive();}});delete _2a2.parseResults;}dojo.html._emptyNode(this.containerNode);delete this._singleChild;},_setContent:function(cont,_2a5){this.destroyDescendants();var _2a6=this._contentSetter;if(!(_2a6&&_2a6 instanceof dojo.html._ContentSetter)){_2a6=this._contentSetter=new dojo.html._ContentSetter({node:this.containerNode,_onError:dojo.hitch(this,this._onError),onContentError:dojo.hitch(this,function(e){var _2a7=this.onContentError(e);try{this.containerNode.innerHTML=_2a7;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _2a8=dojo.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang},this._contentSetterParams||{});_2a6.set((dojo.isObject(cont)&&cont.domNode)?cont.domNode:cont,_2a8);delete this._contentSetterParams;if(this.doLayout){this._checkIfSingleChild();}if(!_2a5){if(this._started){this._startChildren();this._scheduleLayout();}this._onLoadHandler(cont);}},_onError:function(type,err,_2a9){this.onLoadDeferred.errback(err);var _2aa=this["on"+type+"Error"].call(this,err);if(_2a9){console.error(_2a9,err);}else{if(_2aa){this._setContent(_2aa,true);}}},onLoad:function(data){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(_2ab){},onDownloadError:function(_2ac){return this.errorMessage;},onDownloadEnd:function(){}});}if(!dojo._hasResource["dijit.TooltipDialog"]){dojo._hasResource["dijit.TooltipDialog"]=true;dojo.provide("dijit.TooltipDialog");dojo.declare("dijit.TooltipDialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:dojo.cache("dijit","templates/TooltipDialog.html","<div role=\"presentation\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" dojoAttachPoint=\"containerNode\" role=\"dialog\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\"></div>\n</div>\n"),_setTitleAttr:function(_2ad){this.containerNode.title=_2ad;this._set("title",_2ad);},postCreate:function(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey");},orient:function(node,_2ae,_2af){var newC="dijitTooltipAB"+(_2af.charAt(1)=="L"?"Left":"Right")+" dijitTooltip"+(_2af.charAt(0)=="T"?"Below":"Above");dojo.replaceClass(this.domNode,newC,this._currentOrientClass||"");this._currentOrientClass=newC;},focus:function(){this._getFocusItems(this.containerNode);dijit.focus(this._firstFocusItem);},onOpen:function(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);this._onShow();},onClose:function(){this.onHide();},_onKey:function(evt){var node=evt.target;var dk=dojo.keys;if(evt.charOrCode===dk.TAB){this._getFocusItems(this.containerNode);}var _2b0=(this._firstFocusItem==this._lastFocusItem);if(evt.charOrCode==dk.ESCAPE){setTimeout(dojo.hitch(this,"onCancel"),0);dojo.stopEvent(evt);}else{if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===dk.TAB){if(!_2b0){dijit.focus(this._lastFocusItem);}dojo.stopEvent(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===dk.TAB&&!evt.shiftKey){if(!_2b0){dijit.focus(this._firstFocusItem);}dojo.stopEvent(evt);}else{if(evt.charOrCode===dk.TAB){evt.stopPropagation();}}}}}});}if(!dojo._hasResource["dijit.Dialog"]){dojo._hasResource["dijit.Dialog"]=true;dojo.provide("dijit.Dialog");dojo.declare("dijit._DialogBase",[dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin,dijit._CssStateMixin],{templateString:dojo.cache("dijit","templates/Dialog.html","<div class=\"dijitDialog pentaho-dialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar Caption\">\n\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"></span>\n\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabIndex=\"-1\">\n\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t</span>\n\t</div>\n\t<div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n"),baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{title:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],"aria-describedby":""}),open:false,duration:dijit.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,"aria-describedby":"",postMixInProperties:function(){var _2b1=dojo.i18n.getLocalization("dijit","common");dojo.mixin(this,_2b1);this.inherited(arguments);},postCreate:function(){dojo.style(this.domNode,{display:"none",position:"absolute"});dojo.body().appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[];},onLoad:function(){this._position();if(this.autofocus&&dijit._DialogLevelManager.isTop(this)){this._getFocusItems(this.domNode);dijit.focus(this._firstFocusItem);}this.inherited(arguments);},_endDrag:function(e){if(e&&e.node&&e.node===this.domNode){this._relativePosition=dojo.position(e.node);}},_setup:function(){var node=this.domNode;if(this.titleBar&&this.draggable){this._moveable=(dojo.isIE==6)?new dojo.dnd.TimedMoveable(node,{handle:this.titleBar}):new dojo.dnd.Moveable(node,{handle:this.titleBar,timeout:0});this._dndListener=dojo.subscribe("/dnd/move/stop",this,"_endDrag");}else{dojo.addClass(node,"dijitDialogFixed");}this.underlayAttrs={dialogId:this.id,"class":dojo.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" ")};},_size:function(){this._checkIfSingleChild();if(this._singleChild){if(this._singleChildOriginalStyle){this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;}delete this._singleChildOriginalStyle;}else{dojo.style(this.containerNode,{width:"auto",height:"auto"});}var mb=dojo._getMarginSize(this.domNode);var _2b2=dojo.window.getBox();if(mb.w>=_2b2.w||mb.h>=_2b2.h){var w=Math.min(mb.w,Math.floor(_2b2.w*0.75)),h=Math.min(mb.h,Math.floor(_2b2.h*0.75));if(this._singleChild&&this._singleChild.resize){this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;this._singleChild.resize({w:w,h:h});}else{dojo.style(this.containerNode,{width:w+"px",height:h+"px",overflow:"auto",position:"relative"});}}else{if(this._singleChild&&this._singleChild.resize){this._singleChild.resize();}}},_position:function(){if(!dojo.hasClass(dojo.body(),"dojoMove")){var node=this.domNode,_2b3=dojo.window.getBox(),p=this._relativePosition,bb=p?null:dojo._getBorderBox(node),l=Math.floor(_2b3.l+(p?p.x:(_2b3.w-bb.w)/2)),t=Math.floor(_2b3.t+(p?p.y:(_2b3.h-bb.h)/2));dojo.style(node,{left:l+"px",top:t+"px"});}},_onKey:function(evt){if(evt.charOrCode){var dk=dojo.keys;var node=evt.target;if(evt.charOrCode===dk.TAB){this._getFocusItems(this.domNode);}var _2b4=(this._firstFocusItem==this._lastFocusItem);if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===dk.TAB){if(!_2b4){dijit.focus(this._lastFocusItem);}dojo.stopEvent(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===dk.TAB&&!evt.shiftKey){if(!_2b4){dijit.focus(this._firstFocusItem);}dojo.stopEvent(evt);}else{while(node){if(node==this.domNode||dojo.hasClass(node,"dijitPopup")){if(evt.charOrCode==dk.ESCAPE){this.onCancel();}else{return;}}node=node.parentNode;}if(evt.charOrCode!==dk.TAB){dojo.stopEvent(evt);}else{if(!dojo.isOpera){try{this._firstFocusItem.focus();}catch(e){}}}}}}},show:function(){if(this.open){return;}if(!this._started){this.startup();}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}this._modalconnects.push(dojo.connect(window,"onscroll",this,"layout"));this._modalconnects.push(dojo.connect(window,"onresize",this,function(){var _2b5=dojo.window.getBox();if(!this._oldViewport||_2b5.h!=this._oldViewport.h||_2b5.w!=this._oldViewport.w){this.layout();this._oldViewport=_2b5;}}));this._modalconnects.push(dojo.connect(this.domNode,"onkeypress",this,"_onKey"));dojo.style(this.domNode,{opacity:0,display:""});this._set("open",true);this._onShow();this._size();this._position();var _2b6;this._fadeInDeferred=new dojo.Deferred(dojo.hitch(this,function(){_2b6.stop();delete this._fadeInDeferred;}));_2b6=dojo.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:dojo.hitch(this,function(){dijit._DialogLevelManager.show(this,this.underlayAttrs);}),onEnd:dojo.hitch(this,function(){if(this.autofocus&&dijit._DialogLevelManager.isTop(this)){this._getFocusItems(this.domNode);dijit.focus(this._firstFocusItem);}this._fadeInDeferred.callback(true);delete this._fadeInDeferred;})}).play();return this._fadeInDeferred;},hide:function(){if(!this._alreadyInitialized){return;}if(this._fadeInDeferred){this._fadeInDeferred.cancel();}var _2b7;this._fadeOutDeferred=new dojo.Deferred(dojo.hitch(this,function(){_2b7.stop();delete this._fadeOutDeferred;}));_2b7=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,function(){this.domNode.style.display="none";dijit._DialogLevelManager.hide(this);this.onHide();this._fadeOutDeferred.callback(true);delete this._fadeOutDeferred;})}).play();if(this._scrollConnected){this._scrollConnected=false;}dojo.forEach(this._modalconnects,dojo.disconnect);this._modalconnects=[];if(this._relativePosition){delete this._relativePosition;}this._set("open",false);return this._fadeOutDeferred;},layout:function(){if(this.domNode.style.display!="none"){if(dijit._underlay){dijit._underlay.layout();}this._position();}},destroy:function(){if(this._fadeInDeferred){this._fadeInDeferred.cancel();}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}if(this._moveable){this._moveable.destroy();}if(this._dndListener){dojo.unsubscribe(this._dndListener);}dojo.forEach(this._modalconnects,dojo.disconnect);dijit._DialogLevelManager.hide(this);this.inherited(arguments);}});dojo.declare("dijit.Dialog",[dijit.layout.ContentPane,dijit._DialogBase],{});dijit._DialogLevelManager={show:function(_2b8,_2b9){var ds=dijit._dialogStack;ds[ds.length-1].focus=dijit.getFocus(_2b8);var _2ba=dijit._underlay;if(!_2ba||_2ba._destroyed){_2ba=dijit._underlay=new dijit.DialogUnderlay(_2b9);}else{_2ba.set(_2b8.underlayAttrs);}var _2bb=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:950;if(ds.length==1){_2ba.show();}dojo.style(dijit._underlay.domNode,"zIndex",_2bb-1);dojo.style(_2b8.domNode,"zIndex",_2bb);ds.push({dialog:_2b8,underlayAttrs:_2b9,zIndex:_2bb});},hide:function(_2bc){var ds=dijit._dialogStack;if(ds[ds.length-1].dialog==_2bc){ds.pop();var pd=ds[ds.length-1];if(ds.length==1){if(!dijit._underlay._destroyed){dijit._underlay.hide();}}else{dojo.style(dijit._underlay.domNode,"zIndex",pd.zIndex-1);dijit._underlay.set(pd.underlayAttrs);}if(_2bc.refocus){var _2bd=pd.focus;if(!_2bd||(pd.dialog&&!dojo.isDescendant(_2bd.node,pd.dialog.domNode))){pd.dialog._getFocusItems(pd.dialog.domNode);_2bd=pd.dialog._firstFocusItem;}try{dijit.focus(_2bd);}catch(e){}}}else{var idx=dojo.indexOf(dojo.map(ds,function(elem){return elem.dialog;}),_2bc);if(idx!=-1){ds.splice(idx,1);}}},isTop:function(_2be){var ds=dijit._dialogStack;return ds[ds.length-1].dialog==_2be;}};dijit._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];}if(!dojo._hasResource["dijit._editor.selection"]){dojo._hasResource["dijit._editor.selection"]=true;dojo.provide("dijit._editor.selection");dojo.getObject("_editor.selection",true,dijit);dojo.mixin(dijit._editor.selection,{getType:function(){if(dojo.isIE<9){return dojo.doc.selection.type.toLowerCase();}else{var _2bf="text";var oSel;try{oSel=dojo.global.getSelection();}catch(e){}if(oSel&&oSel.rangeCount==1){var _2c0=oSel.getRangeAt(0);if((_2c0.startContainer==_2c0.endContainer)&&((_2c0.endOffset-_2c0.startOffset)==1)&&(_2c0.startContainer.nodeType!=3)){_2bf="control";}}return _2bf;}},getSelectedText:function(){if(dojo.isIE<9){if(dijit._editor.selection.getType()=="control"){return null;}return dojo.doc.selection.createRange().text;}else{var _2c1=dojo.global.getSelection();if(_2c1){return _2c1.toString();}}return "";},getSelectedHtml:function(){if(dojo.isIE<9){if(dijit._editor.selection.getType()=="control"){return null;}return dojo.doc.selection.createRange().htmlText;}else{var _2c2=dojo.global.getSelection();if(_2c2&&_2c2.rangeCount){var i;var html="";for(i=0;i<_2c2.rangeCount;i++){var frag=_2c2.getRangeAt(i).cloneContents();var div=dojo.doc.createElement("div");div.appendChild(frag);html+=div.innerHTML;}return html;}return null;}},getSelectedElement:function(){if(dijit._editor.selection.getType()=="control"){if(dojo.isIE<9){var _2c3=dojo.doc.selection.createRange();if(_2c3&&_2c3.item){return dojo.doc.selection.createRange().item(0);}}else{var _2c4=dojo.global.getSelection();return _2c4.anchorNode.childNodes[_2c4.anchorOffset];}}return null;},getParentElement:function(){if(dijit._editor.selection.getType()=="control"){var p=this.getSelectedElement();if(p){return p.parentNode;}}else{if(dojo.isIE<9){var r=dojo.doc.selection.createRange();r.collapse(true);return r.parentElement();}else{var _2c5=dojo.global.getSelection();if(_2c5){var node=_2c5.anchorNode;while(node&&(node.nodeType!=1)){node=node.parentNode;}return node;}}}return null;},hasAncestorElement:function(_2c6){return this.getAncestorElement.apply(this,arguments)!=null;},getAncestorElement:function(_2c7){var node=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(node,arguments);},isTag:function(node,tags){if(node&&node.tagName){var _2c8=node.tagName.toLowerCase();for(var i=0;i<tags.length;i++){var _2c9=String(tags[i]).toLowerCase();if(_2c8==_2c9){return _2c9;}}}return "";},getParentOfType:function(node,tags){while(node){if(this.isTag(node,tags).length){return node;}node=node.parentNode;}return null;},collapse:function(_2ca){if(window.getSelection){var _2cb=dojo.global.getSelection();if(_2cb.removeAllRanges){if(_2ca){_2cb.collapseToStart();}else{_2cb.collapseToEnd();}}else{_2cb.collapse(_2ca);}}else{if(dojo.isIE){var _2cc=dojo.doc.selection.createRange();_2cc.collapse(_2ca);_2cc.select();}}},remove:function(){var sel=dojo.doc.selection;if(dojo.isIE<9){if(sel.type.toLowerCase()!="none"){sel.clear();}return sel;}else{sel=dojo.global.getSelection();sel.deleteFromDocument();return sel;}},selectElementChildren:function(_2cd,_2ce){var win=dojo.global;var doc=dojo.doc;var _2cf;_2cd=dojo.byId(_2cd);if(doc.selection&&dojo.isIE<9&&dojo.body().createTextRange){_2cf=_2cd.ownerDocument.body.createTextRange();_2cf.moveToElementText(_2cd);if(!_2ce){try{_2cf.select();}catch(e){}}}else{if(win.getSelection){var _2d0=dojo.global.getSelection();if(dojo.isOpera){if(_2d0.rangeCount){_2cf=_2d0.getRangeAt(0);}else{_2cf=doc.createRange();}_2cf.setStart(_2cd,0);_2cf.setEnd(_2cd,(_2cd.nodeType==3)?_2cd.length:_2cd.childNodes.length);_2d0.addRange(_2cf);}else{_2d0.selectAllChildren(_2cd);}}}},selectElement:function(_2d1,_2d2){var _2d3;var doc=dojo.doc;var win=dojo.global;_2d1=dojo.byId(_2d1);if(dojo.isIE<9&&dojo.body().createTextRange){try{var tg=_2d1.tagName?_2d1.tagName.toLowerCase():"";if(tg==="img"||tg==="table"){_2d3=dojo.body().createControlRange();}else{_2d3=dojo.body().createRange();}_2d3.addElement(_2d1);if(!_2d2){_2d3.select();}}catch(e){this.selectElementChildren(_2d1,_2d2);}}else{if(dojo.global.getSelection){var _2d4=win.getSelection();_2d3=doc.createRange();if(_2d4.removeAllRanges){if(dojo.isOpera){if(_2d4.getRangeAt(0)){_2d3=_2d4.getRangeAt(0);}}_2d3.selectNode(_2d1);_2d4.removeAllRanges();_2d4.addRange(_2d3);}}}},inSelection:function(node){if(node){var _2d5;var doc=dojo.doc;var _2d6;if(dojo.global.getSelection){var sel=dojo.global.getSelection();if(sel&&sel.rangeCount>0){_2d6=sel.getRangeAt(0);}if(_2d6&&_2d6.compareBoundaryPoints&&doc.createRange){try{_2d5=doc.createRange();_2d5.setStart(node,0);if(_2d6.compareBoundaryPoints(_2d6.START_TO_END,_2d5)===1){return true;}}catch(e){}}}else{if(doc.selection){_2d6=doc.selection.createRange();try{_2d5=node.ownerDocument.body.createControlRange();if(_2d5){_2d5.addElement(node);}}catch(e1){try{_2d5=node.ownerDocument.body.createTextRange();_2d5.moveToElementText(node);}catch(e2){}}if(_2d6&&_2d5){if(_2d6.compareEndPoints("EndToStart",_2d5)===1){return true;}}}}}return false;}});}if(!dojo._hasResource["dijit._editor.range"]){dojo._hasResource["dijit._editor.range"]=true;dojo.provide("dijit._editor.range");dijit.range={};dijit.range.getIndex=function(node,_2d7){var ret=[],retR=[];var stop=_2d7;var _2d8=node;var _2d9,n;while(node!=stop){var i=0;_2d9=node.parentNode;while((n=_2d9.childNodes[i++])){if(n===node){--i;break;}}ret.unshift(i);retR.unshift(i-_2d9.childNodes.length);node=_2d9;}if(ret.length>0&&_2d8.nodeType==3){n=_2d8.previousSibling;while(n&&n.nodeType==3){ret[ret.length-1]--;n=n.previousSibling;}n=_2d8.nextSibling;while(n&&n.nodeType==3){retR[retR.length-1]++;n=n.nextSibling;}}return {o:ret,r:retR};};dijit.range.getNode=function(_2da,_2db){if(!dojo.isArray(_2da)||_2da.length==0){return _2db;}var node=_2db;dojo.every(_2da,function(i){if(i>=0&&i<node.childNodes.length){node=node.childNodes[i];}else{node=null;return false;}return true;});return node;};dijit.range.getCommonAncestor=function(n1,n2,root){root=root||n1.ownerDocument.body;var _2dc=function(n){var as=[];while(n){as.unshift(n);if(n!==root){n=n.parentNode;}else{break;}}return as;};var n1as=_2dc(n1);var n2as=_2dc(n2);var m=Math.min(n1as.length,n2as.length);var com=n1as[0];for(var i=1;i<m;i++){if(n1as[i]===n2as[i]){com=n1as[i];}else{break;}}return com;};dijit.range.getAncestor=function(node,_2dd,root){root=root||node.ownerDocument.body;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(_2dd.test(name)){return node;}node=node.parentNode;}return null;};dijit.range.BlockTagNames=/^(?:P|DIV|H1|H2|H3|H4|H5|H6|ADDRESS|PRE|OL|UL|LI|DT|DE)$/;dijit.range.getBlockAncestor=function(node,_2de,root){root=root||node.ownerDocument.body;_2de=_2de||dijit.range.BlockTagNames;var _2df=null,_2e0;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(!_2df&&_2de.test(name)){_2df=node;}if(!_2e0&&(/^(?:BODY|TD|TH|CAPTION)$/).test(name)){_2e0=node;}node=node.parentNode;}return {blockNode:_2df,blockContainer:_2e0||node.ownerDocument.body};};dijit.range.atBeginningOfContainer=function(_2e1,node,_2e2){var _2e3=false;var _2e4=(_2e2==0);if(!_2e4&&node.nodeType==3){if(/^[\s\xA0]+$/.test(node.nodeValue.substr(0,_2e2))){_2e4=true;}}if(_2e4){var _2e5=node;_2e3=true;while(_2e5&&_2e5!==_2e1){if(_2e5.previousSibling){_2e3=false;break;}_2e5=_2e5.parentNode;}}return _2e3;};dijit.range.atEndOfContainer=function(_2e6,node,_2e7){var _2e8=false;var _2e9=(_2e7==(node.length||node.childNodes.length));if(!_2e9&&node.nodeType==3){if(/^[\s\xA0]+$/.test(node.nodeValue.substr(_2e7))){_2e9=true;}}if(_2e9){var _2ea=node;_2e8=true;while(_2ea&&_2ea!==_2e6){if(_2ea.nextSibling){_2e8=false;break;}_2ea=_2ea.parentNode;}}return _2e8;};dijit.range.adjacentNoneTextNode=function(_2eb,next){var node=_2eb;var len=(0-_2eb.length)||0;var prop=next?"nextSibling":"previousSibling";while(node){if(node.nodeType!=3){break;}len+=node.length;node=node[prop];}return [node,len];};dijit.range._w3c=Boolean(window["getSelection"]);dijit.range.create=function(win){if(dijit.range._w3c){return (win||dojo.global).document.createRange();}else{return new dijit.range.W3CRange;}};dijit.range.getSelection=function(win,_2ec){if(dijit.range._w3c){return win.getSelection();}else{var s=new dijit.range.ie.selection(win);if(!_2ec){s._getCurrentSelection();}return s;}};if(!dijit.range._w3c){dijit.range.ie={cachedSelection:{},selection:function(win){this._ranges=[];this.addRange=function(r,_2ed){this._ranges.push(r);if(!_2ed){r._select();}this.rangeCount=this._ranges.length;};this.removeAllRanges=function(){this._ranges=[];this.rangeCount=0;};var _2ee=function(){var r=win.document.selection.createRange();var type=win.document.selection.type.toUpperCase();if(type=="CONTROL"){return new dijit.range.W3CRange(dijit.range.ie.decomposeControlRange(r));}else{return new dijit.range.W3CRange(dijit.range.ie.decomposeTextRange(r));}};this.getRangeAt=function(i){return this._ranges[i];};this._getCurrentSelection=function(){this.removeAllRanges();var r=_2ee();if(r){this.addRange(r,true);}};},decomposeControlRange:function(_2ef){var _2f0=_2ef.item(0),_2f1=_2ef.item(_2ef.length-1);var _2f2=_2f0.parentNode,_2f3=_2f1.parentNode;var _2f4=dijit.range.getIndex(_2f0,_2f2).o;var _2f5=dijit.range.getIndex(_2f1,_2f3).o+1;return [_2f2,_2f4,_2f3,_2f5];},getEndPoint:function(_2f6,end){var _2f7=_2f6.duplicate();_2f7.collapse(!end);var _2f8="EndTo"+(end?"End":"Start");var _2f9=_2f7.parentElement();var _2fa,_2fb,_2fc;if(_2f9.childNodes.length>0){dojo.every(_2f9.childNodes,function(node,i){var _2fd;if(node.nodeType!=3){_2f7.moveToElementText(node);if(_2f7.compareEndPoints(_2f8,_2f6)>0){if(_2fc&&_2fc.nodeType==3){_2fa=_2fc;_2fd=true;}else{_2fa=_2f9;_2fb=i;return false;}}else{if(i==_2f9.childNodes.length-1){_2fa=_2f9;_2fb=_2f9.childNodes.length;return false;}}}else{if(i==_2f9.childNodes.length-1){_2fa=node;_2fd=true;}}if(_2fd&&_2fa){var _2fe=dijit.range.adjacentNoneTextNode(_2fa)[0];if(_2fe){_2fa=_2fe.nextSibling;}else{_2fa=_2f9.firstChild;}var _2ff=dijit.range.adjacentNoneTextNode(_2fa);_2fe=_2ff[0];var _300=_2ff[1];if(_2fe){_2f7.moveToElementText(_2fe);_2f7.collapse(false);}else{_2f7.moveToElementText(_2f9);}_2f7.setEndPoint(_2f8,_2f6);_2fb=_2f7.text.length-_300;return false;}_2fc=node;return true;});}else{_2fa=_2f9;_2fb=0;}if(!end&&_2fa.nodeType==1&&_2fb==_2fa.childNodes.length){var _301=_2fa.nextSibling;if(_301&&_301.nodeType==3){_2fa=_301;_2fb=0;}}return [_2fa,_2fb];},setEndPoint:function(_302,_303,_304){var _305=_302.duplicate(),node,len;if(_303.nodeType!=3){if(_304>0){node=_303.childNodes[_304-1];if(node){if(node.nodeType==3){_303=node;_304=node.length;}else{if(node.nextSibling&&node.nextSibling.nodeType==3){_303=node.nextSibling;_304=0;}else{_305.moveToElementText(node.nextSibling?node:_303);var _306=node.parentNode;var _307=_306.insertBefore(node.ownerDocument.createTextNode(" "),node.nextSibling);_305.collapse(false);_306.removeChild(_307);}}}}else{_305.moveToElementText(_303);_305.collapse(true);}}if(_303.nodeType==3){var _308=dijit.range.adjacentNoneTextNode(_303);var _309=_308[0];len=_308[1];if(_309){_305.moveToElementText(_309);_305.collapse(false);if(_309.contentEditable!="inherit"){len++;}}else{_305.moveToElementText(_303.parentNode);_305.collapse(true);}_304+=len;if(_304>0){if(_305.move("character",_304)!=_304){console.error("Error when moving!");}}}return _305;},decomposeTextRange:function(_30a){var _30b=dijit.range.ie.getEndPoint(_30a);var _30c=_30b[0],_30d=_30b[1];var _30e=_30b[0],_30f=_30b[1];if(_30a.htmlText.length){if(_30a.htmlText==_30a.text){_30f=_30d+_30a.text.length;}else{_30b=dijit.range.ie.getEndPoint(_30a,true);_30e=_30b[0],_30f=_30b[1];}}return [_30c,_30d,_30e,_30f];},setRange:function(_310,_311,_312,_313,_314,_315){var _316=dijit.range.ie.setEndPoint(_310,_311,_312);_310.setEndPoint("StartToStart",_316);if(!_315){var end=dijit.range.ie.setEndPoint(_310,_313,_314);}_310.setEndPoint("EndToEnd",end||_316);return _310;}};dojo.declare("dijit.range.W3CRange",null,{constructor:function(){if(arguments.length>0){this.setStart(arguments[0][0],arguments[0][1]);this.setEnd(arguments[0][2],arguments[0][3]);}else{this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}},_updateInternal:function(){if(this.startContainer!==this.endContainer){this.commonAncestorContainer=dijit.range.getCommonAncestor(this.startContainer,this.endContainer);}else{this.commonAncestorContainer=this.startContainer;}this.collapsed=(this.startContainer===this.endContainer)&&(this.startOffset==this.endOffset);},setStart:function(node,_317){_317=parseInt(_317);if(this.startContainer===node&&this.startOffset==_317){return;}delete this._cachedBookmark;this.startContainer=node;this.startOffset=_317;if(!this.endContainer){this.setEnd(node,_317);}else{this._updateInternal();}},setEnd:function(node,_318){_318=parseInt(_318);if(this.endContainer===node&&this.endOffset==_318){return;}delete this._cachedBookmark;this.endContainer=node;this.endOffset=_318;if(!this.startContainer){this.setStart(node,_318);}else{this._updateInternal();}},setStartAfter:function(node,_319){this._setPoint("setStart",node,_319,1);},setStartBefore:function(node,_31a){this._setPoint("setStart",node,_31a,0);},setEndAfter:function(node,_31b){this._setPoint("setEnd",node,_31b,1);},setEndBefore:function(node,_31c){this._setPoint("setEnd",node,_31c,0);},_setPoint:function(what,node,_31d,ext){var _31e=dijit.range.getIndex(node,node.parentNode).o;this[what](node.parentNode,_31e.pop()+ext);},_getIERange:function(){var r=(this._body||this.endContainer.ownerDocument.body).createTextRange();dijit.range.ie.setRange(r,this.startContainer,this.startOffset,this.endContainer,this.endOffset,this.collapsed);return r;},getBookmark:function(body){this._getIERange();return this._cachedBookmark;},_select:function(){var r=this._getIERange();r.select();},deleteContents:function(){var r=this._getIERange();r.pasteHTML("");this.endContainer=this.startContainer;this.endOffset=this.startOffset;this.collapsed=true;},cloneRange:function(){var r=new dijit.range.W3CRange([this.startContainer,this.startOffset,this.endContainer,this.endOffset]);r._body=this._body;return r;},detach:function(){this._body=null;this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}});}}if(!dojo._hasResource["dijit._editor.html"]){dojo._hasResource["dijit._editor.html"]=true;dojo.provide("dijit._editor.html");dojo.getObject("_editor",true,dijit);dijit._editor.escapeXml=function(str,_31f){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_31f){str=str.replace(/'/gm,"&#39;");}return str;};dijit._editor.getNodeHtml=function(node){var _320;switch(node.nodeType){case 1:var _321=node.nodeName.toLowerCase();if(!_321||_321.charAt(0)=="/"){return "";}_320="<"+_321;var _322=[];var attr;if(dojo.isIE&&node.outerHTML){var s=node.outerHTML;s=s.substr(0,s.indexOf(">")).replace(/(['"])[^"']*\1/g,"");var reg=/(\b\w+)\s?=/g;var m,key;while((m=reg.exec(s))){key=m[1];if(key.substr(0,3)!="_dj"){if(key=="src"||key=="href"){if(node.getAttribute("_djrealurl")){_322.push([key,node.getAttribute("_djrealurl")]);continue;}}var val,_323;switch(key){case "style":val=node.style.cssText.toLowerCase();break;case "class":val=node.className;break;case "width":if(_321==="img"){_323=/width=(\S+)/i.exec(s);if(_323){val=_323[1];}break;}case "height":if(_321==="img"){_323=/height=(\S+)/i.exec(s);if(_323){val=_323[1];}break;}default:val=node.getAttribute(key);}if(val!=null){_322.push([key,val.toString()]);}}}}else{var i=0;while((attr=node.attributes[i++])){var n=attr.name;if(n.substr(0,3)!="_dj"){var v=attr.value;if(n=="src"||n=="href"){if(node.getAttribute("_djrealurl")){v=node.getAttribute("_djrealurl");}}_322.push([n,v]);}}}_322.sort(function(a,b){return a[0]<b[0]?-1:(a[0]==b[0]?0:1);});var j=0;while((attr=_322[j++])){_320+=" "+attr[0]+"=\""+(dojo.isString(attr[1])?dijit._editor.escapeXml(attr[1],true):attr[1])+"\"";}if(_321==="script"){_320+=">"+node.innerHTML+"</"+_321+">";}else{if(node.childNodes.length){_320+=">"+dijit._editor.getChildrenHtml(node)+"</"+_321+">";}else{switch(_321){case "br":case "hr":case "img":case "input":case "base":case "meta":case "area":case "basefont":_320+=" />";break;default:_320+="></"+_321+">";}}}break;case 4:case 3:_320=dijit._editor.escapeXml(node.nodeValue,true);break;case 8:_320="<!--"+dijit._editor.escapeXml(node.nodeValue,true)+"-->";break;default:_320="<!-- Element not recognized - Type: "+node.nodeType+" Name: "+node.nodeName+"-->";}return _320;};dijit._editor.getChildrenHtml=function(dom){var out="";if(!dom){return out;}var _324=dom["childNodes"]||dom;var _325=!dojo.isIE||_324!==dom;var node,i=0;while((node=_324[i++])){if(!_325||node.parentNode==dom){out+=dijit._editor.getNodeHtml(node);}}return out;};}if(!dojo._hasResource["dijit._editor.RichText"]){dojo._hasResource["dijit._editor.RichText"]=true;dojo.provide("dijit._editor.RichText");if(!dojo.config["useXDomain"]||dojo.config["allowXdRichTextSave"]){if(dojo._postLoad){(function(){var _326=dojo.doc.createElement("textarea");_326.id=dijit._scopeName+"._editor.RichText.value";dojo.style(_326,{display:"none",position:"absolute",top:"-100px",height:"3px",width:"3px"});dojo.body().appendChild(_326);})();}else{try{dojo.doc.write("<textarea id=\""+dijit._scopeName+"._editor.RichText.value\" "+"style=\"display:none;position:absolute;top:-100px;left:-100px;height:3px;width:3px;overflow:hidden;\"></textarea>");}catch(e){}}}dojo.declare("dijit._editor.RichText",[dijit._Widget,dijit._CssStateMixin],{constructor:function(_327){this.contentPreFilters=[];this.contentPostFilters=[];this.contentDomPreFilters=[];this.contentDomPostFilters=[];this.editingAreaStyleSheets=[];this.events=[].concat(this.events);this._keyHandlers={};if(_327&&dojo.isString(_327.value)){this.value=_327.value;}this.onLoadDeferred=new dojo.Deferred();},baseClass:"dijitEditor",inheritWidth:false,focusOnLoad:false,name:"",styleSheets:"",height:"300px",minHeight:"1em",isClosed:true,isLoaded:false,_SEPARATOR:"@@**%%__RICHTEXTBOUNDRY__%%**@@",_NAME_CONTENT_SEP:"@@**%%:%%**@@",onLoadDeferred:null,isTabIndent:false,disableSpellCheck:false,postCreate:function(){if("textarea"==this.domNode.tagName.toLowerCase()){console.warn("RichText should not be used with the TEXTAREA tag.  See dijit._editor.RichText docs.");}this.contentPreFilters=[dojo.hitch(this,"_preFixUrlAttributes")].concat(this.contentPreFilters);if(dojo.isMoz){this.contentPreFilters=[this._normalizeFontStyle].concat(this.contentPreFilters);this.contentPostFilters=[this._removeMozBogus].concat(this.contentPostFilters);}if(dojo.isWebKit){this.contentPreFilters=[this._removeWebkitBogus].concat(this.contentPreFilters);this.contentPostFilters=[this._removeWebkitBogus].concat(this.contentPostFilters);}if(dojo.isIE){this.contentPostFilters=[this._normalizeFontStyle].concat(this.contentPostFilters);}this.inherited(arguments);dojo.publish(dijit._scopeName+"._editor.RichText::init",[this]);this.open();this.setupDefaultShortcuts();},setupDefaultShortcuts:function(){var exec=dojo.hitch(this,function(cmd,arg){return function(){return !this.execCommand(cmd,arg);};});var _328={b:exec("bold"),i:exec("italic"),u:exec("underline"),a:exec("selectall"),s:function(){this.save(true);},m:function(){this.isTabIndent=!this.isTabIndent;},"1":exec("formatblock","h1"),"2":exec("formatblock","h2"),"3":exec("formatblock","h3"),"4":exec("formatblock","h4"),"\\":exec("insertunorderedlist")};if(!dojo.isIE){_328.Z=exec("redo");}for(var key in _328){this.addKeyHandler(key,true,false,_328[key]);}},events:["onKeyPress","onKeyDown","onKeyUp"],captureEvents:[],_editorCommandsLocalized:false,_localizeEditorCommands:function(){if(dijit._editor._editorCommandsLocalized){this._local2NativeFormatNames=dijit._editor._local2NativeFormatNames;this._native2LocalFormatNames=dijit._editor._native2LocalFormatNames;return;}dijit._editor._editorCommandsLocalized=true;dijit._editor._local2NativeFormatNames={};dijit._editor._native2LocalFormatNames={};this._local2NativeFormatNames=dijit._editor._local2NativeFormatNames;this._native2LocalFormatNames=dijit._editor._native2LocalFormatNames;var _329=["div","p","pre","h1","h2","h3","h4","h5","h6","ol","ul","address"];var _32a="",_32b,i=0;while((_32b=_329[i++])){if(_32b.charAt(1)!=="l"){_32a+="<"+_32b+"><span>content</span></"+_32b+"><br/>";}else{_32a+="<"+_32b+"><li>content</li></"+_32b+"><br/>";}}var _32c={position:"absolute",top:"0px",zIndex:10,opacity:0.01};var div=dojo.create("div",{style:_32c,innerHTML:_32a});dojo.body().appendChild(div);var _32d=dojo.hitch(this,function(){var node=div.firstChild;while(node){try{dijit._editor.selection.selectElement(node.firstChild);var _32e=node.tagName.toLowerCase();this._local2NativeFormatNames[_32e]=document.queryCommandValue("formatblock");this._native2LocalFormatNames[this._local2NativeFormatNames[_32e]]=_32e;node=node.nextSibling.nextSibling;}catch(e){}}div.parentNode.removeChild(div);div.innerHTML="";});setTimeout(_32d,0);},open:function(_32f){if(!this.onLoadDeferred||this.onLoadDeferred.fired>=0){this.onLoadDeferred=new dojo.Deferred();}if(!this.isClosed){this.close();}dojo.publish(dijit._scopeName+"._editor.RichText::open",[this]);if(arguments.length==1&&_32f.nodeName){this.domNode=_32f;}var dn=this.domNode;var html;if(dojo.isString(this.value)){html=this.value;delete this.value;dn.innerHTML="";}else{if(dn.nodeName&&dn.nodeName.toLowerCase()=="textarea"){var ta=(this.textarea=dn);this.name=ta.name;html=ta.value;dn=this.domNode=dojo.doc.createElement("div");dn.setAttribute("widgetId",this.id);ta.removeAttribute("widgetId");dn.cssText=ta.cssText;dn.className+=" "+ta.className;dojo.place(dn,ta,"before");var _330=dojo.hitch(this,function(){dojo.style(ta,{display:"block",position:"absolute",top:"-1000px"});if(dojo.isIE){var s=ta.style;this.__overflow=s.overflow;s.overflow="hidden";}});if(dojo.isIE){setTimeout(_330,10);}else{_330();}if(ta.form){var _331=ta.value;this.reset=function(){var _332=this.getValue();if(_332!=_331){this.replaceValue(_331);}};dojo.connect(ta.form,"onsubmit",this,function(){dojo.attr(ta,"disabled",this.disabled);ta.value=this.getValue();});}}else{html=dijit._editor.getChildrenHtml(dn);dn.innerHTML="";}}var _333=dojo.contentBox(dn);this._oldHeight=_333.h;this._oldWidth=_333.w;this.value=html;if(dn.nodeName&&dn.nodeName=="LI"){dn.innerHTML=" <br>";}this.header=dn.ownerDocument.createElement("div");dn.appendChild(this.header);this.editingArea=dn.ownerDocument.createElement("div");dn.appendChild(this.editingArea);this.footer=dn.ownerDocument.createElement("div");dn.appendChild(this.footer);if(!this.name){this.name=this.id+"_AUTOGEN";}if(this.name!==""&&(!dojo.config["useXDomain"]||dojo.config["allowXdRichTextSave"])){var _334=dojo.byId(dijit._scopeName+"._editor.RichText.value");if(_334&&_334.value!==""){var _335=_334.value.split(this._SEPARATOR),i=0,dat;while((dat=_335[i++])){var data=dat.split(this._NAME_CONTENT_SEP);if(data[0]==this.name){html=data[1];_335=_335.splice(i,1);_334.value=_335.join(this._SEPARATOR);break;}}}if(!dijit._editor._globalSaveHandler){dijit._editor._globalSaveHandler={};dojo.addOnUnload(function(){var id;for(id in dijit._editor._globalSaveHandler){var f=dijit._editor._globalSaveHandler[id];if(dojo.isFunction(f)){f();}}});}dijit._editor._globalSaveHandler[this.id]=dojo.hitch(this,"_saveContent");}this.isClosed=false;var ifr=(this.editorObject=this.iframe=dojo.doc.createElement("iframe"));ifr.id=this.id+"_iframe";this._iframeSrc=this._getIframeDocTxt();ifr.style.border="none";ifr.style.width="100%";if(this._layoutMode){ifr.style.height="100%";}else{if(dojo.isIE>=7){if(this.height){ifr.style.height=this.height;}if(this.minHeight){ifr.style.minHeight=this.minHeight;}}else{ifr.style.height=this.height?this.height:this.minHeight;}}ifr.frameBorder=0;ifr._loadFunc=dojo.hitch(this,function(win){this.window=win;this.document=this.window.document;if(dojo.isIE){this._localizeEditorCommands();}this.onLoad(html);});var s="javascript:parent."+dijit._scopeName+".byId(\""+this.id+"\")._iframeSrc";ifr.setAttribute("src",s);this.editingArea.appendChild(ifr);if(dojo.isSafari<=4){var src=ifr.getAttribute("src");if(!src||src.indexOf("javascript")==-1){setTimeout(function(){ifr.setAttribute("src",s);},0);}}if(dn.nodeName=="LI"){dn.lastChild.style.marginTop="-1.2em";}dojo.addClass(this.domNode,this.baseClass);},_local2NativeFormatNames:{},_native2LocalFormatNames:{},_getIframeDocTxt:function(){var _336=dojo.getComputedStyle(this.domNode);var html="";var _337=true;if(dojo.isIE||dojo.isWebKit||(!this.height&&!dojo.isMoz)){html="<div id='dijitEditorBody'></div>";_337=false;}else{if(dojo.isMoz){this._cursorToStart=true;html="&nbsp;";}}var font=[_336.fontWeight,_336.fontSize,_336.fontFamily].join(" ");var _338=_336.lineHeight;if(_338.indexOf("px")>=0){_338=parseFloat(_338)/parseFloat(_336.fontSize);}else{if(_338.indexOf("em")>=0){_338=parseFloat(_338);}else{_338="normal";}}var _339="";var self=this;this.style.replace(/(^|;)\s*(line-|font-?)[^;]+/ig,function(_33a){_33a=_33a.replace(/^;/ig,"")+";";var s=_33a.split(":")[0];if(s){s=dojo.trim(s);s=s.toLowerCase();var i;var sC="";for(i=0;i<s.length;i++){var c=s.charAt(i);switch(c){case "-":i++;c=s.charAt(i).toUpperCase();default:sC+=c;}}dojo.style(self.domNode,sC,"");}_339+=_33a+";";});var _33b=dojo.query("label[for=\""+this.id+"\"]");return [this.isLeftToRight()?"<html>\n<head>\n":"<html dir='rtl'>\n<head>\n",(dojo.isMoz&&_33b.length?"<title>"+_33b[0].innerHTML+"</title>\n":""),"<meta http-equiv='Content-Type' content='text/html'>\n","<style>\n","\tbody,html {\n","\t\tbackground:transparent;\n","\t\tpadding: 1px 0 0 0;\n","\t\tmargin: -1px 0 0 0;\n",((dojo.isWebKit)?"\t\twidth: 100%;\n":""),((dojo.isWebKit)?"\t\theight: 100%;\n":""),"\t}\n","\tbody{\n","\t\ttop:0px;\n","\t\tleft:0px;\n","\t\tright:0px;\n","\t\tfont:",font,";\n",((this.height||dojo.isOpera)?"":"\t\tposition: fixed;\n"),"\t\tmin-height:",this.minHeight,";\n","\t\tline-height:",_338,";\n","\t}\n","\tp{ margin: 1em 0; }\n",(!_337&&!this.height?"\tbody,html {overflow-y: hidden;}\n":""),"\t#dijitEditorBody{overflow-x: auto; overflow-y:"+(this.height?"auto;":"hidden;")+" outline: 0px;}\n","\tli > ul:-moz-first-node, li > ol:-moz-first-node{ padding-top: 1.2em; }\n",(!dojo.isIE?"\tli{ min-height:1.2em; }\n":""),"</style>\n",this._applyEditingAreaStyleSheets(),"\n","</head>\n<body ",(_337?"id='dijitEditorBody' ":""),"onload='frameElement._loadFunc(window,document)' style='"+_339+"'>",html,"</body>\n</html>"].join("");},_applyEditingAreaStyleSheets:function(){var _33c=[];if(this.styleSheets){_33c=this.styleSheets.split(";");this.styleSheets="";}_33c=_33c.concat(this.editingAreaStyleSheets);this.editingAreaStyleSheets=[];var text="",i=0,url;while((url=_33c[i++])){var _33d=(new dojo._Url(dojo.global.location,url)).toString();this.editingAreaStyleSheets.push(_33d);text+="<link rel=\"stylesheet\" type=\"text/css\" href=\""+_33d+"\"/>";}return text;},addStyleSheet:function(uri){var url=uri.toString();if(url.charAt(0)=="."||(url.charAt(0)!="/"&&!uri.host)){url=(new dojo._Url(dojo.global.location,url)).toString();}if(dojo.indexOf(this.editingAreaStyleSheets,url)>-1){return;}this.editingAreaStyleSheets.push(url);this.onLoadDeferred.addCallback(dojo.hitch(this,function(){if(this.document.createStyleSheet){this.document.createStyleSheet(url);}else{var head=this.document.getElementsByTagName("head")[0];var _33e=this.document.createElement("link");_33e.rel="stylesheet";_33e.type="text/css";_33e.href=url;head.appendChild(_33e);}}));},removeStyleSheet:function(uri){var url=uri.toString();if(url.charAt(0)=="."||(url.charAt(0)!="/"&&!uri.host)){url=(new dojo._Url(dojo.global.location,url)).toString();}var _33f=dojo.indexOf(this.editingAreaStyleSheets,url);if(_33f==-1){return;}delete this.editingAreaStyleSheets[_33f];dojo.withGlobal(this.window,"query",dojo,["link:[href=\""+url+"\"]"]).orphan();},disabled:false,_mozSettingProps:{"styleWithCSS":false},_setDisabledAttr:function(_340){_340=!!_340;this._set("disabled",_340);if(!this.isLoaded){return;}if(dojo.isIE||dojo.isWebKit||dojo.isOpera){var _341=dojo.isIE&&(this.isLoaded||!this.focusOnLoad);if(_341){this.editNode.unselectable="on";}this.editNode.contentEditable=!_340;if(_341){var _342=this;setTimeout(function(){_342.editNode.unselectable="off";},0);}}else{try{this.document.designMode=(_340?"off":"on");}catch(e){return;}if(!_340&&this._mozSettingProps){var ps=this._mozSettingProps;for(var n in ps){if(ps.hasOwnProperty(n)){try{this.document.execCommand(n,false,ps[n]);}catch(e2){}}}}}this._disabledOK=true;},onLoad:function(html){if(!this.window.__registeredWindow){this.window.__registeredWindow=true;this._iframeRegHandle=dijit.registerIframe(this.iframe);}if(!dojo.isIE&&!dojo.isWebKit&&(this.height||dojo.isMoz)){this.editNode=this.document.body;}else{this.editNode=this.document.body.firstChild;var _343=this;if(dojo.isIE){this.tabStop=dojo.create("div",{tabIndex:-1},this.editingArea);this.iframe.onfocus=function(){_343.editNode.setActive();};}}this.focusNode=this.editNode;var _344=this.events.concat(this.captureEvents);var ap=this.iframe?this.document:this.editNode;dojo.forEach(_344,function(item){this.connect(ap,item.toLowerCase(),item);},this);this.connect(ap,"onmouseup","onClick");if(dojo.isIE){this.connect(this.document,"onmousedown","_onIEMouseDown");this.editNode.style.zoom=1;}else{this.connect(this.document,"onmousedown",function(){delete this._cursorToStart;});}if(dojo.isWebKit){this._webkitListener=this.connect(this.document,"onmouseup","onDisplayChanged");this.connect(this.document,"onmousedown",function(e){var t=e.target;if(t&&(t===this.document.body||t===this.document)){setTimeout(dojo.hitch(this,"placeCursorAtEnd"),0);}});}if(dojo.isIE){try{this.document.execCommand("RespectVisibilityInDesign",true,null);}catch(e){}}this.isLoaded=true;this.set("disabled",this.disabled);var _345=dojo.hitch(this,function(){this.setValue(html);if(this.onLoadDeferred){this.onLoadDeferred.callback(true);}this.onDisplayChanged();if(this.focusOnLoad){dojo.addOnLoad(dojo.hitch(this,function(){setTimeout(dojo.hitch(this,"focus"),this.updateInterval);}));}this.value=this.getValue(true);});if(this.setValueDeferred){this.setValueDeferred.addCallback(_345);}else{_345();}},onKeyDown:function(e){if(e.keyCode===dojo.keys.TAB&&this.isTabIndent){dojo.stopEvent(e);if(this.queryCommandEnabled((e.shiftKey?"outdent":"indent"))){this.execCommand((e.shiftKey?"outdent":"indent"));}}if(dojo.isIE){if(e.keyCode==dojo.keys.TAB&&!this.isTabIndent){if(e.shiftKey&&!e.ctrlKey&&!e.altKey){this.iframe.focus();}else{if(!e.shiftKey&&!e.ctrlKey&&!e.altKey){this.tabStop.focus();}}}else{if(e.keyCode===dojo.keys.BACKSPACE&&this.document.selection.type==="Control"){dojo.stopEvent(e);this.execCommand("delete");}else{if((65<=e.keyCode&&e.keyCode<=90)||(e.keyCode>=37&&e.keyCode<=40)){e.charCode=e.keyCode;this.onKeyPress(e);}}}}return true;},onKeyUp:function(e){return;},setDisabled:function(_346){dojo.deprecated("dijit.Editor::setDisabled is deprecated","use dijit.Editor::attr(\"disabled\",boolean) instead",2);this.set("disabled",_346);},_setValueAttr:function(_347){this.setValue(_347);},_setDisableSpellCheckAttr:function(_348){if(this.document){dojo.attr(this.document.body,"spellcheck",!_348);}else{this.onLoadDeferred.addCallback(dojo.hitch(this,function(){dojo.attr(this.document.body,"spellcheck",!_348);}));}this._set("disableSpellCheck",_348);},onKeyPress:function(e){var c=(e.keyChar&&e.keyChar.toLowerCase())||e.keyCode,_349=this._keyHandlers[c],args=arguments;if(_349&&!e.altKey){dojo.some(_349,function(h){if(!(h.shift^e.shiftKey)&&!(h.ctrl^(e.ctrlKey||e.metaKey))){if(!h.handler.apply(this,args)){e.preventDefault();}return true;}},this);}if(!this._onKeyHitch){this._onKeyHitch=dojo.hitch(this,"onKeyPressed");}setTimeout(this._onKeyHitch,1);return true;},addKeyHandler:function(key,ctrl,_34a,_34b){if(!dojo.isArray(this._keyHandlers[key])){this._keyHandlers[key]=[];}this._keyHandlers[key].push({shift:_34a||false,ctrl:ctrl||false,handler:_34b});},onKeyPressed:function(){this.onDisplayChanged();},onClick:function(e){this.onDisplayChanged(e);},_onIEMouseDown:function(e){if(!this._focused&&!this.disabled){this.focus();}},_onBlur:function(e){this.inherited(arguments);var _34c=this.getValue(true);if(_34c!=this.value){this.onChange(_34c);}this._set("value",_34c);},_onFocus:function(e){if(!this.disabled){if(!this._disabledOK){this.set("disabled",false);}this.inherited(arguments);}},blur:function(){if(!dojo.isIE&&this.window.document.documentElement&&this.window.document.documentElement.focus){this.window.document.documentElement.focus();}else{if(dojo.doc.body.focus){dojo.doc.body.focus();}}},focus:function(){if(!this.isLoaded){this.focusOnLoad=true;return;}if(this._cursorToStart){delete this._cursorToStart;if(this.editNode.childNodes){this.placeCursorAtStart();return;}}if(!dojo.isIE){dijit.focus(this.iframe);}else{if(this.editNode&&this.editNode.focus){this.iframe.fireEvent("onfocus",document.createEventObject());}}},updateInterval:200,_updateTimer:null,onDisplayChanged:function(e){if(this._updateTimer){clearTimeout(this._updateTimer);}if(!this._updateHandler){this._updateHandler=dojo.hitch(this,"onNormalizedDisplayChanged");}this._updateTimer=setTimeout(this._updateHandler,this.updateInterval);},onNormalizedDisplayChanged:function(){delete this._updateTimer;},onChange:function(_34d){},_normalizeCommand:function(cmd,_34e){var _34f=cmd.toLowerCase();if(_34f=="formatblock"){if(dojo.isSafari&&_34e===undefined){_34f="heading";}}else{if(_34f=="hilitecolor"&&!dojo.isMoz){_34f="backcolor";}}return _34f;},_qcaCache:{},queryCommandAvailable:function(_350){var ca=this._qcaCache[_350];if(ca!==undefined){return ca;}return (this._qcaCache[_350]=this._queryCommandAvailable(_350));},_queryCommandAvailable:function(_351){var ie=1;var _352=1<<1;var _353=1<<2;var _354=1<<3;function _355(_356){return {ie:Boolean(_356&ie),mozilla:Boolean(_356&_352),webkit:Boolean(_356&_353),opera:Boolean(_356&_354)};};var _357=null;switch(_351.toLowerCase()){case "bold":case "italic":case "underline":case "subscript":case "superscript":case "fontname":case "fontsize":case "forecolor":case "hilitecolor":case "justifycenter":case "justifyfull":case "justifyleft":case "justifyright":case "delete":case "selectall":case "toggledir":_357=_355(_352|ie|_353|_354);break;case "createlink":case "unlink":case "removeformat":case "inserthorizontalrule":case "insertimage":case "insertorderedlist":case "insertunorderedlist":case "indent":case "outdent":case "formatblock":case "inserthtml":case "undo":case "redo":case "strikethrough":case "tabindent":_357=_355(_352|ie|_354|_353);break;case "blockdirltr":case "blockdirrtl":case "dirltr":case "dirrtl":case "inlinedirltr":case "inlinedirrtl":_357=_355(ie);break;case "cut":case "copy":case "paste":_357=_355(ie|_352|_353);break;case "inserttable":_357=_355(_352|ie);break;case "insertcell":case "insertcol":case "insertrow":case "deletecells":case "deletecols":case "deleterows":case "mergecells":case "splitcell":_357=_355(ie|_352);break;default:return false;}return (dojo.isIE&&_357.ie)||(dojo.isMoz&&_357.mozilla)||(dojo.isWebKit&&_357.webkit)||(dojo.isOpera&&_357.opera);},execCommand:function(_358,_359){var _35a;this.focus();_358=this._normalizeCommand(_358,_359);if(_359!==undefined){if(_358=="heading"){throw new Error("unimplemented");}else{if((_358=="formatblock")&&dojo.isIE){_359="<"+_359+">";}}}var _35b="_"+_358+"Impl";if(this[_35b]){_35a=this[_35b](_359);}else{_359=arguments.length>1?_359:null;if(_359||_358!="createlink"){_35a=this.document.execCommand(_358,false,_359);}}this.onDisplayChanged();return _35a;},queryCommandEnabled:function(_35c){if(this.disabled||!this._disabledOK){return false;}_35c=this._normalizeCommand(_35c);if(dojo.isMoz||dojo.isWebKit){if(_35c=="unlink"){return this._sCall("hasAncestorElement",["a"]);}else{if(_35c=="inserttable"){return true;}}}if(dojo.isWebKit){if(_35c=="cut"||_35c=="copy"){var sel=this.window.getSelection();if(sel){sel=sel.toString();}return !!sel;}else{if(_35c=="paste"){return true;}}}var elem=dojo.isIE?this.document.selection.createRange():this.document;try{return elem.queryCommandEnabled(_35c);}catch(e){return false;}},queryCommandState:function(_35d){if(this.disabled||!this._disabledOK){return false;}_35d=this._normalizeCommand(_35d);try{return this.document.queryCommandState(_35d);}catch(e){return false;}},queryCommandValue:function(_35e){if(this.disabled||!this._disabledOK){return false;}var r;_35e=this._normalizeCommand(_35e);if(dojo.isIE&&_35e=="formatblock"){r=this._native2LocalFormatNames[this.document.queryCommandValue(_35e)];}else{if(dojo.isMoz&&_35e==="hilitecolor"){var _35f;try{_35f=this.document.queryCommandValue("styleWithCSS");}catch(e){_35f=false;}this.document.execCommand("styleWithCSS",false,true);r=this.document.queryCommandValue(_35e);this.document.execCommand("styleWithCSS",false,_35f);}else{r=this.document.queryCommandValue(_35e);}}return r;},_sCall:function(name,args){return dojo.withGlobal(this.window,name,dijit._editor.selection,args);},placeCursorAtStart:function(){this.focus();var _360=false;if(dojo.isMoz){var _361=this.editNode.firstChild;while(_361){if(_361.nodeType==3){if(_361.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_360=true;this._sCall("selectElement",[_361]);break;}}else{if(_361.nodeType==1){_360=true;var tg=_361.tagName?_361.tagName.toLowerCase():"";if(/br|input|img|base|meta|area|basefont|hr|link/.test(tg)){this._sCall("selectElement",[_361]);}else{this._sCall("selectElementChildren",[_361]);}break;}}_361=_361.nextSibling;}}else{_360=true;this._sCall("selectElementChildren",[this.editNode]);}if(_360){this._sCall("collapse",[true]);}},placeCursorAtEnd:function(){this.focus();var _362=false;if(dojo.isMoz){var last=this.editNode.lastChild;while(last){if(last.nodeType==3){if(last.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_362=true;this._sCall("selectElement",[last]);break;}}else{if(last.nodeType==1){_362=true;if(last.lastChild){this._sCall("selectElement",[last.lastChild]);}else{this._sCall("selectElement",[last]);}break;}}last=last.previousSibling;}}else{_362=true;this._sCall("selectElementChildren",[this.editNode]);}if(_362){this._sCall("collapse",[false]);}},getValue:function(_363){if(this.textarea){if(this.isClosed||!this.isLoaded){return this.textarea.value;}}return this._postFilterContent(null,_363);},_getValueAttr:function(){return this.getValue(true);},setValue:function(html){if(!this.isLoaded){this.onLoadDeferred.addCallback(dojo.hitch(this,function(){this.setValue(html);}));return;}this._cursorToStart=true;if(this.textarea&&(this.isClosed||!this.isLoaded)){this.textarea.value=html;}else{html=this._preFilterContent(html);var node=this.isClosed?this.domNode:this.editNode;if(html&&dojo.isMoz&&html.toLowerCase()=="<p></p>"){html="<p>&nbsp;</p>";}if(!html&&dojo.isWebKit){html="&nbsp;";}node.innerHTML=html;this._preDomFilterContent(node);}this.onDisplayChanged();this._set("value",this.getValue(true));},replaceValue:function(html){if(this.isClosed){this.setValue(html);}else{if(this.window&&this.window.getSelection&&!dojo.isMoz){this.setValue(html);}else{if(this.window&&this.window.getSelection){html=this._preFilterContent(html);this.execCommand("selectall");if(!html){this._cursorToStart=true;html="&nbsp;";}this.execCommand("inserthtml",html);this._preDomFilterContent(this.editNode);}else{if(this.document&&this.document.selection){this.setValue(html);}}}}this._set("value",this.getValue(true));},_preFilterContent:function(html){var ec=html;dojo.forEach(this.contentPreFilters,function(ef){if(ef){ec=ef(ec);}});return ec;},_preDomFilterContent:function(dom){dom=dom||this.editNode;dojo.forEach(this.contentDomPreFilters,function(ef){if(ef&&dojo.isFunction(ef)){ef(dom);}},this);},_postFilterContent:function(dom,_364){var ec;if(!dojo.isString(dom)){dom=dom||this.editNode;if(this.contentDomPostFilters.length){if(_364){dom=dojo.clone(dom);}dojo.forEach(this.contentDomPostFilters,function(ef){dom=ef(dom);});}ec=dijit._editor.getChildrenHtml(dom);}else{ec=dom;}if(!dojo.trim(ec.replace(/^\xA0\xA0*/,"").replace(/\xA0\xA0*$/,"")).length){ec="";}dojo.forEach(this.contentPostFilters,function(ef){ec=ef(ec);});return ec;},_saveContent:function(e){var _365=dojo.byId(dijit._scopeName+"._editor.RichText.value");if(_365.value){_365.value+=this._SEPARATOR;}_365.value+=this.name+this._NAME_CONTENT_SEP+this.getValue(true);},escapeXml:function(str,_366){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_366){str=str.replace(/'/gm,"&#39;");}return str;},getNodeHtml:function(node){dojo.deprecated("dijit.Editor::getNodeHtml is deprecated","use dijit._editor.getNodeHtml instead",2);return dijit._editor.getNodeHtml(node);},getNodeChildrenHtml:function(dom){dojo.deprecated("dijit.Editor::getNodeChildrenHtml is deprecated","use dijit._editor.getChildrenHtml instead",2);return dijit._editor.getChildrenHtml(dom);},close:function(save){if(this.isClosed){return;}if(!arguments.length){save=true;}if(save){this._set("value",this.getValue(true));}if(this.interval){clearInterval(this.interval);}if(this._webkitListener){this.disconnect(this._webkitListener);delete this._webkitListener;}if(dojo.isIE){this.iframe.onfocus=null;}this.iframe._loadFunc=null;if(this._iframeRegHandle){dijit.unregisterIframe(this._iframeRegHandle);delete this._iframeRegHandle;}if(this.textarea){var s=this.textarea.style;s.position="";s.left=s.top="";if(dojo.isIE){s.overflow=this.__overflow;this.__overflow=null;}this.textarea.value=this.value;dojo.destroy(this.domNode);this.domNode=this.textarea;}else{this.domNode.innerHTML=this.value;}delete this.iframe;dojo.removeClass(this.domNode,this.baseClass);this.isClosed=true;this.isLoaded=false;delete this.editNode;delete this.focusNode;if(this.window&&this.window._frameElement){this.window._frameElement=null;}this.window=null;this.document=null;this.editingArea=null;this.editorObject=null;},destroy:function(){if(!this.isClosed){this.close(false);}this.inherited(arguments);if(dijit._editor._globalSaveHandler){delete dijit._editor._globalSaveHandler[this.id];}},_removeMozBogus:function(html){return html.replace(/\stype="_moz"/gi,"").replace(/\s_moz_dirty=""/gi,"").replace(/_moz_resizing="(true|false)"/gi,"");},_removeWebkitBogus:function(html){html=html.replace(/\sclass="webkit-block-placeholder"/gi,"");html=html.replace(/\sclass="apple-style-span"/gi,"");html=html.replace(/<meta charset=\"utf-8\" \/>/gi,"");return html;},_normalizeFontStyle:function(html){return html.replace(/<(\/)?strong([ \>])/gi,"<$1b$2").replace(/<(\/)?em([ \>])/gi,"<$1i$2");},_preFixUrlAttributes:function(html){return html.replace(/(?:(<a(?=\s).*?\shref=)("|')(.*?)\2)|(?:(<a\s.*?href=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2").replace(/(?:(<img(?=\s).*?\ssrc=)("|')(.*?)\2)|(?:(<img\s.*?src=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2");},_inserthorizontalruleImpl:function(_367){if(dojo.isIE){return this._inserthtmlImpl("<hr>");}return this.document.execCommand("inserthorizontalrule",false,_367);},_unlinkImpl:function(_368){if((this.queryCommandEnabled("unlink"))&&(dojo.isMoz||dojo.isWebKit)){var a=this._sCall("getAncestorElement",["a"]);this._sCall("selectElement",[a]);return this.document.execCommand("unlink",false,null);}return this.document.execCommand("unlink",false,_368);},_hilitecolorImpl:function(_369){var _36a;if(dojo.isMoz){this.document.execCommand("styleWithCSS",false,true);_36a=this.document.execCommand("hilitecolor",false,_369);this.document.execCommand("styleWithCSS",false,false);}else{_36a=this.document.execCommand("hilitecolor",false,_369);}return _36a;},_backcolorImpl:function(_36b){if(dojo.isIE){_36b=_36b?_36b:null;}return this.document.execCommand("backcolor",false,_36b);},_forecolorImpl:function(_36c){if(dojo.isIE){_36c=_36c?_36c:null;}return this.document.execCommand("forecolor",false,_36c);},_inserthtmlImpl:function(_36d){_36d=this._preFilterContent(_36d);var rv=true;if(dojo.isIE){var _36e=this.document.selection.createRange();if(this.document.selection.type.toUpperCase()=="CONTROL"){var n=_36e.item(0);while(_36e.length){_36e.remove(_36e.item(0));}n.outerHTML=_36d;}else{_36e.pasteHTML(_36d);}_36e.select();}else{if(dojo.isMoz&&!_36d.length){this._sCall("remove");}else{rv=this.document.execCommand("inserthtml",false,_36d);}}return rv;},_boldImpl:function(_36f){if(dojo.isIE){this._adaptIESelection();}return this.document.execCommand("bold",false,_36f);},_italicImpl:function(_370){if(dojo.isIE){this._adaptIESelection();}return this.document.execCommand("italic",false,_370);},_underlineImpl:function(_371){if(dojo.isIE){this._adaptIESelection();}return this.document.execCommand("underline",false,_371);},_strikethroughImpl:function(_372){if(dojo.isIE){this._adaptIESelection();}return this.document.execCommand("strikethrough",false,_372);},getHeaderHeight:function(){return this._getNodeChildrenHeight(this.header);},getFooterHeight:function(){return this._getNodeChildrenHeight(this.footer);},_getNodeChildrenHeight:function(node){var h=0;if(node&&node.childNodes){var i;for(i=0;i<node.childNodes.length;i++){var size=dojo.position(node.childNodes[i]);h+=size.h;}}return h;},_isNodeEmpty:function(node,_373){if(node.nodeType==1){if(node.childNodes.length>0){return this._isNodeEmpty(node.childNodes[0],_373);}return true;}else{if(node.nodeType==3){return (node.nodeValue.substring(_373)=="");}}return false;},_removeStartingRangeFromRange:function(node,_374){if(node.nextSibling){_374.setStart(node.nextSibling,0);}else{var _375=node.parentNode;while(_375&&_375.nextSibling==null){_375=_375.parentNode;}if(_375){_374.setStart(_375.nextSibling,0);}}return _374;},_adaptIESelection:function(){var _376=dijit.range.getSelection(this.window);if(_376&&_376.rangeCount&&!_376.isCollapsed){var _377=_376.getRangeAt(0);var _378=_377.startContainer;var _379=_377.startOffset;while(_378.nodeType==3&&_379>=_378.length&&_378.nextSibling){_379=_379-_378.length;_378=_378.nextSibling;}var _37a=null;while(this._isNodeEmpty(_378,_379)&&_378!=_37a){_37a=_378;_377=this._removeStartingRangeFromRange(_378,_377);_378=_377.startContainer;_379=0;}_376.removeAllRanges();_376.addRange(_377);}}});}if(!dojo._hasResource["dijit._KeyNavContainer"]){dojo._hasResource["dijit._KeyNavContainer"]=true;dojo.provide("dijit._KeyNavContainer");dojo.declare("dijit._KeyNavContainer",dijit._Container,{tabIndex:"0",_keyNavCodes:{},connectKeyNavHandlers:function(_37b,_37c){var _37d=(this._keyNavCodes={});var prev=dojo.hitch(this,this.focusPrev);var next=dojo.hitch(this,this.focusNext);dojo.forEach(_37b,function(code){_37d[code]=prev;});dojo.forEach(_37c,function(code){_37d[code]=next;});_37d[dojo.keys.HOME]=dojo.hitch(this,"focusFirstChild");_37d[dojo.keys.END]=dojo.hitch(this,"focusLastChild");this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){dojo.forEach(this.getChildren(),dojo.hitch(this,"_startupChild"));},addChild:function(_37e,_37f){dijit._KeyNavContainer.superclass.addChild.apply(this,arguments);this._startupChild(_37e);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){var _380=this._getFirstFocusableChild();if(_380){this.focusChild(_380);}},focusLastChild:function(){var _381=this._getLastFocusableChild();if(_381){this.focusChild(_381);}},focusNext:function(){var _382=this._getNextFocusableChild(this.focusedChild,1);this.focusChild(_382);},focusPrev:function(){var _383=this._getNextFocusableChild(this.focusedChild,-1);this.focusChild(_383,true);},focusChild:function(_384,last){if(this.focusedChild&&_384!==this.focusedChild){this._onChildBlur(this.focusedChild);}_384.set("tabIndex",this.tabIndex);_384.focus(last?"end":"start");this._set("focusedChild",_384);},_startupChild:function(_385){_385.set("tabIndex","-1");this.connect(_385,"_onFocus",function(){_385.set("tabIndex",this.tabIndex);});this.connect(_385,"_onBlur",function(){_385.set("tabIndex","-1");});},_onContainerFocus:function(evt){if(evt.target!==this.domNode){return;}this.focusFirstChild();dojo.attr(this.domNode,"tabIndex","-1");},_onBlur:function(evt){if(this.tabIndex){dojo.attr(this.domNode,"tabIndex",this.tabIndex);}this.inherited(arguments);},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();dojo.stopEvent(evt);}},_onChildBlur:function(_386){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1);},_getNextFocusableChild:function(_387,dir){if(_387){_387=this._getSiblingOfChild(_387,dir);}var _388=this.getChildren();for(var i=0;i<_388.length;i++){if(!_387){_387=_388[(dir>0)?0:(_388.length-1)];}if(_387.isFocusable()){return _387;}_387=this._getSiblingOfChild(_387,dir);}return null;}});}if(!dojo._hasResource["dijit.ToolbarSeparator"]){dojo._hasResource["dijit.ToolbarSeparator"]=true;dojo.provide("dijit.ToolbarSeparator");dojo.declare("dijit.ToolbarSeparator",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dijitToolbarSeparator dijitInline\" role=\"presentation\"></div>",buildRendering:function(){this.inherited(arguments);dojo.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});}if(!dojo._hasResource["dijit.Toolbar"]){dojo._hasResource["dijit.Toolbar"]=true;dojo.provide("dijit.Toolbar");dojo.declare("dijit.Toolbar",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{templateString:"<div class=\"dijit\" role=\"toolbar\" tabIndex=\"${tabIndex}\" dojoAttachPoint=\"containerNode\">"+"</div>",baseClass:"dijitToolbar",postCreate:function(){this.inherited(arguments);this.connectKeyNavHandlers(this.isLeftToRight()?[dojo.keys.LEFT_ARROW]:[dojo.keys.RIGHT_ARROW],this.isLeftToRight()?[dojo.keys.RIGHT_ARROW]:[dojo.keys.LEFT_ARROW]);},startup:function(){if(this._started){return;}this.startupKeyNavChildren();this.inherited(arguments);}});}if(!dojo._hasResource["dijit._HasDropDown"]){dojo._hasResource["dijit._HasDropDown"]=true;dojo.provide("dijit._HasDropDown");dojo.declare("dijit._HasDropDown",null,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}dojo.stopEvent(e);this._docHandler=this.connect(dojo.doc,"onmouseup","_onDropDownMouseUp");this.toggleDropDown();},_onDropDownMouseUp:function(e){if(e&&this._docHandler){this.disconnect(this._docHandler);}var _389=this.dropDown,_38a=false;if(e&&this._opened){var c=dojo.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_38a){if(dojo.hasClass(t,"dijitPopup")){_38a=true;}else{t=t.parentNode;}}if(_38a){t=e.target;if(_389.onItemClick){var _38b;while(t&&!(_38b=dijit.byNode(t))){t=t.parentNode;}if(_38b&&_38b.onClick&&_38b.getParent){_38b.getParent().onItemClick(_38b,e);}}return;}}}if(this._opened&&_389.focus&&_389.autoFocus!==false){window.setTimeout(dojo.hitch(_389,"focus"),1);}},_onDropDownClick:function(e){if(this._stopClickEvents){dojo.stopEvent(e);}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _38c={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";dojo.addClass(this._arrowWrapperNode||this._buttonNode,"dijit"+_38c+"ArrowButton");},postCreate:function(){this.inherited(arguments);this.connect(this._buttonNode,"onmousedown","_onDropDownMouseDown");this.connect(this._buttonNode,"onclick","_onDropDownClick");this.connect(this.focusNode,"onkeypress","_onKey");this.connect(this.focusNode,"onkeyup","_onKeyUp");},destroy:function(){if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_38d=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){dojo.stopEvent(e);return;}}if(d&&this._opened&&e.charOrCode==dojo.keys.ESCAPE){this.closeDropDown();dojo.stopEvent(e);}else{if(!this._opened&&(e.charOrCode==dojo.keys.DOWN_ARROW||((e.charOrCode==dojo.keys.ENTER||e.charOrCode==" ")&&((_38d.tagName||"").toLowerCase()!=="input"||(_38d.type&&_38d.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;dojo.stopEvent(e);}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){setTimeout(dojo.hitch(d,"focus"),1);}}},_onBlur:function(){var _38e=dijit._curFocus&&this.dropDown&&dojo.isDescendant(dijit._curFocus,this.dropDown.domNode);this.closeDropDown(_38e);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_38f){_38f();},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){if(!this.isLoaded()){this.loadDropDown(dojo.hitch(this,"openDropDown"));return;}else{this.openDropDown();}}else{this.closeDropDown();}},openDropDown:function(){var _390=this.dropDown,_391=_390.domNode,_392=this._aroundNode||this.domNode,self=this;if(!this._preparedNode){this._preparedNode=true;if(_391.style.width){this._explicitDDWidth=true;}if(_391.style.height){this._explicitDDHeight=true;}}if(this.maxHeight||this.forceWidth||this.autoWidth){var _393={display:"",visibility:"hidden"};if(!this._explicitDDWidth){_393.width="";}if(!this._explicitDDHeight){_393.height="";}dojo.style(_391,_393);var _394=this.maxHeight;if(_394==-1){var _395=dojo.window.getBox(),_396=dojo.position(_392,false);_394=Math.floor(Math.max(_396.y,_395.h-(_396.y+_396.h)));}if(_390.startup&&!_390._started){_390.startup();}dijit.popup.moveOffScreen(_390);var mb=dojo._getMarginSize(_391);var _397=(_394&&mb.h>_394);dojo.style(_391,{overflowX:"hidden",overflowY:_397?"auto":"hidden"});if(_397){mb.h=_394;if("w" in mb){mb.w+=16;}}else{delete mb.h;}if(this.forceWidth){mb.w=_392.offsetWidth;}else{if(this.autoWidth){mb.w=Math.max(mb.w,_392.offsetWidth);}else{delete mb.w;}}if(dojo.isFunction(_390.resize)){_390.resize(mb);}else{dojo.marginBox(_391,mb);}}var _398=dijit.popup.open({parent:this,popup:_390,around:_392,orient:dijit.getPopupAroundAlignment((this.dropDownPosition&&this.dropDownPosition.length)?this.dropDownPosition:["below"],this.isLeftToRight()),onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){dojo.attr(self._popupStateNode,"popupActive",false);dojo.removeClass(self._popupStateNode,"dijitHasDropDownOpen");self._opened=false;}});dojo.attr(this._popupStateNode,"popupActive","true");dojo.addClass(self._popupStateNode,"dijitHasDropDownOpen");this._opened=true;return _398;},closeDropDown:function(_399){if(this._opened){if(_399){this.focus();}dijit.popup.close(this.dropDown);this._opened=false;}}});}if(!dojo._hasResource["dijit.form.Button"]){dojo._hasResource["dijit.form.Button"]=true;dojo.provide("dijit.form.Button");dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:true,iconClass:"",type:"button",baseClass:"dijitButton",templateString:dojo.cache("dijit.form","templates/Button.html","<span class=\"dijit dijitReset dijitInline\">\n  <span class=\"dijitReset dijitInline dijitButtonNode pentaho-button\"\n           dojoAttachEvent=\"ondijitclick:_onButtonClick\"><span class=\"dijitReset dijitStretch dijitButtonContents\"\n           dojoAttachPoint=\"titleNode,focusNode\"\n           role=\"button\" aria-labelledby=\"${id}_label\">\n    <span class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\"></span>\n    <span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span>\n    <span class=\"dijitReset dijitInline dijitButtonText\"\n           id=\"${id}_label\"\n           dojoAttachPoint=\"containerNode\">\n\n           </span></span></span>\n    <input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\" dojoAttachPoint=\"valueNode\"/>\n</span>\n"),attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:"valueNode"}),_onClick:function(e){if(this.disabled){return false;}this._clicked();return this.onClick(e);},_onButtonClick:function(e){if(this._onClick(e)===false){e.preventDefault();}else{if(this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _39a=dijit.byNode(node);if(_39a&&typeof _39a._onSubmit=="function"){_39a._onSubmit(e);break;}}}else{if(this.valueNode){this.valueNode.click();e.preventDefault();}}}},buildRendering:function(){this.inherited(arguments);dojo.setSelectable(this.focusNode,false);},_fillContent:function(_39b){if(_39b&&(!this.params||!("label" in this.params))){this.set("label",_39b.innerHTML);}},_setShowLabelAttr:function(val){if(this.containerNode){dojo.toggleClass(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},onClick:function(e){return true;},_clicked:function(e){},setLabel:function(_39c){dojo.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_39c);},_setLabelAttr:function(_39d){this._set("label",_39d);this.containerNode.innerHTML=_39d;if(this.showLabel==false&&!this.params.title){this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}},_setIconClassAttr:function(val){var _39e=this.iconClass||"dijitNoIcon",_39f=val||"dijitNoIcon";dojo.replaceClass(this.iconNode,_39f,_39e);this._set("iconClass",val);}});dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container,dijit._HasDropDown],{baseClass:"dijitDropDownButton",templateString:dojo.cache("dijit.form","templates/DropDownButton.html","<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick\" dojoAttachPoint=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"focusNode,titleNode,_arrowWrapperNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdojoAttachPoint=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdojoAttachPoint=\"containerNode,_popupStateNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdojoAttachPoint=\"valueNode\"\n/></span>\n"),_fillContent:function(){if(this.srcNodeRef){var _3a0=dojo.query("*",this.srcNodeRef);dijit.form.DropDownButton.superclass._fillContent.call(this,_3a0[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _3a1=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(_3a1);delete this.dropDownContainer;}if(this.dropDown){dijit.popup.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _3a2=this.dropDown;return (!!_3a2&&(!_3a2.href||_3a2.isLoaded));},loadDropDown:function(){var _3a3=this.dropDown;if(!_3a3){return;}if(!this.isLoaded()){var _3a4=dojo.connect(_3a3,"onLoad",this,function(){dojo.disconnect(_3a4);this.openDropDown();});_3a3.refresh();}else{this.openDropDown();}},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:dojo.cache("dijit.form","templates/ComboButton.html","<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" dojoAttachPoint=\"buttonNode\" dojoAttachEvent=\"ondijitclick:_onButtonClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" dojoAttachPoint=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdojoAttachPoint=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdojoAttachEvent=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" dojoAttachPoint=\"valueNode\"\n\t\t/></td></tr></tbody\n></table>\n"),attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{id:"",tabIndex:["focusNode","titleNode"],title:"titleNode"}),optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyPress:function(evt){if(evt.charOrCode==dojo.keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){dijit.focus(this._popupStateNode);dojo.stopEvent(evt);}},_onArrowKeyPress:function(evt){if(evt.charOrCode==dojo.keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){dijit.focus(this.titleNode);dojo.stopEvent(evt);}},focus:function(_3a5){if(!this.disabled){dijit.focus(_3a5=="start"?this.titleNode:this._popupStateNode);}}});dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:false,attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{checked:"focusNode"}),_clicked:function(evt){this.set("checked",!this.checked);},_setCheckedAttr:function(_3a6,_3a7){this._set("checked",_3a6);dojo.attr(this.focusNode||this.domNode,"checked",_3a6);dijit.setWaiState(this.focusNode||this.domNode,"pressed",_3a6);this._handleOnChange(_3a6,_3a7);},setChecked:function(_3a8){dojo.deprecated("setChecked("+_3a8+") is deprecated. Use set('checked',"+_3a8+") instead.","","2.0");this.set("checked",_3a8);},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});}if(!dojo._hasResource["dijit._editor._Plugin"]){dojo._hasResource["dijit._editor._Plugin"]=true;dojo.provide("dijit._editor._Plugin");dojo.declare("dijit._editor._Plugin",null,{constructor:function(args,node){this.params=args||{};dojo.mixin(this,this.params);this._connects=[];this._attrPairNames={};},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,command:"",useDefaultCommand:true,buttonClass:dijit.form.Button,disabled:false,getLabel:function(key){return this.editor.commands[key];},_initButton:function(){if(this.command.length){var _3a9=this.getLabel(this.command),_3aa=this.editor,_3ab=this.iconClassPrefix+" "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);if(!this.button){var _3ac=dojo.mixin({label:_3a9,dir:_3aa.dir,lang:_3aa.lang,showLabel:false,iconClass:_3ab,dropDown:this.dropDown,tabIndex:"-1"},this.params||{});this.button=new this.buttonClass(_3ac);}}if(this.get("disabled")&&this.button){this.button.set("disabled",this.get("disabled"));}},destroy:function(){dojo.forEach(this._connects,dojo.disconnect);if(this.dropDown){this.dropDown.destroyRecursive();}},connect:function(o,f,tf){this._connects.push(dojo.connect(o,f,this,tf));},updateState:function(){var e=this.editor,c=this.command,_3ad,_3ae;if(!e||!e.isLoaded||!c.length){return;}var _3af=this.get("disabled");if(this.button){try{_3ae=!_3af&&e.queryCommandEnabled(c);if(this.enabled!==_3ae){this.enabled=_3ae;this.button.set("disabled",!_3ae);}if(typeof this.button.checked=="boolean"){_3ad=e.queryCommandState(c);if(this.checked!==_3ad){this.checked=_3ad;this.button.set("checked",e.queryCommandState(c));}}}catch(e){console.log(e);}}},setEditor:function(_3b0){this.editor=_3b0;this._initButton();if(this.button&&this.useDefaultCommand){if(this.editor.queryCommandAvailable(this.command)){this.connect(this.button,"onClick",dojo.hitch(this.editor,"execCommand",this.command,this.commandArg));}else{this.button.domNode.style.display="none";}}this.connect(this.editor,"onNormalizedDisplayChanged","updateState");},setToolbar:function(_3b1){if(this.button){_3b1.addChild(this.button);}},set:function(name,_3b2){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _3b3=this._getAttrNames(name);if(this[_3b3.s]){var _3b4=this[_3b3.s].apply(this,Array.prototype.slice.call(arguments,1));}else{this._set(name,_3b2);}return _3b4||this;},get:function(name){var _3b5=this._getAttrNames(name);return this[_3b5.g]?this[_3b5.g]():this[name];},_setDisabledAttr:function(_3b6){this.disabled=_3b6;this.updateState();},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return (apn[name]={s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},_set:function(name,_3b7){var _3b8=this[name];this[name]=_3b7;}});}if(!dojo._hasResource["dijit._editor.plugins.EnterKeyHandling"]){dojo._hasResource["dijit._editor.plugins.EnterKeyHandling"]=true;dojo.provide("dijit._editor.plugins.EnterKeyHandling");dojo.declare("dijit._editor.plugins.EnterKeyHandling",dijit._editor._Plugin,{blockNodeForEnter:"BR",constructor:function(args){if(args){if("blockNodeForEnter" in args){args.blockNodeForEnter=args.blockNodeForEnter.toUpperCase();}dojo.mixin(this,args);}},setEditor:function(_3b9){if(this.editor===_3b9){return;}this.editor=_3b9;if(this.blockNodeForEnter=="BR"){this.editor.customUndo=true;_3b9.onLoadDeferred.addCallback(dojo.hitch(this,function(d){this.connect(_3b9.document,"onkeypress",function(e){if(e.charOrCode==dojo.keys.ENTER){var ne=dojo.mixin({},e);ne.shiftKey=true;if(!this.handleEnterKey(ne)){dojo.stopEvent(e);}}});return d;}));}else{if(this.blockNodeForEnter){var h=dojo.hitch(this,this.handleEnterKey);_3b9.addKeyHandler(13,0,0,h);_3b9.addKeyHandler(13,0,1,h);this.connect(this.editor,"onKeyPressed","onKeyPressed");}}},onKeyPressed:function(e){if(this._checkListLater){if(dojo.withGlobal(this.editor.window,"isCollapsed",dijit)){var _3ba=dojo.withGlobal(this.editor.window,"getAncestorElement",dijit._editor.selection,["LI"]);if(!_3ba){dijit._editor.RichText.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);var _3bb=dojo.withGlobal(this.editor.window,"getAncestorElement",dijit._editor.selection,[this.blockNodeForEnter]);if(_3bb){_3bb.innerHTML=this.bogusHtmlContent;if(dojo.isIE){var r=this.editor.document.selection.createRange();r.move("character",-1);r.select();}}else{console.error("onKeyPressed: Cannot find the new block node");}}else{if(dojo.isMoz){if(_3ba.parentNode.parentNode.nodeName=="LI"){_3ba=_3ba.parentNode.parentNode;}}var fc=_3ba.firstChild;if(fc&&fc.nodeType==1&&(fc.nodeName=="UL"||fc.nodeName=="OL")){_3ba.insertBefore(fc.ownerDocument.createTextNode(""),fc);var _3bc=dijit.range.create(this.editor.window);_3bc.setStart(_3ba.firstChild,0);var _3bd=dijit.range.getSelection(this.editor.window,true);_3bd.removeAllRanges();_3bd.addRange(_3bc);}}}this._checkListLater=false;}if(this._pressedEnterInBlock){if(this._pressedEnterInBlock.previousSibling){this.removeTrailingBr(this._pressedEnterInBlock.previousSibling);}delete this._pressedEnterInBlock;}},bogusHtmlContent:"&nbsp;",blockNodes:/^(?:P|H1|H2|H3|H4|H5|H6|LI)$/,handleEnterKey:function(e){var _3be,_3bf,_3c0,_3c1,_3c2,_3c3,doc=this.editor.document,br,rs,txt;if(e.shiftKey){var _3c4=dojo.withGlobal(this.editor.window,"getParentElement",dijit._editor.selection);var _3c5=dijit.range.getAncestor(_3c4,this.blockNodes);if(_3c5){if(_3c5.tagName=="LI"){return true;}_3be=dijit.range.getSelection(this.editor.window);_3bf=_3be.getRangeAt(0);if(!_3bf.collapsed){_3bf.deleteContents();_3be=dijit.range.getSelection(this.editor.window);_3bf=_3be.getRangeAt(0);}if(dijit.range.atBeginningOfContainer(_3c5,_3bf.startContainer,_3bf.startOffset)){br=doc.createElement("br");_3c0=dijit.range.create(this.editor.window);_3c5.insertBefore(br,_3c5.firstChild);_3c0.setStartBefore(br.nextSibling);_3be.removeAllRanges();_3be.addRange(_3c0);}else{if(dijit.range.atEndOfContainer(_3c5,_3bf.startContainer,_3bf.startOffset)){_3c0=dijit.range.create(this.editor.window);br=doc.createElement("br");_3c5.appendChild(br);_3c5.appendChild(doc.createTextNode(""));_3c0.setStart(_3c5.lastChild,0);_3be.removeAllRanges();_3be.addRange(_3c0);}else{rs=_3bf.startContainer;if(rs&&rs.nodeType==3){txt=rs.nodeValue;dojo.withGlobal(this.editor.window,function(){_3c1=doc.createTextNode(txt.substring(0,_3bf.startOffset));_3c2=doc.createTextNode(txt.substring(_3bf.startOffset));_3c3=doc.createElement("br");if(_3c2.nodeValue==""&&dojo.isWebKit){_3c2=doc.createTextNode("");}dojo.place(_3c1,rs,"after");dojo.place(_3c3,_3c1,"after");dojo.place(_3c2,_3c3,"after");dojo.destroy(rs);_3c0=dijit.range.create(dojo.gobal);_3c0.setStart(_3c2,0);_3be.removeAllRanges();_3be.addRange(_3c0);});return false;}return true;}}}else{_3be=dijit.range.getSelection(this.editor.window);if(_3be.rangeCount){_3bf=_3be.getRangeAt(0);if(_3bf&&_3bf.startContainer){if(!_3bf.collapsed){_3bf.deleteContents();_3be=dijit.range.getSelection(this.editor.window);_3bf=_3be.getRangeAt(0);}rs=_3bf.startContainer;if(rs&&rs.nodeType==3){dojo.withGlobal(this.editor.window,dojo.hitch(this,function(){var _3c6=false;var _3c7=_3bf.startOffset;if(rs.length<_3c7){ret=this._adjustNodeAndOffset(rs,_3c7);rs=ret.node;_3c7=ret.offset;}txt=rs.nodeValue;_3c1=doc.createTextNode(txt.substring(0,_3c7));_3c2=doc.createTextNode(txt.substring(_3c7));_3c3=doc.createElement("br");if(!_3c2.length){_3c2=doc.createTextNode("");_3c6=true;}if(_3c1.length){dojo.place(_3c1,rs,"after");}else{_3c1=rs;}dojo.place(_3c3,_3c1,"after");dojo.place(_3c2,_3c3,"after");dojo.destroy(rs);_3c0=dijit.range.create(dojo.gobal);_3c0.setStart(_3c2,0);_3c0.setEnd(_3c2,_3c2.length);_3be.removeAllRanges();_3be.addRange(_3c0);if(_3c6&&!dojo.isWebKit){dijit._editor.selection.remove();}else{dijit._editor.selection.collapse(true);}}));}else{dojo.withGlobal(this.editor.window,dojo.hitch(this,function(){var _3c8=doc.createElement("br");rs.appendChild(_3c8);var _3c9=doc.createTextNode("");rs.appendChild(_3c9);_3c0=dijit.range.create(dojo.global);_3c0.setStart(_3c9,0);_3c0.setEnd(_3c9,_3c9.length);_3be.removeAllRanges();_3be.addRange(_3c0);dijit._editor.selection.collapse(true);}));}}}else{dijit._editor.RichText.prototype.execCommand.call(this.editor,"inserthtml","<br>");}}return false;}var _3ca=true;_3be=dijit.range.getSelection(this.editor.window);_3bf=_3be.getRangeAt(0);if(!_3bf.collapsed){_3bf.deleteContents();_3be=dijit.range.getSelection(this.editor.window);_3bf=_3be.getRangeAt(0);}var _3cb=dijit.range.getBlockAncestor(_3bf.endContainer,null,this.editor.editNode);var _3cc=_3cb.blockNode;if((this._checkListLater=(_3cc&&(_3cc.nodeName=="LI"||_3cc.parentNode.nodeName=="LI")))){if(dojo.isMoz){this._pressedEnterInBlock=_3cc;}if(/^(\s|&nbsp;|\xA0|<span\b[^>]*\bclass=['"]Apple-style-span['"][^>]*>(\s|&nbsp;|\xA0)<\/span>)?(<br>)?$/.test(_3cc.innerHTML)){_3cc.innerHTML="";if(dojo.isWebKit){_3c0=dijit.range.create(this.editor.window);_3c0.setStart(_3cc,0);_3be.removeAllRanges();_3be.addRange(_3c0);}this._checkListLater=false;}return true;}if(!_3cb.blockNode||_3cb.blockNode===this.editor.editNode){try{dijit._editor.RichText.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);}catch(e2){}_3cb={blockNode:dojo.withGlobal(this.editor.window,"getAncestorElement",dijit._editor.selection,[this.blockNodeForEnter]),blockContainer:this.editor.editNode};if(_3cb.blockNode){if(_3cb.blockNode!=this.editor.editNode&&(!(_3cb.blockNode.textContent||_3cb.blockNode.innerHTML).replace(/^\s+|\s+$/g,"").length)){this.removeTrailingBr(_3cb.blockNode);return false;}}else{_3cb.blockNode=this.editor.editNode;}_3be=dijit.range.getSelection(this.editor.window);_3bf=_3be.getRangeAt(0);}var _3cd=doc.createElement(this.blockNodeForEnter);_3cd.innerHTML=this.bogusHtmlContent;this.removeTrailingBr(_3cb.blockNode);var _3ce=_3bf.endOffset;var node=_3bf.endContainer;if(node.length<_3ce){var ret=this._adjustNodeAndOffset(node,_3ce);node=ret.node;_3ce=ret.offset;}if(dijit.range.atEndOfContainer(_3cb.blockNode,node,_3ce)){if(_3cb.blockNode===_3cb.blockContainer){_3cb.blockNode.appendChild(_3cd);}else{dojo.place(_3cd,_3cb.blockNode,"after");}_3ca=false;_3c0=dijit.range.create(this.editor.window);_3c0.setStart(_3cd,0);_3be.removeAllRanges();_3be.addRange(_3c0);if(this.editor.height){dojo.window.scrollIntoView(_3cd);}}else{if(dijit.range.atBeginningOfContainer(_3cb.blockNode,_3bf.startContainer,_3bf.startOffset)){dojo.place(_3cd,_3cb.blockNode,_3cb.blockNode===_3cb.blockContainer?"first":"before");if(_3cd.nextSibling&&this.editor.height){_3c0=dijit.range.create(this.editor.window);_3c0.setStart(_3cd.nextSibling,0);_3be.removeAllRanges();_3be.addRange(_3c0);dojo.window.scrollIntoView(_3cd.nextSibling);}_3ca=false;}else{if(_3cb.blockNode===_3cb.blockContainer){_3cb.blockNode.appendChild(_3cd);}else{dojo.place(_3cd,_3cb.blockNode,"after");}_3ca=false;if(_3cb.blockNode.style){if(_3cd.style){if(_3cb.blockNode.style.cssText){_3cd.style.cssText=_3cb.blockNode.style.cssText;}}}rs=_3bf.startContainer;var _3cf;if(rs&&rs.nodeType==3){var _3d0,_3d1;_3ce=_3bf.endOffset;if(rs.length<_3ce){ret=this._adjustNodeAndOffset(rs,_3ce);rs=ret.node;_3ce=ret.offset;}txt=rs.nodeValue;_3c1=doc.createTextNode(txt.substring(0,_3ce));_3c2=doc.createTextNode(txt.substring(_3ce,txt.length));dojo.place(_3c1,rs,"before");dojo.place(_3c2,rs,"after");dojo.destroy(rs);var _3d2=_3c1.parentNode;while(_3d2!==_3cb.blockNode){var tg=_3d2.tagName;var _3d3=doc.createElement(tg);if(_3d2.style){if(_3d3.style){if(_3d2.style.cssText){_3d3.style.cssText=_3d2.style.cssText;}}}if(_3d2.tagName==="FONT"){if(_3d2.color){_3d3.color=_3d2.color;}if(_3d2.face){_3d3.face=_3d2.face;}if(_3d2.size){_3d3.size=_3d2.size;}}_3d0=_3c2;while(_3d0){_3d1=_3d0.nextSibling;_3d3.appendChild(_3d0);_3d0=_3d1;}dojo.place(_3d3,_3d2,"after");_3c1=_3d2;_3c2=_3d3;_3d2=_3d2.parentNode;}_3d0=_3c2;if(_3d0.nodeType==1||(_3d0.nodeType==3&&_3d0.nodeValue)){_3cd.innerHTML="";}_3cf=_3d0;while(_3d0){_3d1=_3d0.nextSibling;_3cd.appendChild(_3d0);_3d0=_3d1;}}_3c0=dijit.range.create(this.editor.window);var _3d4;var _3d5=_3cf;if(this.blockNodeForEnter!=="BR"){while(_3d5){_3d4=_3d5;_3d1=_3d5.firstChild;_3d5=_3d1;}if(_3d4&&_3d4.parentNode){_3cd=_3d4.parentNode;_3c0.setStart(_3cd,0);_3be.removeAllRanges();_3be.addRange(_3c0);if(this.editor.height){dijit.scrollIntoView(_3cd);}if(dojo.isMoz){this._pressedEnterInBlock=_3cb.blockNode;}}else{_3ca=true;}}else{_3c0.setStart(_3cd,0);_3be.removeAllRanges();_3be.addRange(_3c0);if(this.editor.height){dijit.scrollIntoView(_3cd);}if(dojo.isMoz){this._pressedEnterInBlock=_3cb.blockNode;}}}}return _3ca;},_adjustNodeAndOffset:function(node,_3d6){while(node.length<_3d6&&node.nextSibling&&node.nextSibling.nodeType==3){_3d6=_3d6-node.length;node=node.nextSibling;}var ret={"node":node,"offset":_3d6};return ret;},removeTrailingBr:function(_3d7){var para=/P|DIV|LI/i.test(_3d7.tagName)?_3d7:dijit._editor.selection.getParentOfType(_3d7,["P","DIV","LI"]);if(!para){return;}if(para.lastChild){if((para.childNodes.length>1&&para.lastChild.nodeType==3&&/^[\s\xAD]*$/.test(para.lastChild.nodeValue))||para.lastChild.tagName=="BR"){dojo.destroy(para.lastChild);}}if(!para.childNodes.length){para.innerHTML=this.bogusHtmlContent;}}});}if(!dojo._hasResource["dijit.Editor"]){dojo._hasResource["dijit.Editor"]=true;dojo.provide("dijit.Editor");dojo.declare("dijit.Editor",dijit._editor.RichText,{plugins:null,extraPlugins:null,constructor:function(){if(!dojo.isArray(this.plugins)){this.plugins=["undo","redo","|","cut","copy","paste","|","bold","italic","underline","strikethrough","|","insertOrderedList","insertUnorderedList","indent","outdent","|","justifyLeft","justifyRight","justifyCenter","justifyFull","dijit._editor.plugins.EnterKeyHandling"];}this._plugins=[];this._editInterval=this.editActionInterval*1000;if(dojo.isIE){this.events.push("onBeforeDeactivate");this.events.push("onBeforeActivate");}},postMixInProperties:function(){this.setValueDeferred=new dojo.Deferred();this.inherited(arguments);},postCreate:function(){this._steps=this._steps.slice(0);this._undoedSteps=this._undoedSteps.slice(0);if(dojo.isArray(this.extraPlugins)){this.plugins=this.plugins.concat(this.extraPlugins);}this.inherited(arguments);this.commands=dojo.i18n.getLocalization("dijit._editor","commands",this.lang);if(!this.toolbar){this.toolbar=new dijit.Toolbar({dir:this.dir,lang:this.lang});this.header.appendChild(this.toolbar.domNode);}dojo.forEach(this.plugins,this.addPlugin,this);this.setValueDeferred.callback(true);dojo.addClass(this.iframe.parentNode,"dijitEditorIFrameContainer");dojo.addClass(this.iframe,"dijitEditorIFrame");dojo.attr(this.iframe,"allowTransparency",true);if(dojo.isWebKit){dojo.style(this.domNode,"KhtmlUserSelect","none");}this.toolbar.startup();this.onNormalizedDisplayChanged();},destroy:function(){dojo.forEach(this._plugins,function(p){if(p&&p.destroy){p.destroy();}});this._plugins=[];this.toolbar.destroyRecursive();delete this.toolbar;this.inherited(arguments);},addPlugin:function(_3d8,_3d9){var args=dojo.isString(_3d8)?{name:_3d8}:_3d8;if(!args.setEditor){var o={"args":args,"plugin":null,"editor":this};dojo.publish(dijit._scopeName+".Editor.getPlugin",[o]);if(!o.plugin){var pc=dojo.getObject(args.name);if(pc){o.plugin=new pc(args);}}if(!o.plugin){console.warn("Cannot find plugin",_3d8);return;}_3d8=o.plugin;}if(arguments.length>1){this._plugins[_3d9]=_3d8;}else{this._plugins.push(_3d8);}_3d8.setEditor(this);if(dojo.isFunction(_3d8.setToolbar)){_3d8.setToolbar(this.toolbar);}},startup:function(){},resize:function(size){if(size){dijit.layout._LayoutWidget.prototype.resize.apply(this,arguments);}},layout:function(){var _3da=(this._contentBox.h-(this.getHeaderHeight()+this.getFooterHeight()+dojo._getPadBorderExtents(this.iframe.parentNode).h+dojo._getMarginExtents(this.iframe.parentNode).h));this.editingArea.style.height=_3da+"px";if(this.iframe){this.iframe.style.height="100%";}this._layoutMode=true;},_onIEMouseDown:function(e){var _3db;var b=this.document.body;var _3dc=b.clientWidth;var _3dd=b.clientHeight;var _3de=b.clientLeft;var _3df=b.offsetWidth;var _3e0=b.offsetHeight;var _3e1=b.offsetLeft;bodyDir=b.dir?b.dir.toLowerCase():"";if(bodyDir!="rtl"){if(_3dc<_3df&&e.x>_3dc&&e.x<_3df){_3db=true;}}else{if(e.x<_3de&&e.x>_3e1){_3db=true;}}if(!_3db){if(_3dd<_3e0&&e.y>_3dd&&e.y<_3e0){_3db=true;}}if(!_3db){delete this._cursorToStart;delete this._savedSelection;if(e.target.tagName=="BODY"){setTimeout(dojo.hitch(this,"placeCursorAtEnd"),0);}this.inherited(arguments);}},onBeforeActivate:function(e){this._restoreSelection();},onBeforeDeactivate:function(e){if(this.customUndo){this.endEditing(true);}if(e.target.tagName!="BODY"){this._saveSelection();}},customUndo:true,editActionInterval:3,beginEditing:function(cmd){if(!this._inEditing){this._inEditing=true;this._beginEditing(cmd);}if(this.editActionInterval>0){if(this._editTimer){clearTimeout(this._editTimer);}this._editTimer=setTimeout(dojo.hitch(this,this.endEditing),this._editInterval);}},_steps:[],_undoedSteps:[],execCommand:function(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return this[cmd]();}else{if(this.customUndo){this.endEditing();this._beginEditing();}var r;var _3e2=/copy|cut|paste/.test(cmd);try{r=this.inherited(arguments);if(dojo.isWebKit&&_3e2&&!r){throw {code:1011};}}catch(e){if(e.code==1011&&_3e2){var sub=dojo.string.substitute,_3e3={cut:"X",copy:"C",paste:"V"};alert(sub(this.commands.systemShortcut,[this.commands[cmd],sub(this.commands[dojo.isMac?"appleKey":"ctrlKey"],[_3e3[cmd]])]));}r=false;}if(this.customUndo){this._endEditing();}return r;}},queryCommandEnabled:function(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return cmd=="undo"?(this._steps.length>1):(this._undoedSteps.length>0);}else{return this.inherited(arguments);}},_moveToBookmark:function(b){var _3e4=b.mark;var mark=b.mark;var col=b.isCollapsed;var r,_3e5,_3e6,sel;if(mark){if(dojo.isIE<9){if(dojo.isArray(mark)){_3e4=[];dojo.forEach(mark,function(n){_3e4.push(dijit.range.getNode(n,this.editNode));},this);dojo.withGlobal(this.window,"moveToBookmark",dijit,[{mark:_3e4,isCollapsed:col}]);}else{if(mark.startContainer&&mark.endContainer){sel=dijit.range.getSelection(this.window);if(sel&&sel.removeAllRanges){sel.removeAllRanges();r=dijit.range.create(this.window);_3e5=dijit.range.getNode(mark.startContainer,this.editNode);_3e6=dijit.range.getNode(mark.endContainer,this.editNode);if(_3e5&&_3e6){r.setStart(_3e5,mark.startOffset);r.setEnd(_3e6,mark.endOffset);sel.addRange(r);}}}}}else{sel=dijit.range.getSelection(this.window);if(sel&&sel.removeAllRanges){sel.removeAllRanges();r=dijit.range.create(this.window);_3e5=dijit.range.getNode(mark.startContainer,this.editNode);_3e6=dijit.range.getNode(mark.endContainer,this.editNode);if(_3e5&&_3e6){r.setStart(_3e5,mark.startOffset);r.setEnd(_3e6,mark.endOffset);sel.addRange(r);}}}}},_changeToStep:function(from,to){this.setValue(to.text);var b=to.bookmark;if(!b){return;}this._moveToBookmark(b);},undo:function(){var ret=false;if(!this._undoRedoActive){this._undoRedoActive=true;this.endEditing(true);var s=this._steps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(s,this._steps[this._steps.length-1]);this._undoedSteps.push(s);this.onDisplayChanged();delete this._undoRedoActive;ret=true;}delete this._undoRedoActive;}return ret;},redo:function(){var ret=false;if(!this._undoRedoActive){this._undoRedoActive=true;this.endEditing(true);var s=this._undoedSteps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(this._steps[this._steps.length-1],s);this._steps.push(s);this.onDisplayChanged();ret=true;}delete this._undoRedoActive;}return ret;},endEditing:function(_3e7){if(this._editTimer){clearTimeout(this._editTimer);}if(this._inEditing){this._endEditing(_3e7);this._inEditing=false;}},_getBookmark:function(){var b=dojo.withGlobal(this.window,dijit.getBookmark);var tmp=[];if(b&&b.mark){var mark=b.mark;if(dojo.isIE<9){var sel=dijit.range.getSelection(this.window);if(!dojo.isArray(mark)){if(sel){var _3e8;if(sel.rangeCount){_3e8=sel.getRangeAt(0);}if(_3e8){b.mark=_3e8.cloneRange();}else{b.mark=dojo.withGlobal(this.window,dijit.getBookmark);}}}else{dojo.forEach(b.mark,function(n){tmp.push(dijit.range.getIndex(n,this.editNode).o);},this);b.mark=tmp;}}try{if(b.mark&&b.mark.startContainer){tmp=dijit.range.getIndex(b.mark.startContainer,this.editNode).o;b.mark={startContainer:tmp,startOffset:b.mark.startOffset,endContainer:b.mark.endContainer===b.mark.startContainer?tmp:dijit.range.getIndex(b.mark.endContainer,this.editNode).o,endOffset:b.mark.endOffset};}}catch(e){b.mark=null;}}return b;},_beginEditing:function(cmd){if(this._steps.length===0){this._steps.push({"text":dijit._editor.getChildrenHtml(this.editNode),"bookmark":this._getBookmark()});}},_endEditing:function(_3e9){var v=dijit._editor.getChildrenHtml(this.editNode);this._undoedSteps=[];this._steps.push({text:v,bookmark:this._getBookmark()});},onKeyDown:function(e){if(!dojo.isIE&&!this.iframe&&e.keyCode==dojo.keys.TAB&&!this.tabIndent){this._saveSelection();}if(!this.customUndo){this.inherited(arguments);return;}var k=e.keyCode,ks=dojo.keys;if(e.ctrlKey&&!e.altKey){if(k==90||k==122){dojo.stopEvent(e);this.undo();return;}else{if(k==89||k==121){dojo.stopEvent(e);this.redo();return;}}}this.inherited(arguments);switch(k){case ks.ENTER:case ks.BACKSPACE:case ks.DELETE:this.beginEditing();break;case 88:case 86:if(e.ctrlKey&&!e.altKey&&!e.metaKey){this.endEditing();if(e.keyCode==88){this.beginEditing("cut");setTimeout(dojo.hitch(this,this.endEditing),1);}else{this.beginEditing("paste");setTimeout(dojo.hitch(this,this.endEditing),1);}break;}default:if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&(e.keyCode<dojo.keys.F1||e.keyCode>dojo.keys.F15)){this.beginEditing();break;}case ks.ALT:this.endEditing();break;case ks.UP_ARROW:case ks.DOWN_ARROW:case ks.LEFT_ARROW:case ks.RIGHT_ARROW:case ks.HOME:case ks.END:case ks.PAGE_UP:case ks.PAGE_DOWN:this.endEditing(true);break;case ks.CTRL:case ks.SHIFT:case ks.TAB:break;}},_onBlur:function(){this.inherited(arguments);this.endEditing(true);},_saveSelection:function(){try{this._savedSelection=this._getBookmark();}catch(e){}},_restoreSelection:function(){if(this._savedSelection){delete this._cursorToStart;if(dojo.withGlobal(this.window,"isCollapsed",dijit)){this._moveToBookmark(this._savedSelection);}delete this._savedSelection;}},onClick:function(){this.endEditing(true);this.inherited(arguments);},replaceValue:function(html){if(!this.customUndo){this.inherited(arguments);}else{if(this.isClosed){this.setValue(html);}else{this.beginEditing();if(!html){html="&nbsp;";}this.setValue(html);this.endEditing();}}},_setDisabledAttr:function(_3ea){var _3eb=dojo.hitch(this,function(){if((!this.disabled&&_3ea)||(!this._buttonEnabledPlugins&&_3ea)){dojo.forEach(this._plugins,function(p){p.set("disabled",true);});}else{if(this.disabled&&!_3ea){dojo.forEach(this._plugins,function(p){p.set("disabled",false);});}}});this.setValueDeferred.addCallback(_3eb);this.inherited(arguments);},_setStateClass:function(){try{this.inherited(arguments);if(this.document&&this.document.body){dojo.style(this.document.body,"color",dojo.style(this.iframe,"color"));}}catch(e){}}});dojo.subscribe(dijit._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var args=o.args,p;var _3ec=dijit._editor._Plugin;var name=args.name;switch(name){case "undo":case "redo":case "cut":case "copy":case "paste":case "insertOrderedList":case "insertUnorderedList":case "indent":case "outdent":case "justifyCenter":case "justifyFull":case "justifyLeft":case "justifyRight":case "delete":case "selectAll":case "removeFormat":case "unlink":case "insertHorizontalRule":p=new _3ec({command:name});break;case "bold":case "italic":case "underline":case "strikethrough":case "subscript":case "superscript":p=new _3ec({buttonClass:dijit.form.ToggleButton,command:name});break;case "|":p=new _3ec({button:new dijit.ToolbarSeparator(),setEditor:function(_3ed){this.editor=_3ed;}});}o.plugin=p;});}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.getObject("regexp",true,dojo);dojo.regexp.escapeString=function(str,_3ee){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_3ee&&_3ee.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(arr,re,_3ef){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_3ef);};dojo.regexp.group=function(_3f0,_3f1){return "("+(_3f1?"?:":"")+_3f0+")";};}if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.getObject("data.util.sorter",true,dojo);dojo.data.util.sorter.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};dojo.data.util.sorter.createSortFunction=function(_3f2,_3f3){var _3f4=[];function _3f5(attr,dir,comp,s){return function(_3f6,_3f7){var a=s.getValue(_3f6,attr);var b=s.getValue(_3f7,attr);return dir*comp(a,b);};};var _3f8;var map=_3f3.comparatorMap;var bc=dojo.data.util.sorter.basicComparator;for(var i=0;i<_3f2.length;i++){_3f8=_3f2[i];var attr=_3f8.attribute;if(attr){var dir=(_3f8.descending)?-1:1;var comp=bc;if(map){if(typeof attr!=="string"&&("toString" in attr)){attr=attr.toString();}comp=map[attr]||bc;}_3f4.push(_3f5(attr,dir,comp,_3f3));}}return function(rowA,rowB){var i=0;while(i<_3f4.length){var ret=_3f4[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.getObject("data.util.simpleFetch",true,dojo);dojo.data.util.simpleFetch.fetch=function(_3f9){_3f9=_3f9||{};if(!_3f9.store){_3f9.store=this;}var self=this;var _3fa=function(_3fb,_3fc){if(_3fc.onError){var _3fd=_3fc.scope||dojo.global;_3fc.onError.call(_3fd,_3fb,_3fc);}};var _3fe=function(_3ff,_400){var _401=_400.abort||null;var _402=false;var _403=_400.start?_400.start:0;var _404=(_400.count&&(_400.count!==Infinity))?(_403+_400.count):_3ff.length;_400.abort=function(){_402=true;if(_401){_401.call(_400);}};var _405=_400.scope||dojo.global;if(!_400.store){_400.store=self;}if(_400.onBegin){_400.onBegin.call(_405,_3ff.length,_400);}if(_400.sort){_3ff.sort(dojo.data.util.sorter.createSortFunction(_400.sort,self));}if(_400.onItem){for(var i=_403;(i<_3ff.length)&&(i<_404);++i){var item=_3ff[i];if(!_402){_400.onItem.call(_405,item,_400);}}}if(_400.onComplete&&!_402){var _406=null;if(!_400.onItem){_406=_3ff.slice(_403,_404);}_400.onComplete.call(_405,_406,_400);}};this._fetchItems(_3f9,_3fe,_3fa);return _3f9;};}if(!dojo._hasResource["dojo.data.util.filter"]){dojo._hasResource["dojo.data.util.filter"]=true;dojo.provide("dojo.data.util.filter");dojo.getObject("data.util.filter",true,dojo);dojo.data.util.filter.patternToRegExp=function(_407,_408){var rxp="^";var c=null;for(var i=0;i<_407.length;i++){c=_407.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_407.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_408){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};}if(!dojo._hasResource["dijit.form.TextBox"]){dojo._hasResource["dijit.form.TextBox"]=true;dojo.provide("dijit.form.TextBox");dojo.declare("dijit.form.TextBox",dijit.form._FormValueWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",templateString:dojo.cache("dijit.form","templates/TextBox.html","<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"),_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" dojoAttachPoint=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:dojo.isIE?"disabled":"",baseClass:"dijitTextBox",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{maxLength:"focusNode"}),postMixInProperties:function(){var type=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((type=="hidden"||type=="file")&&this.templateString==dijit.form.TextBox.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},_setPlaceHolderAttr:function(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=dojo.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");}this._phspan.innerHTML="";this._phspan.appendChild(document.createTextNode(v));this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this._focused&&!this.textbox.value)?"":"none";}},_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_409,_40a,_40b){var _40c;if(_409!==undefined){_40c=this.filter(_409);if(typeof _40b!="string"){if(_40c!==null&&((typeof _40c!="number")||!isNaN(_40c))){_40b=this.filter(this.format(_40c,this.constraints));}else{_40b="";}}}if(_40b!=null&&_40b!=undefined&&((typeof _40b)!="number"||!isNaN(_40b))&&this.textbox.value!=_40b){this.textbox.value=_40b;this._set("displayedValue",this.get("displayedValue"));}this._updatePlaceHolder();this.inherited(arguments,[_40c,_40a]);},displayedValue:"",getDisplayedValue:function(){dojo.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use set('displayedValue') instead.","","2.0");return this.get("displayedValue");},_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},setDisplayedValue:function(_40d){dojo.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_40d);},_setDisplayedValueAttr:function(_40e){if(_40e===null||_40e===undefined){_40e="";}else{if(typeof _40e!="string"){_40e=String(_40e);}}this.textbox.value=_40e;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));},format:function(_40f,_410){return ((_40f==null||_40f==undefined)?"":(_40f.toString?_40f.toString():_40f));},parse:function(_411,_412){return _411;},_refreshState:function(){},_onInput:function(e){if(e&&e.type&&/key/i.test(e.type)&&e.keyCode){switch(e.keyCode){case dojo.keys.SHIFT:case dojo.keys.ALT:case dojo.keys.CTRL:case dojo.keys.TAB:return;}}if(this.intermediateChanges){var _413=this;setTimeout(function(){_413._handleOnChange(_413.get("value"),false);},0);}this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){if(dojo.isIE){setTimeout(dojo.hitch(this,function(){var s=dojo.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _414=this.domNode.getElementsByTagName("INPUT");if(_414){for(var i=0;i<_414.length;i++){_414[i].style.fontFamily=ff;}}}}}),0);}this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);if(dojo.isMoz||dojo.isOpera){this.connect(this.textbox,"oninput","_onInput");}else{this.connect(this.textbox,"onkeydown","_onInput");this.connect(this.textbox,"onkeyup","_onInput");this.connect(this.textbox,"onpaste","_onInput");this.connect(this.textbox,"oncut","_onInput");}},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=dojo.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);}if(this.selectOnClick&&dojo.isMoz){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}this._updatePlaceHolder();},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);var _415;if(dojo.isIE){var _416=dojo.doc.selection.createRange();var _417=_416.parentElement();_415=_417==this.textbox&&_416.text.length==0;}else{_415=this.textbox.selectionStart==this.textbox.selectionEnd;}if(_415){dijit.selectInputText(this.textbox);}});}this._updatePlaceHolder();this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);}});dijit.selectInputText=function(_418,_419,stop){var _41a=dojo.global;var _41b=dojo.doc;_418=dojo.byId(_418);if(isNaN(_419)){_419=0;}if(isNaN(stop)){stop=_418.value?_418.value.length:0;}dijit.focus(_418);if(_41b["selection"]&&dojo.body()["createTextRange"]){if(_418.createTextRange){var r=_418.createTextRange();r.collapse(true);r.moveStart("character",-99999);r.moveStart("character",_419);r.moveEnd("character",stop-_419);r.select();}}else{if(_41a["getSelection"]){if(_418.setSelectionRange){_418.setSelectionRange(_419,stop);}}}};}if(!dojo._hasResource["dijit.Tooltip"]){dojo._hasResource["dijit.Tooltip"]=true;dojo.provide("dijit.Tooltip");dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:dijit.defaultDuration,templateString:dojo.cache("dijit","templates/Tooltip.html","<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer pentaho-tooltip-contents\" dojoAttachPoint=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" dojoAttachPoint=\"connectorNode\"></div\n></div>\n"),postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")});this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")});},show:function(_41c,_41d,_41e,rtl){if(this.aroundNode&&this.aroundNode===_41d){return;}this.domNode.width="auto";if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_41c;var pos=dijit.placeOnScreenAroundElement(this.domNode,_41d,dijit.getPopupAroundAlignment((_41e&&_41e.length)?_41e:dijit.Tooltip.defaultPosition,!rtl),dojo.hitch(this,"orient"));dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_41d;},orient:function(node,_41f,_420,_421,_422){this.connectorNode.style.top="";var _423=_421.w-this.connectorNode.offsetWidth;node.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_41f+"-"+_420];this.domNode.style.width="auto";var size=dojo.contentBox(this.domNode);var _424=Math.min((Math.max(_423,1)),size.w);var _425=_424<size.w;this.domNode.style.width=_424+"px";if(_425){this.containerNode.style.overflow="auto";var _426=this.containerNode.scrollWidth;this.containerNode.style.overflow="visible";if(_426>_424){_426=_426+dojo.style(this.domNode,"paddingLeft")+dojo.style(this.domNode,"paddingRight");this.domNode.style.width=_426+"px";}}if(_420.charAt(0)=="B"&&_41f.charAt(0)=="B"){var mb=dojo.marginBox(node);var _427=this.connectorNode.offsetHeight;if(mb.h>_421.h){var _428=_421.h-(_422.h/2)-(_427/2);this.connectorNode.style.top=_428+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_422.h/2-_427/2,0),mb.h-_427)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_423);},_onShow:function(){if(dojo.isIE){this.domNode.style.filter="";}},hide:function(_429){if(this._onDeck&&this._onDeck[1]==_429){this._onDeck=null;}else{if(this.aroundNode===_429){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});dijit.showTooltip=function(_42a,_42b,_42c,rtl){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.show(_42a,_42b,_42c,rtl);};dijit.hideTooltip=function(_42d){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.hide(_42d);};dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:[],position:[],_setConnectIdAttr:function(_42e){dojo.forEach(this._connections||[],function(_42f){dojo.forEach(_42f,dojo.hitch(this,"disconnect"));},this);var ary=dojo.isArrayLike(_42e)?_42e:(_42e?[_42e]:[]);this._connections=dojo.map(ary,function(id){var node=dojo.byId(id);return node?[this.connect(node,"onmouseenter","_onTargetMouseEnter"),this.connect(node,"onmouseleave","_onTargetMouseLeave"),this.connect(node,"onfocus","_onTargetFocus"),this.connect(node,"onblur","_onTargetBlur")]:[];},this);this._set("connectId",_42e);this._connectIds=ary;},addTarget:function(node){var id=node.id||node;if(dojo.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=dojo.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;dojo.forEach(dojo.isArrayLike(ids)?ids:[ids],this.addTarget,this);},_onTargetMouseEnter:function(e){this._onHover(e);},_onTargetMouseLeave:function(e){this._onUnHover(e);},_onTargetFocus:function(e){this._focus=true;this._onHover(e);},_onTargetBlur:function(e){this._focus=false;this._onUnHover(e);},_onHover:function(e){if(!this._showTimer){var _430=e.target;this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(_430);}),this.showDelay);}},_onUnHover:function(e){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function(_431){if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}dijit.showTooltip(this.label||this.domNode.innerHTML,_431,this.position,!this.isLeftToRight());this._connectNode=_431;this.onShow(_431,this.position);},close:function(){if(this._connectNode){dijit.hideTooltip(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},onShow:function(_432,_433){},onHide:function(){},uninitialize:function(){this.close();this.inherited(arguments);}});dijit.Tooltip.defaultPosition=["after","before"];}if(!dojo._hasResource["dijit.form.ValidationTextBox"]){dojo._hasResource["dijit.form.ValidationTextBox"]=true;dojo.provide("dijit.form.ValidationTextBox");dojo.declare("dijit.form.ValidationTextBox",dijit.form.TextBox,{templateString:dojo.cache("dijit.form","templates/ValidationTextBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"),baseClass:"dijitTextBox dijitValidationTextBox",required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},regExp:".*",regExpGen:function(_434){return this.regExp;},state:"",tooltipPosition:[],_setValueAttr:function(){this.inherited(arguments);this.validate(this._focused);},validator:function(_435,_436){return (new RegExp("^(?:"+this.regExpGen(_436)+")"+(this.required?"":"?")+"$")).test(_435)&&(!this.required||!this._isEmpty(_435))&&(this._isEmpty(_435)||this.parse(_435,_436)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(_437){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_438){return (this.trim?/^\s*$/:/^$/).test(_438);},getErrorMessage:function(_439){return (this.required&&this._isEmpty(this.textbox.value))?this.missingMessage:this.invalidMessage;},getPromptMessage:function(_43a){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_43b){var _43c="";var _43d=this.disabled||this.isValid(_43b);if(_43d){this._maskValidSubsetError=true;}var _43e=this._isEmpty(this.textbox.value);var _43f=!_43d&&_43b&&this._isValidSubset();this._set("state",_43d?"":(((((!this._hasBeenBlurred||_43b)&&_43e)||_43f)&&this._maskValidSubsetError)?"Incomplete":"Error"));dijit.setWaiState(this.focusNode,"invalid",_43d?"false":"true");if(this.state=="Error"){this._maskValidSubsetError=_43b&&_43f;_43c=this.getErrorMessage(_43b);}else{if(this.state=="Incomplete"){_43c=this.getPromptMessage(_43b);this._maskValidSubsetError=!this._hasBeenBlurred||_43b;}else{if(_43e){_43c=this.getPromptMessage(_43b);}}}this.set("message",_43c);return _43d;},displayMessage:function(_440){dijit.hideTooltip(this.domNode);if(_440&&this._focused){dijit.showTooltip(_440,this.domNode,this.tooltipPosition,!this.isLeftToRight());}},_refreshState:function(){this.validate(this._focused);this.inherited(arguments);},constructor:function(){this.constraints={};},_setConstraintsAttr:function(_441){if(!_441.locale&&this.lang){_441.locale=this.lang;}this._set("constraints",_441);this._computePartialRE();},_computePartialRE:function(){var p=this.regExpGen(this.constraints);this.regExp=p;var _442="";if(p!=".*"){this.regExp.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_442+=re;break;case ")":_442+="|$)";break;default:_442+="(?:"+re+"|$)";break;}});}try{"".search(_442);}catch(e){_442=this.regExp;console.warn("RegExp error in "+this.declaredClass+": "+this.regExp);}this._partialre="^(?:"+_442+")$";},postMixInProperties:function(){this.inherited(arguments);this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);if(this.invalidMessage=="$_unset_$"){this.invalidMessage=this.messages.invalidMessage;}if(!this.invalidMessage){this.invalidMessage=this.promptMessage;}if(this.missingMessage=="$_unset_$"){this.missingMessage=this.messages.missingMessage;}if(!this.missingMessage){this.missingMessage=this.invalidMessage;}this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function(_443){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_444){this._set("required",_444);dijit.setWaiState(this.focusNode,"required",_444);this._refreshState();},_setMessageAttr:function(_445){this._set("message",_445);this.displayMessage(_445);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);}});dojo.declare("dijit.form.MappedTextBox",dijit.form.ValidationTextBox,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},serialize:function(val,_446){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=dojo.place("<input type='hidden'"+(this.name?" name='"+this.name.replace(/'/g,"&quot;")+"'":"")+"/>",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});dojo.declare("dijit.form.RangeBoundTextBox",dijit.form.MappedTextBox,{rangeMessage:"",rangeCheck:function(_447,_448){return ("min" in _448?(this.compare(_447,_448.min)>=0):true)&&("max" in _448?(this.compare(_447,_448.max)<=0):true);},isInRange:function(_449){return this.rangeCheck(this.get("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.get("value");var _44a=false;var _44b=false;if("min" in this.constraints){var min=this.constraints.min;min=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min);_44a=(typeof min=="number")&&min<0;}if("max" in this.constraints){var max=this.constraints.max;max=this.compare(val,((typeof max!="number")||max>0)?max:0);_44b=(typeof max=="number")&&max>0;}return _44a||_44b;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_44c){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_44c));},getErrorMessage:function(_44d){var v=this.get("value");if(v!==null&&v!==""&&v!==undefined&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_44d)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},_setConstraintsAttr:function(_44e){this.inherited(arguments);if(this.focusNode){if(this.constraints.min!==undefined){dijit.setWaiState(this.focusNode,"valuemin",this.constraints.min);}else{dijit.removeWaiState(this.focusNode,"valuemin");}if(this.constraints.max!==undefined){dijit.setWaiState(this.focusNode,"valuemax",this.constraints.max);}else{dijit.removeWaiState(this.focusNode,"valuemax");}}},_setValueAttr:function(_44f,_450){dijit.setWaiState(this.focusNode,"valuenow",_44f);this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form.ComboBox"]){dojo._hasResource["dijit.form.ComboBox"]=true;dojo.provide("dijit.form.ComboBox");dojo.declare("dijit.form.ComboBoxMixin",dijit._HasDropDown,{item:null,pageSize:Infinity,store:null,fetchProperties:{},query:{},autoComplete:true,highlightMatch:"first",searchDelay:100,searchAttr:"name",labelAttr:"",labelType:"text",queryExpr:"${0}*",ignoreCase:true,hasDownArrow:true,templateString:dojo.cache("dijit.form","templates/DropDownBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdojoAttachPoint=\"_buttonNode, _popupStateNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\n\t/></div\n></div>\n"),baseClass:"dijitTextBox dijitComboBox",dropDownClass:"dijit.form._ComboBoxMenu",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},maxHeight:-1,_stopClickEvents:false,_getCaretPos:function(_451){var pos=0;if(typeof (_451.selectionStart)=="number"){pos=_451.selectionStart;}else{if(dojo.isIE){var tr=dojo.doc.selection.createRange().duplicate();var ntr=_451.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_452,_453){_453=parseInt(_453);dijit.selectInputText(_452,_453,_453);},_setDisabledAttr:function(_454){this.inherited(arguments);dijit.setWaiState(this.domNode,"disabled",_454);},_abortQuery:function(){if(this.searchTimer){clearTimeout(this.searchTimer);this.searchTimer=null;}if(this._fetchHandle){if(this._fetchHandle.abort){this._fetchHandle.abort();}this._fetchHandle=null;}},_onInput:function(evt){if(!this.searchTimer&&(evt.type=="paste"||evt.type=="input")&&this._lastInput!=this.textbox.value){this.searchTimer=setTimeout(dojo.hitch(this,function(){this._onKey({charOrCode:229});}),100);}this.inherited(arguments);},_onKey:function(evt){var key=evt.charOrCode;if(evt.altKey||((evt.ctrlKey||evt.metaKey)&&(key!="x"&&key!="v"))||key==dojo.keys.SHIFT){return;}var _455=false;var pw=this.dropDown;var dk=dojo.keys;var _456=null;this._prev_key_backspace=false;this._abortQuery();this.inherited(arguments);if(this._opened){_456=pw.getHighlightedOption();}switch(key){case dk.PAGE_DOWN:case dk.DOWN_ARROW:case dk.PAGE_UP:case dk.UP_ARROW:if(this._opened){this._announceOption(_456);}dojo.stopEvent(evt);break;case dk.ENTER:if(_456){if(_456==pw.nextButton){this._nextSearch(1);dojo.stopEvent(evt);break;}else{if(_456==pw.previousButton){this._nextSearch(-1);dojo.stopEvent(evt);break;}}}else{this._setBlurValue();this._setCaretPos(this.focusNode,this.focusNode.value.length);}if(this._opened||this._fetchHandle){evt.preventDefault();}case dk.TAB:var _457=this.get("displayedValue");if(pw&&(_457==pw._messages["previousMessage"]||_457==pw._messages["nextMessage"])){break;}if(_456){this._selectOption();}if(this._opened){this._lastQuery=null;this.closeDropDown();}break;case " ":if(_456){dojo.stopEvent(evt);this._selectOption();this.closeDropDown();}else{_455=true;}break;case dk.DELETE:case dk.BACKSPACE:this._prev_key_backspace=true;_455=true;break;default:_455=typeof key=="string"||key==229;}if(_455){this.item=undefined;this.searchTimer=setTimeout(dojo.hitch(this,"_startSearchFromInput"),1);}},_autoCompleteText:function(text){var fn=this.focusNode;dijit.selectInputText(fn,fn.value.length);var _458=this.ignoreCase?"toLowerCase":"substr";if(text[_458](0).indexOf(this.focusNode.value[_458](0))==0){var cpos=this._getCaretPos(fn);if((cpos+1)>fn.value.length){fn.value=text;dijit.selectInputText(fn,cpos);}}else{fn.value=text;dijit.selectInputText(fn);}},_openResultList:function(_459,_45a){this._fetchHandle=null;if(this.disabled||this.readOnly||(_45a.query[this.searchAttr]!=this._lastQuery)){return;}var _45b=this.dropDown._highlighted_option&&dojo.hasClass(this.dropDown._highlighted_option,"dijitMenuItemSelected");this.dropDown.clearResultList();if(!_459.length&&!this._maxOptions){this.closeDropDown();return;}_45a._maxOptions=this._maxOptions;var _45c=this.dropDown.createOptions(_459,_45a,dojo.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if(_45a.direction){if(1==_45a.direction){this.dropDown.highlightFirstOption();}else{if(-1==_45a.direction){this.dropDown.highlightLastOption();}}if(_45b){this._announceOption(this.dropDown.getHighlightedOption());}}else{if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_45a.query[this.searchAttr])){this._announceOption(_45c[1]);}}},_showResultList:function(){this.closeDropDown(true);this.displayMessage("");this.openDropDown();dijit.setWaiState(this.domNode,"expanded","true");},loadDropDown:function(_45d){this._startSearchAll();},isLoaded:function(){return false;},closeDropDown:function(){this._abortQuery();if(this._opened){this.inherited(arguments);dijit.setWaiState(this.domNode,"expanded","false");dijit.removeWaiState(this.focusNode,"activedescendant");}},_setBlurValue:function(){var _45e=this.get("displayedValue");var pw=this.dropDown;if(pw&&(_45e==pw._messages["previousMessage"]||_45e==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{if(typeof this.item=="undefined"){this.item=null;this.set("displayedValue",_45e);}else{if(this.value!=this._lastValueReported){dijit.form._FormValueWidget.prototype._setValueAttr.call(this,this.value,true);}this._refreshState();}}},_onBlur:function(){this.closeDropDown();this.inherited(arguments);},_setItemAttr:function(item,_45f,_460){if(!_460){_460=this.store.getValue(item,this.searchAttr);}var _461=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_460;this._set("item",item);dijit.form.ComboBox.superclass._setValueAttr.call(this,_461,_45f,_460);},_announceOption:function(node){if(!node){return;}var _462;if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){_462=node.innerHTML;this.item=undefined;this.value="";}else{_462=this.store.getValue(node.item,this.searchAttr).toString();this.set("item",node.item,false,_462);}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);dijit.setWaiState(this.focusNode,"activedescendant",dojo.attr(node,"id"));this._autoCompleteText(_462);},_selectOption:function(evt){if(evt){this._announceOption(evt.target);}this.closeDropDown();this._setCaretPos(this.focusNode,this.focusNode.value.length);dijit.form._FormValueWidget.prototype._setValueAttr.call(this,this.value,true);},_startSearchAll:function(){this._startSearch("");},_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"));},_getQueryString:function(text){return dojo.string.substitute(this.queryExpr,[text]);},_startSearch:function(key){if(!this.dropDown){var _463=this.id+"_popup",_464=dojo.getObject(this.dropDownClass,false);this.dropDown=new _464({onChange:dojo.hitch(this,this._selectOption),id:_463,dir:this.dir});dijit.removeWaiState(this.focusNode,"activedescendant");dijit.setWaiState(this.textbox,"owns",_463);}var _465=dojo.clone(this.query);this._lastInput=key;this._lastQuery=_465[this.searchAttr]=this._getQueryString(key);this.searchTimer=setTimeout(dojo.hitch(this,function(_466,_467){this.searchTimer=null;var _468={queryOptions:{ignoreCase:this.ignoreCase,deep:true},query:_466,onBegin:dojo.hitch(this,"_setMaxOptions"),onComplete:dojo.hitch(this,"_openResultList"),onError:function(_469){_467._fetchHandle=null;console.error("dijit.form.ComboBox: "+_469);_467.closeDropDown();},start:0,count:this.pageSize};dojo.mixin(_468,_467.fetchProperties);this._fetchHandle=_467.store.fetch(_468);var _46a=function(_46b,_46c){_46b.start+=_46b.count*_46c;_46b.direction=_46c;this._fetchHandle=this.store.fetch(_46b);this.focus();};this._nextSearch=this.dropDown.onPage=dojo.hitch(this,_46a,this._fetchHandle);},_465,this),this.searchDelay);},_setMaxOptions:function(size,_46d){this._maxOptions=size;},_getValueField:function(){return this.searchAttr;},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.store){var _46e=this.srcNodeRef;this.store=new dijit.form._ComboBoxDataStore(_46e);if(!("value" in this.params)){var item=(this.item=this.store.fetchSelectedItem());if(item){var _46f=this._getValueField();this.value=this.store.getValue(item,_46f);}}}this.inherited(arguments);},postCreate:function(){var _470=dojo.query("label[for=\""+this.id+"\"]");if(_470.length){_470[0].id=(this.id+"_label");dijit.setWaiState(this.domNode,"labelledby",_470[0].id);}this.inherited(arguments);},_setHasDownArrowAttr:function(val){this.hasDownArrow=val;this._buttonNode.style.display=val?"":"none";},_getMenuLabelFromItem:function(item){var _471=this.labelFunc(item,this.store),_472=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_471=this.doHighlight(_471,this._escapeHtml(this._lastInput));_472="html";}return {html:_472=="html",label:_471};},doHighlight:function(_473,find){var _474=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");find=dojo.regexp.escapeString(find);return this._escapeHtml(_473).replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_474),"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},reset:function(){this.item=null;this.inherited(arguments);},labelFunc:function(item,_475){return _475.getValue(item,this.labelAttr||this.searchAttr).toString();}});dojo.declare("dijit.form._ComboBoxMenu",[dijit._Widget,dijit._Templated,dijit._CssStateMixin],{templateString:"<ul class='dijitReset dijitMenu' dojoAttachEvent='onmousedown:_onMouseDown,onmouseup:_onMouseUp,onmouseover:_onMouseOver,onmouseout:_onMouseOut' style='overflow: \"auto\"; overflow-x: \"hidden\";'>"+"<li class='dijitMenuItem dijitMenuPreviousButton' dojoAttachPoint='previousButton' role='option'></li>"+"<li class='dijitMenuItem dijitMenuNextButton' dojoAttachPoint='nextButton' role='option'></li>"+"</ul>",_messages:null,baseClass:"dijitComboBoxMenu",postMixInProperties:function(){this.inherited(arguments);this._messages=dojo.i18n.getLocalization("dijit.form","ComboBox",this.lang);},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];},_setValueAttr:function(_476){this.value=_476;this.onChange(_476);},onChange:function(_477){},onPage:function(_478){},onClose:function(){this._blurOptionNode();},_createOption:function(item,_479){var _47a=dojo.create("li",{"class":"dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl"),role:"option"});var _47b=_479(item);if(_47b.html){_47a.innerHTML=_47b.label;}else{_47a.appendChild(dojo.doc.createTextNode(_47b.label));}if(_47a.innerHTML==""){_47a.innerHTML="&nbsp;";}_47a.item=item;return _47a;},createOptions:function(_47c,_47d,_47e){this.previousButton.style.display=(_47d.start==0)?"none":"";dojo.attr(this.previousButton,"id",this.id+"_prev");dojo.forEach(_47c,function(item,i){var _47f=this._createOption(item,_47e);dojo.attr(_47f,"id",this.id+i);this.domNode.insertBefore(_47f,this.nextButton);},this);var _480=false;if(_47d._maxOptions&&_47d._maxOptions!=-1){if((_47d.start+_47d.count)<_47d._maxOptions){_480=true;}else{if((_47d.start+_47d.count)>_47d._maxOptions&&_47d.count==_47c.length){_480=true;}}}else{if(_47d.count==_47c.length){_480=true;}}this.nextButton.style.display=_480?"":"none";dojo.attr(this.nextButton,"id",this.id+"_next");return this.domNode.childNodes;},clearResultList:function(){while(this.domNode.childNodes.length>2){this.domNode.removeChild(this.domNode.childNodes[this.domNode.childNodes.length-2]);}this._blurOptionNode();},_onMouseDown:function(evt){dojo.stopEvent(evt);},_onMouseUp:function(evt){if(evt.target===this.domNode||!this._highlighted_option){return;}else{if(evt.target==this.previousButton){this._blurOptionNode();this.onPage(-1);}else{if(evt.target==this.nextButton){this._blurOptionNode();this.onPage(1);}else{var tgt=evt.target;while(!tgt.item){tgt=tgt.parentNode;}this._setValueAttr({target:tgt},true);}}}},_onMouseOver:function(evt){if(evt.target===this.domNode){return;}var tgt=evt.target;if(!(tgt==this.previousButton||tgt==this.nextButton)){while(!tgt.item){tgt=tgt.parentNode;}}this._focusOptionNode(tgt);},_onMouseOut:function(evt){if(evt.target===this.domNode){return;}this._blurOptionNode();},_focusOptionNode:function(node){if(this._highlighted_option!=node){this._blurOptionNode();this._highlighted_option=node;dojo.addClass(this._highlighted_option,"dijitMenuItemSelected");}},_blurOptionNode:function(){if(this._highlighted_option){dojo.removeClass(this._highlighted_option,"dijitMenuItemSelected");this._highlighted_option=null;}},_highlightNextOption:function(){if(!this.getHighlightedOption()){var fc=this.domNode.firstChild;this._focusOptionNode(fc.style.display=="none"?fc.nextSibling:fc);}else{var ns=this._highlighted_option.nextSibling;if(ns&&ns.style.display!="none"){this._focusOptionNode(ns);}else{this.highlightFirstOption();}}dojo.window.scrollIntoView(this._highlighted_option);},highlightFirstOption:function(){var _481=this.domNode.firstChild;var _482=_481.nextSibling;this._focusOptionNode(_482.style.display=="none"?_481:_482);dojo.window.scrollIntoView(this._highlighted_option);},highlightLastOption:function(){this._focusOptionNode(this.domNode.lastChild.previousSibling);dojo.window.scrollIntoView(this._highlighted_option);},_highlightPrevOption:function(){if(!this.getHighlightedOption()){var lc=this.domNode.lastChild;this._focusOptionNode(lc.style.display=="none"?lc.previousSibling:lc);}else{var ps=this._highlighted_option.previousSibling;if(ps&&ps.style.display!="none"){this._focusOptionNode(ps);}else{this.highlightLastOption();}}dojo.window.scrollIntoView(this._highlighted_option);},_page:function(up){var _483=0;var _484=this.domNode.scrollTop;var _485=dojo.style(this.domNode,"height");if(!this.getHighlightedOption()){this._highlightNextOption();}while(_483<_485){if(up){if(!this.getHighlightedOption().previousSibling||this._highlighted_option.previousSibling.style.display=="none"){break;}this._highlightPrevOption();}else{if(!this.getHighlightedOption().nextSibling||this._highlighted_option.nextSibling.style.display=="none"){break;}this._highlightNextOption();}var _486=this.domNode.scrollTop;_483+=(_486-_484)*(up?-1:1);_484=_486;}},pageUp:function(){this._page(true);},pageDown:function(){this._page(false);},getHighlightedOption:function(){var ho=this._highlighted_option;return (ho&&ho.parentNode)?ho:null;},handleKey:function(evt){switch(evt.charOrCode){case dojo.keys.DOWN_ARROW:this._highlightNextOption();return false;case dojo.keys.PAGE_DOWN:this.pageDown();return false;case dojo.keys.UP_ARROW:this._highlightPrevOption();return false;case dojo.keys.PAGE_UP:this.pageUp();return false;default:return true;}}});dojo.declare("dijit.form.ComboBox",[dijit.form.ValidationTextBox,dijit.form.ComboBoxMixin],{_setValueAttr:function(_487,_488,_489){this._set("item",null);if(!_487){_487="";}dijit.form.ValidationTextBox.prototype._setValueAttr.call(this,_487,_488,_489);}});dojo.declare("dijit.form._ComboBoxDataStore",null,{constructor:function(root){this.root=root;if(root.tagName!="SELECT"&&root.firstChild){root=dojo.query("select",root);if(root.length>0){root=root[0];}else{this.root.innerHTML="<SELECT>"+this.root.innerHTML+"</SELECT>";root=this.root.firstChild;}this.root=root;}dojo.query("> option",root).forEach(function(node){node.innerHTML=dojo.trim(node.innerHTML);});},getValue:function(item,_48a,_48b){return (_48a=="value")?item.value:(item.innerText||item.textContent||"");},isItemLoaded:function(_48c){return true;},getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},_fetchItems:function(args,_48d,_48e){if(!args.query){args.query={};}if(!args.query.name){args.query.name="";}if(!args.queryOptions){args.queryOptions={};}var _48f=dojo.data.util.filter.patternToRegExp(args.query.name,args.queryOptions.ignoreCase),_490=dojo.query("> option",this.root).filter(function(_491){return (_491.innerText||_491.textContent||"").match(_48f);});if(args.sort){_490.sort(dojo.data.util.sorter.createSortFunction(args.sort,this));}_48d(_490,args);},close:function(_492){return;},getLabel:function(item){return item.innerHTML;},getIdentity:function(item){return dojo.attr(item,"value");},fetchItemByIdentity:function(args){var item=dojo.query("> option[value='"+args.identity+"']",this.root)[0];args.onItem(item);},fetchSelectedItem:function(){var root=this.root,si=root.selectedIndex;return typeof si=="number"?dojo.query("> option:nth-child("+(si!=-1?si+1:1)+")",root)[0]:null;}});dojo.extend(dijit.form._ComboBoxDataStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dijit.form.FilteringSelect"]){dojo._hasResource["dijit.form.FilteringSelect"]=true;dojo.provide("dijit.form.FilteringSelect");dojo.declare("dijit.form.FilteringSelect",[dijit.form.MappedTextBox,dijit.form.ComboBoxMixin],{required:true,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened;},isValid:function(){return this.item||(!this.required&&this.get("displayedValue")=="");},_refreshState:function(){if(!this.searchTimer){this.inherited(arguments);}},_callbackSetLabel:function(_493,_494,_495){if((_494&&_494.query[this.searchAttr]!=this._lastQuery)||(!_494&&_493.length&&this.store.getIdentity(_493[0])!=this._lastQuery)){return;}if(!_493.length){this.valueNode.value="";dijit.form.TextBox.superclass._setValueAttr.call(this,"",_495||(_495===undefined&&!this._focused));this._set("item",null);this.validate(this._focused);}else{this.set("item",_493[0],_495);}},_openResultList:function(_496,_497){if(_497.query[this.searchAttr]!=this._lastQuery){return;}dijit.form.ComboBoxMixin.prototype._openResultList.apply(this,arguments);if(this.item===undefined){this.validate(true);}},_getValueAttr:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValueAttr:function(_498,_499){if(!this._onChangeActive){_499=null;}this._lastQuery=_498;if(_498===null||_498===""){this._setDisplayedValueAttr("",_499);return;}var self=this;this.store.fetchItemByIdentity({identity:_498,onItem:function(item){self._callbackSetLabel(item?[item]:[],undefined,_499);}});},_setItemAttr:function(item,_49a,_49b){this.inherited(arguments);this.valueNode.value=this.value;this._lastDisplayedValue=this.textbox.value;},_getDisplayQueryString:function(text){return text.replace(/([\\\*\?])/g,"\\$1");},_setDisplayedValueAttr:function(_49c,_49d){if(_49c==null){_49c="";}if(!this._created){if(!("displayedValue" in this.params)){return;}_49d=false;}if(this.store){this.closeDropDown();var _49e=dojo.clone(this.query);this._lastQuery=_49e[this.searchAttr]=this._getDisplayQueryString(_49c);this.textbox.value=_49c;this._lastDisplayedValue=_49c;this._set("displayedValue",_49c);var _49f=this;var _4a0={query:_49e,queryOptions:{ignoreCase:this.ignoreCase,deep:true},onComplete:function(_4a1,_4a2){_49f._fetchHandle=null;dojo.hitch(_49f,"_callbackSetLabel")(_4a1,_4a2,_49d);},onError:function(_4a3){_49f._fetchHandle=null;console.error("dijit.form.FilteringSelect: "+_4a3);dojo.hitch(_49f,"_callbackSetLabel")([],undefined,false);}};dojo.mixin(_4a0,this.fetchProperties);this._fetchHandle=this.store.fetch(_4a0);}},undo:function(){this.set("displayedValue",this._lastDisplayedValue);}});}if(!dojo._hasResource["dojo.data.ItemFileReadStore"]){dojo._hasResource["dojo.data.ItemFileReadStore"]=true;dojo.provide("dojo.data.ItemFileReadStore");dojo.declare("dojo.data.ItemFileReadStore",null,{constructor:function(_4a4){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_4a4.url;this._ccUrl=_4a4.url;this.url=_4a4.url;this._jsonData=_4a4.data;this.data=null;this._datatypeMap=_4a4.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_4a5){return dojo.date.stamp.fromISOString(_4a5);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_4a4.urlPreventCache!==undefined){this.urlPreventCache=_4a4.urlPreventCache?true:false;}if(_4a4.hierarchical!==undefined){this.hierarchical=_4a4.hierarchical?true:false;}if(_4a4.clearOnClose){this.clearOnClose=true;}if("failOk" in _4a4){this.failOk=_4a4.failOk?true:false;}},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,failOk:false,hierarchical:true,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojo.data.ItemFileReadStore: Invalid item argument.");}},_assertIsAttribute:function(_4a6){if(typeof _4a6!=="string"){throw new Error("dojo.data.ItemFileReadStore: Invalid attribute argument.");}},getValue:function(item,_4a7,_4a8){var _4a9=this.getValues(item,_4a7);return (_4a9.length>0)?_4a9[0]:_4a8;},getValues:function(item,_4aa){this._assertIsItem(item);this._assertIsAttribute(_4aa);return (item[_4aa]||[]).slice(0);},getAttributes:function(item){this._assertIsItem(item);var _4ab=[];for(var key in item){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_4ab.push(key);}}return _4ab;},hasAttribute:function(item,_4ac){this._assertIsItem(item);this._assertIsAttribute(_4ac);return (_4ac in item);},containsValue:function(item,_4ad,_4ae){var _4af=undefined;if(typeof _4ae==="string"){_4af=dojo.data.util.filter.patternToRegExp(_4ae,false);}return this._containsValue(item,_4ad,_4ae,_4af);},_containsValue:function(item,_4b0,_4b1,_4b2){return dojo.some(this.getValues(item,_4b0),function(_4b3){if(_4b3!==null&&!dojo.isObject(_4b3)&&_4b2){if(_4b3.toString().match(_4b2)){return true;}}else{if(_4b1===_4b3){return true;}}});},isItem:function(_4b4){if(_4b4&&_4b4[this._storeRefPropName]===this){if(this._arrayOfAllItems[_4b4[this._itemNumPropName]]===_4b4){return true;}}return false;},isItemLoaded:function(_4b5){return this.isItem(_4b5);},loadItem:function(_4b6){this._assertIsItem(_4b6.item);},getFeatures:function(){return this._features;},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},_fetchItems:function(_4b7,_4b8,_4b9){var self=this,_4ba=function(_4bb,_4bc){var _4bd=[],i,key;if(_4bb.query){var _4be,_4bf=_4bb.queryOptions?_4bb.queryOptions.ignoreCase:false;var _4c0={};for(key in _4bb.query){_4be=_4bb.query[key];if(typeof _4be==="string"){_4c0[key]=dojo.data.util.filter.patternToRegExp(_4be,_4bf);}else{if(_4be instanceof RegExp){_4c0[key]=_4be;}}}for(i=0;i<_4bc.length;++i){var _4c1=true;var _4c2=_4bc[i];if(_4c2===null){_4c1=false;}else{for(key in _4bb.query){_4be=_4bb.query[key];if(!self._containsValue(_4c2,key,_4be,_4c0[key])){_4c1=false;}}}if(_4c1){_4bd.push(_4c2);}}_4b8(_4bd,_4bb);}else{for(i=0;i<_4bc.length;++i){var item=_4bc[i];if(item!==null){_4bd.push(item);}}_4b8(_4bd,_4bb);}};if(this._loadFinished){_4ba(_4b7,this._getItemsArray(_4b7.queryOptions));}else{if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_4b7,filter:_4ba});}else{this._loadInProgress=true;var _4c3={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _4c4=dojo.xhrGet(_4c3);_4c4.addCallback(function(data){try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;_4ba(_4b7,self._getItemsArray(_4b7.queryOptions));self._handleQueuedFetches();}catch(e){self._loadFinished=true;self._loadInProgress=false;_4b9(e,_4b7);}});_4c4.addErrback(function(_4c5){self._loadInProgress=false;_4b9(_4c5,_4b7);});var _4c6=null;if(_4b7.abort){_4c6=_4b7.abort;}_4b7.abort=function(){var df=_4c4;if(df&&df.fired===-1){df.cancel();df=null;}if(_4c6){_4c6.call(_4b7);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;_4ba(_4b7,this._getItemsArray(_4b7.queryOptions));}catch(e){_4b9(e,_4b7);}}else{_4b9(new Error("dojo.data.ItemFileReadStore: No JSON source data was provided as either URL or a nested Javascript object."),_4b7);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _4c7=this._queuedFetches[i],_4c8=_4c7.args,_4c9=_4c7.filter;if(_4c9){_4c9(_4c8,this._getItemsArray(_4c8.queryOptions));}else{this.fetchItemByIdentity(_4c8);}}this._queuedFetches=[];}},_getItemsArray:function(_4ca){if(_4ca&&_4ca.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_4cb){if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){console.debug("dojo.data.ItemFileReadStore: WARNING!  Data reload "+" information has not been provided."+"  Please set 'url' or 'data' to the appropriate value before"+" the next fetch");}this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_4cc){var _4cd=false,self=this;function _4ce(_4cf){var _4d0=((_4cf!==null)&&(typeof _4cf==="object")&&(!dojo.isArray(_4cf)||_4cd)&&(!dojo.isFunction(_4cf))&&(_4cf.constructor==Object||dojo.isArray(_4cf))&&(typeof _4cf._reference==="undefined")&&(typeof _4cf._type==="undefined")&&(typeof _4cf._value==="undefined")&&self.hierarchical);return _4d0;};function _4d1(_4d2){self._arrayOfAllItems.push(_4d2);for(var _4d3 in _4d2){var _4d4=_4d2[_4d3];if(_4d4){if(dojo.isArray(_4d4)){var _4d5=_4d4;for(var k=0;k<_4d5.length;++k){var _4d6=_4d5[k];if(_4ce(_4d6)){_4d1(_4d6);}}}else{if(_4ce(_4d4)){_4d1(_4d4);}}}}};this._labelAttr=_4cc.label;var i,item;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_4cc.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){item=this._arrayOfTopLevelItems[i];if(dojo.isArray(item)){_4cd=true;}_4d1(item);item[this._rootItemPropName]=true;}var _4d7={},key;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){if(key!==this._rootItemPropName){var _4d8=item[key];if(_4d8!==null){if(!dojo.isArray(_4d8)){item[key]=[_4d8];}}else{item[key]=[null];}}_4d7[key]=key;}}while(_4d7[this._storeRefPropName]){this._storeRefPropName+="_";}while(_4d7[this._itemNumPropName]){this._itemNumPropName+="_";}while(_4d7[this._reverseRefMap]){this._reverseRefMap+="_";}var _4d9;var _4da=_4cc.identifier;if(_4da){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_4da;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];_4d9=item[_4da];var _4db=_4d9[0];if(!Object.hasOwnProperty.call(this._itemsByIdentity,_4db)){this._itemsByIdentity[_4db]=item;}else{if(this._jsonFileUrl){throw new Error("dojo.data.ItemFileReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_4da+"].  Value collided: ["+_4db+"]");}else{if(this._jsonData){throw new Error("dojo.data.ItemFileReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_4da+"].  Value collided: ["+_4db+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];item[this._storeRefPropName]=this;item[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){_4d9=item[key];for(var j=0;j<_4d9.length;++j){_4d8=_4d9[j];if(_4d8!==null&&typeof _4d8=="object"){if(("_type" in _4d8)&&("_value" in _4d8)){var type=_4d8._type;var _4dc=this._datatypeMap[type];if(!_4dc){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");}else{if(dojo.isFunction(_4dc)){_4d9[j]=new _4dc(_4d8._value);}else{if(dojo.isFunction(_4dc.deserialize)){_4d9[j]=_4dc.deserialize(_4d8._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_4d8._reference){var _4dd=_4d8._reference;if(!dojo.isObject(_4dd)){_4d9[j]=this._getItemByIdentity(_4dd);}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _4de=this._arrayOfAllItems[k],_4df=true;for(var _4e0 in _4dd){if(_4de[_4e0]!=_4dd[_4e0]){_4df=false;}}if(_4df){_4d9[j]=_4de;}}}if(this.referenceIntegrity){var _4e1=_4d9[j];if(this.isItem(_4e1)){this._addReferenceToMap(_4e1,item,key);}}}else{if(this.isItem(_4d8)){if(this.referenceIntegrity){this._addReferenceToMap(_4d8,item,key);}}}}}}}},_addReferenceToMap:function(_4e2,_4e3,_4e4){},getIdentity:function(item){var _4e5=this._features["dojo.data.api.Identity"];if(_4e5===Number){return item[this._itemNumPropName];}else{var _4e6=item[_4e5];if(_4e6){return _4e6[0];}}return null;},fetchItemByIdentity:function(_4e7){var item,_4e8;if(!this._loadFinished){var self=this;if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_4e7});}else{this._loadInProgress=true;var _4e9={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _4ea=dojo.xhrGet(_4e9);_4ea.addCallback(function(data){var _4eb=_4e7.scope?_4e7.scope:dojo.global;try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;item=self._getItemByIdentity(_4e7.identity);if(_4e7.onItem){_4e7.onItem.call(_4eb,item);}self._handleQueuedFetches();}catch(error){self._loadInProgress=false;if(_4e7.onError){_4e7.onError.call(_4eb,error);}}});_4ea.addErrback(function(_4ec){self._loadInProgress=false;if(_4e7.onError){var _4ed=_4e7.scope?_4e7.scope:dojo.global;_4e7.onError.call(_4ed,_4ec);}});}}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;item=self._getItemByIdentity(_4e7.identity);if(_4e7.onItem){_4e8=_4e7.scope?_4e7.scope:dojo.global;_4e7.onItem.call(_4e8,item);}}}}else{item=this._getItemByIdentity(_4e7.identity);if(_4e7.onItem){_4e8=_4e7.scope?_4e7.scope:dojo.global;_4e7.onItem.call(_4e8,item);}}},_getItemByIdentity:function(_4ee){var item=null;if(this._itemsByIdentity&&Object.hasOwnProperty.call(this._itemsByIdentity,_4ee)){item=this._itemsByIdentity[_4ee];}else{if(Object.hasOwnProperty.call(this._arrayOfAllItems,_4ee)){item=this._arrayOfAllItems[_4ee];}}if(item===undefined){item=null;}return item;},getIdentityAttributes:function(item){var _4ef=this._features["dojo.data.api.Identity"];if(_4ef===Number){return null;}else{return [_4ef];}},_forceLoad:function(){var self=this;if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){var _4f0={url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:true};var _4f1=dojo.xhrGet(_4f0);_4f1.addCallback(function(data){try{if(self._loadInProgress!==true&&!self._loadFinished){self._getItemsFromLoadedData(data);self._loadFinished=true;}else{if(self._loadInProgress){throw new Error("dojo.data.ItemFileReadStore:  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){console.log(e);throw e;}});_4f1.addErrback(function(_4f2){throw _4f2;});}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;}}}});dojo.extend(dojo.data.ItemFileReadStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dijit._editor.plugins.FontChoice"]){dojo._hasResource["dijit._editor.plugins.FontChoice"]=true;dojo.provide("dijit._editor.plugins.FontChoice");dojo.declare("dijit._editor.plugins._FontDropDown",[dijit._Widget,dijit._Templated],{label:"",widgetsInTemplate:true,plainText:false,templateString:"<span style='white-space: nowrap' class='dijit dijitReset dijitInline'>"+"<label class='dijitLeft dijitInline' for='${selectId}'>${label}</label>"+"<input dojoType='dijit.form.FilteringSelect' required='false' labelType='html' labelAttr='label' searchAttr='name' "+"tabIndex='-1' id='${selectId}' dojoAttachPoint='select' value=''/>"+"</span>",postMixInProperties:function(){this.inherited(arguments);this.strings=dojo.i18n.getLocalization("dijit._editor","FontChoice");this.label=this.strings[this.command];this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));this.selectId=this.id+"_select";this.inherited(arguments);},postCreate:function(){var _4f3=dojo.map(this.values,function(_4f4){var name=this.strings[_4f4]||_4f4;return {label:this.getLabel(_4f4,name),name:name,value:_4f4};},this);this.select.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",items:_4f3}});this.select.set("value","",false);this.disabled=this.select.get("disabled");},_setValueAttr:function(_4f5,_4f6){_4f6=_4f6!==false?true:false;this.select.set("value",dojo.indexOf(this.values,_4f5)<0?"":_4f5,_4f6);if(!_4f6){this.select._lastValueReported=null;}},_getValueAttr:function(){return this.select.get("value");},focus:function(){this.select.focus();},_setDisabledAttr:function(_4f7){this.disabled=_4f7;this.select.set("disabled",_4f7);}});dojo.declare("dijit._editor.plugins._FontNameDropDown",dijit._editor.plugins._FontDropDown,{generic:false,command:"fontName",postMixInProperties:function(){if(!this.values){this.values=this.generic?["serif","sans-serif","monospace","cursive","fantasy"]:["Arial","Times New Roman","Comic Sans MS","Courier New"];}this.inherited(arguments);},getLabel:function(_4f8,name){if(this.plainText){return name;}else{return "<div style='font-family: "+_4f8+"'>"+name+"</div>";}},_setValueAttr:function(_4f9,_4fa){_4fa=_4fa!==false?true:false;if(this.generic){var map={"Arial":"sans-serif","Helvetica":"sans-serif","Myriad":"sans-serif","Times":"serif","Times New Roman":"serif","Comic Sans MS":"cursive","Apple Chancery":"cursive","Courier":"monospace","Courier New":"monospace","Papyrus":"fantasy"};_4f9=map[_4f9]||_4f9;}this.inherited(arguments,[_4f9,_4fa]);}});dojo.declare("dijit._editor.plugins._FontSizeDropDown",dijit._editor.plugins._FontDropDown,{command:"fontSize",values:[1,2,3,4,5,6,7],getLabel:function(_4fb,name){if(this.plainText){return name;}else{return "<font size="+_4fb+"'>"+name+"</font>";}},_setValueAttr:function(_4fc,_4fd){_4fd=_4fd!==false?true:false;if(_4fc.indexOf&&_4fc.indexOf("px")!=-1){var _4fe=parseInt(_4fc,10);_4fc={10:1,13:2,16:3,18:4,24:5,32:6,48:7}[_4fe]||_4fc;}this.inherited(arguments,[_4fc,_4fd]);}});dojo.declare("dijit._editor.plugins._FormatBlockDropDown",dijit._editor.plugins._FontDropDown,{command:"formatBlock",values:["noFormat","p","h1","h2","h3","pre"],postCreate:function(){this.inherited(arguments);this.set("value","noFormat",false);},getLabel:function(_4ff,name){if(this.plainText||_4ff=="noFormat"){return name;}else{return "<"+_4ff+">"+name+"</"+_4ff+">";}},_execCommand:function(_500,_501,_502){if(_502==="noFormat"){var _503;var end;var sel=dijit.range.getSelection(_500.window);if(sel&&sel.rangeCount>0){var _504=sel.getRangeAt(0);var node,tag;if(_504){_503=_504.startContainer;end=_504.endContainer;while(_503&&_503!==_500.editNode&&_503!==_500.document.body&&_503.nodeType!==1){_503=_503.parentNode;}while(end&&end!==_500.editNode&&end!==_500.document.body&&end.nodeType!==1){end=end.parentNode;}var _505=dojo.hitch(this,function(node,_506){if(node.childNodes&&node.childNodes.length){var i;for(i=0;i<node.childNodes.length;i++){var c=node.childNodes[i];if(c.nodeType==1){if(dojo.withGlobal(_500.window,"inSelection",dijit._editor.selection,[c])){var tag=c.tagName?c.tagName.toLowerCase():"";if(dojo.indexOf(this.values,tag)!==-1){_506.push(c);}_505(c,_506);}}}}});var _507=dojo.hitch(this,function(_508){if(_508&&_508.length){_500.beginEditing();while(_508.length){this._removeFormat(_500,_508.pop());}_500.endEditing();}});var _509=[];if(_503==end){var _50a;node=_503;while(node&&node!==_500.editNode&&node!==_500.document.body){if(node.nodeType==1){tag=node.tagName?node.tagName.toLowerCase():"";if(dojo.indexOf(this.values,tag)!==-1){_50a=node;break;}}node=node.parentNode;}_505(_503,_509);if(_50a){_509=[_50a].concat(_509);}_507(_509);}else{node=_503;while(dojo.withGlobal(_500.window,"inSelection",dijit._editor.selection,[node])){if(node.nodeType==1){tag=node.tagName?node.tagName.toLowerCase():"";if(dojo.indexOf(this.values,tag)!==-1){_509.push(node);}_505(node,_509);}node=node.nextSibling;}_507(_509);}_500.onDisplayChanged();}}}else{_500.execCommand(_501,_502);}},_removeFormat:function(_50b,node){if(_50b.customUndo){while(node.firstChild){dojo.place(node.firstChild,node,"before");}node.parentNode.removeChild(node);}else{dojo.withGlobal(_50b.window,"selectElementChildren",dijit._editor.selection,[node]);var html=dojo.withGlobal(_50b.window,"getSelectedHtml",dijit._editor.selection,[null]);dojo.withGlobal(_50b.window,"selectElement",dijit._editor.selection,[node]);_50b.execCommand("inserthtml",html||"");}}});dojo.declare("dijit._editor.plugins.FontChoice",dijit._editor._Plugin,{useDefaultCommand:false,_initButton:function(){var _50c={fontName:dijit._editor.plugins._FontNameDropDown,fontSize:dijit._editor.plugins._FontSizeDropDown,formatBlock:dijit._editor.plugins._FormatBlockDropDown}[this.command],_50d=this.params;if(this.params.custom){_50d.values=this.params.custom;}var _50e=this.editor;this.button=new _50c(dojo.delegate({dir:_50e.dir,lang:_50e.lang},_50d));this.connect(this.button.select,"onChange",function(_50f){this.editor.focus();if(this.command=="fontName"&&_50f.indexOf(" ")!=-1){_50f="'"+_50f+"'";}if(this.button._execCommand){this.button._execCommand(this.editor,this.command,_50f);}else{this.editor.execCommand(this.command,_50f);}});},updateState:function(){var _510=this.editor;var _511=this.command;if(!_510||!_510.isLoaded||!_511.length){return;}if(this.button){var _512=this.get("disabled");this.button.set("disabled",_512);if(_512){return;}var _513;try{_513=_510.queryCommandValue(_511)||"";}catch(e){_513="";}var _514=dojo.isString(_513)&&_513.match(/'([^']*)'/);if(_514){_513=_514[1];}if(_511==="formatBlock"){if(!_513||_513=="p"){_513=null;var elem;var sel=dijit.range.getSelection(this.editor.window);if(sel&&sel.rangeCount>0){var _515=sel.getRangeAt(0);if(_515){elem=_515.endContainer;}}while(elem&&elem!==_510.editNode&&elem!==_510.document){var tg=elem.tagName?elem.tagName.toLowerCase():"";if(tg&&dojo.indexOf(this.button.values,tg)>-1){_513=tg;break;}elem=elem.parentNode;}if(!_513){_513="noFormat";}}else{if(dojo.indexOf(this.button.values,_513)<0){_513="noFormat";}}}if(_513!==this.button.get("value")){this.button.set("value",_513,false);}}}});dojo.subscribe(dijit._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}switch(o.args.name){case "fontName":case "fontSize":case "formatBlock":o.plugin=new dijit._editor.plugins.FontChoice({command:o.args.name,plainText:o.args.plainText?o.args.plainText:false});}});}if(!dojo._hasResource["dijit.form.DropDownButton"]){dojo._hasResource["dijit.form.DropDownButton"]=true;dojo.provide("dijit.form.DropDownButton");}if(!dojo._hasResource["dijit.form._FormSelectWidget"]){dojo._hasResource["dijit.form._FormSelectWidget"]=true;dojo.provide("dijit.form._FormSelectWidget");dojo.declare("dijit.form._FormSelectWidget",dijit.form._FormValueWidget,{multiple:false,options:null,store:null,query:null,queryOptions:null,onFetch:null,sortByLabel:true,loadChildrenOnOpen:false,getOptions:function(_516){var _517=_516,opts=this.options||[],l=opts.length;if(_517===undefined){return opts;}if(dojo.isArray(_517)){return dojo.map(_517,"return this.getOptions(item);",this);}if(dojo.isObject(_516)){if(!dojo.some(this.options,function(o,idx){if(o===_517||(o.value&&o.value===_517.value)){_517=idx;return true;}return false;})){_517=-1;}}if(typeof _517=="string"){for(var i=0;i<l;i++){if(opts[i].value===_517){_517=i;break;}}}if(typeof _517=="number"&&_517>=0&&_517<l){return this.options[_517];}return null;},addOption:function(_518){if(!dojo.isArray(_518)){_518=[_518];}dojo.forEach(_518,function(i){if(i&&dojo.isObject(i)){this.options.push(i);}},this);this._loadChildren();},removeOption:function(_519){if(!dojo.isArray(_519)){_519=[_519];}var _51a=this.getOptions(_519);dojo.forEach(_51a,function(i){if(i){this.options=dojo.filter(this.options,function(node,idx){return (node.value!==i.value||node.label!==i.label);});this._removeOptionItem(i);}},this);this._loadChildren();},updateOption:function(_51b){if(!dojo.isArray(_51b)){_51b=[_51b];}dojo.forEach(_51b,function(i){var _51c=this.getOptions(i),k;if(_51c){for(k in i){_51c[k]=i[k];}}},this);this._loadChildren();},setStore:function(_51d,_51e,_51f){var _520=this.store;_51f=_51f||{};if(_520!==_51d){dojo.forEach(this._notifyConnections||[],dojo.disconnect);delete this._notifyConnections;if(_51d&&_51d.getFeatures()["dojo.data.api.Notification"]){this._notifyConnections=[dojo.connect(_51d,"onNew",this,"_onNewItem"),dojo.connect(_51d,"onDelete",this,"_onDeleteItem"),dojo.connect(_51d,"onSet",this,"_onSetItem")];}this._set("store",_51d);}this._onChangeActive=false;if(this.options&&this.options.length){this.removeOption(this.options);}if(_51d){this._loadingStore=true;_51d.fetch(dojo.delegate(_51f,{onComplete:function(_521,opts){if(this.sortByLabel&&!_51f.sort&&_521.length){_521.sort(dojo.data.util.sorter.createSortFunction([{attribute:_51d.getLabelAttributes(_521[0])[0]}],_51d));}if(_51f.onFetch){_521=_51f.onFetch.call(this,_521,opts);}dojo.forEach(_521,function(i){this._addOptionForItem(i);},this);this._loadingStore=false;this.set("value","_pendingValue" in this?this._pendingValue:_51e);delete this._pendingValue;if(!this.loadChildrenOnOpen){this._loadChildren();}else{this._pseudoLoadChildren(_521);}this._fetchedWith=opts;this._lastValueReported=this.multiple?[]:null;this._onChangeActive=true;this.onSetStore();this._handleOnChange(this.value);},scope:this}));}else{delete this._fetchedWith;}return _520;},_setValueAttr:function(_522,_523){if(this._loadingStore){this._pendingValue=_522;return;}var opts=this.getOptions()||[];if(!dojo.isArray(_522)){_522=[_522];}dojo.forEach(_522,function(i,idx){if(!dojo.isObject(i)){i=i+"";}if(typeof i==="string"){_522[idx]=dojo.filter(opts,function(node){return node.value===i;})[0]||{value:"",label:""};}},this);_522=dojo.filter(_522,function(i){return i&&i.value;});if(!this.multiple&&(!_522[0]||!_522[0].value)&&opts.length){_522[0]=opts[0];}dojo.forEach(opts,function(i){i.selected=dojo.some(_522,function(v){return v.value===i.value;});});var val=dojo.map(_522,function(i){return i.value;}),disp=dojo.map(_522,function(i){return i.label;});this._set("value",this.multiple?val:val[0]);this._setDisplay(this.multiple?disp:disp[0]);this._updateSelection();this._handleOnChange(this.value,_523);},_getDisplayedValueAttr:function(){var val=this.get("value");if(!dojo.isArray(val)){val=[val];}var ret=dojo.map(this.getOptions(val),function(v){if(v&&"label" in v){return v.label;}else{if(v){return v.value;}}return null;},this);return this.multiple?ret:ret[0];},_loadChildren:function(){if(this._loadingStore){return;}dojo.forEach(this._getChildren(),function(_524){_524.destroyRecursive();});dojo.forEach(this.options,this._addOptionItem,this);this._updateSelection();},_updateSelection:function(){this._set("value",this._getValueFromOpts());var val=this.value;if(!dojo.isArray(val)){val=[val];}if(val&&val[0]){dojo.forEach(this._getChildren(),function(_525){var _526=dojo.some(val,function(v){return _525.option&&(v===_525.option.value);});dojo.toggleClass(_525.domNode,this.baseClass+"SelectedOption",_526);dijit.setWaiState(_525.domNode,"selected",_526);},this);}},_getValueFromOpts:function(){var opts=this.getOptions()||[];if(!this.multiple&&opts.length){var opt=dojo.filter(opts,function(i){return i.selected;})[0];if(opt&&opt.value){return opt.value;}else{opts[0].selected=true;return opts[0].value;}}else{if(this.multiple){return dojo.map(dojo.filter(opts,function(i){return i.selected;}),function(i){return i.value;})||[];}}return "";},_onNewItem:function(item,_527){if(!_527||!_527.parent){this._addOptionForItem(item);}},_onDeleteItem:function(item){var _528=this.store;this.removeOption(_528.getIdentity(item));},_onSetItem:function(item){this.updateOption(this._getOptionObjForItem(item));},_getOptionObjForItem:function(item){var _529=this.store,_52a=_529.getLabel(item),_52b=(_52a?_529.getIdentity(item):null);return {value:_52b,label:_52a,item:item};},_addOptionForItem:function(item){var _52c=this.store;if(!_52c.isItemLoaded(item)){_52c.loadItem({item:item,onComplete:function(i){this._addOptionForItem(item);},scope:this});return;}var _52d=this._getOptionObjForItem(item);this.addOption(_52d);},constructor:function(_52e){this._oValue=(_52e||{}).value||null;},buildRendering:function(){this.inherited(arguments);dojo.setSelectable(this.focusNode,false);},_fillContent:function(){var opts=this.options;if(!opts){opts=this.options=this.srcNodeRef?dojo.query(">",this.srcNodeRef).map(function(node){if(node.getAttribute("type")==="separator"){return {value:"",label:"",selected:false,disabled:false};}return {value:(node.getAttribute("data-"+dojo._scopeName+"-value")||node.getAttribute("value")),label:String(node.innerHTML),selected:node.getAttribute("selected")||false,disabled:node.getAttribute("disabled")||false};},this):[];}if(!this.value){this._set("value",this._getValueFromOpts());}else{if(this.multiple&&typeof this.value=="string"){this_set("value",this.value.split(","));}}},postCreate:function(){this.inherited(arguments);this.connect(this,"onChange","_updateSelection");this.connect(this,"startup","_loadChildren");this._setValueAttr(this.value,null);},startup:function(){this.inherited(arguments);var _52f=this.store,_530={};dojo.forEach(["query","queryOptions","onFetch"],function(i){if(this[i]){_530[i]=this[i];}delete this[i];},this);if(_52f&&_52f.getFeatures()["dojo.data.api.Identity"]){this.store=null;this.setStore(_52f,this._oValue,_530);}},destroy:function(){dojo.forEach(this._notifyConnections||[],dojo.disconnect);this.inherited(arguments);},_addOptionItem:function(_531){},_removeOptionItem:function(_532){},_setDisplay:function(_533){},_getChildren:function(){return [];},_getSelectedOptionsAttr:function(){return this.getOptions(this.get("value"));},_pseudoLoadChildren:function(_534){},onSetStore:function(){}});}if(!dojo._hasResource["dijit.MenuItem"]){dojo._hasResource["dijit.MenuItem"]=true;dojo.provide("dijit.MenuItem");dojo.declare("dijit.MenuItem",[dijit._Widget,dijit._Templated,dijit._Contained,dijit._CssStateMixin],{templateString:dojo.cache("dijit","templates/MenuItem.html","<tr class=\"dijitReset dijitMenuItem pentaho-menuitem\" dojoAttachPoint=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" dojoAttachPoint=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" dojoAttachPoint=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" dojoAttachPoint=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div dojoAttachPoint=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\" dojoAttachPoint=\"arrowIconNode\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n"),attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),baseClass:"dijitMenuItem",label:"",iconClass:"",accelKey:"",disabled:false,_fillContent:function(_535){if(_535&&!("label" in this.params)){this.set("label",_535.innerHTML);}},buildRendering:function(){this.inherited(arguments);var _536=this.id+"_text";dojo.attr(this.containerNode,"id",_536);if(this.accelKeyNode){dojo.attr(this.accelKeyNode,"id",this.id+"_accel");_536+=" "+this.id+"_accel";}dijit.setWaiState(this.domNode,"labelledby",_536);dojo.setSelectable(this.domNode,false);},_onHover:function(){this.getParent().onItemHover(this);},_onUnhover:function(){this.getParent().onItemUnhover(this);this._set("hovering",false);},_onClick:function(evt){this.getParent().onItemClick(this,evt);dojo.stopEvent(evt);},onClick:function(evt){},focus:function(){try{if(dojo.isIE==8){this.containerNode.focus();}dijit.focus(this.focusNode);}catch(e){}},_onFocus:function(){this._setSelected(true);this.getParent()._onItemFocus(this);this.inherited(arguments);},_setSelected:function(_537){dojo.toggleClass(this.domNode,"dijitMenuItemSelected",_537);},setLabel:function(_538){dojo.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_538);},setDisabled:function(_539){dojo.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_539);},_setDisabledAttr:function(_53a){dijit.setWaiState(this.focusNode,"disabled",_53a?"true":"false");this._set("disabled",_53a);},_setAccelKeyAttr:function(_53b){this.accelKeyNode.style.display=_53b?"":"none";this.accelKeyNode.innerHTML=_53b;dojo.attr(this.containerNode,"colSpan",_53b?"1":"2");this._set("accelKey",_53b);}});}if(!dojo._hasResource["dijit.PopupMenuItem"]){dojo._hasResource["dijit.PopupMenuItem"]=true;dojo.provide("dijit.PopupMenuItem");dojo.declare("dijit.PopupMenuItem",dijit.MenuItem,{_fillContent:function(){if(this.srcNodeRef){var _53c=dojo.query("*",this.srcNodeRef);dijit.PopupMenuItem.superclass._fillContent.call(this,_53c[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=dojo.query("[widgetId]",this.dropDownContainer)[0];this.popup=dijit.byNode(node);}dojo.body().appendChild(this.popup.domNode);this.popup.startup();this.popup.domNode.style.display="none";if(this.arrowWrapper){dojo.style(this.arrowWrapper,"visibility","");}dijit.setWaiState(this.focusNode,"haspopup","true");},destroyDescendants:function(){if(this.popup){if(!this.popup._destroyed){this.popup.destroyRecursive();}delete this.popup;}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.CheckedMenuItem"]){dojo._hasResource["dijit.CheckedMenuItem"]=true;dojo.provide("dijit.CheckedMenuItem");dojo.declare("dijit.CheckedMenuItem",dijit.MenuItem,{templateString:dojo.cache("dijit","templates/CheckedMenuItem.html","<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" role=\"menuitemcheckbox\" tabIndex=\"-1\"\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" dojoAttachPoint=\"iconNode\"/>\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" dojoAttachPoint=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" dojoAttachPoint=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&nbsp;</td>\n</tr>\n"),checked:false,_setCheckedAttr:function(_53d){dojo.toggleClass(this.domNode,"dijitCheckedMenuItemChecked",_53d);dijit.setWaiState(this.domNode,"checked",_53d);this._set("checked",_53d);},onChange:function(_53e){},_onClick:function(e){if(!this.disabled){this.set("checked",!this.checked);this.onChange(this.checked);}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.MenuSeparator"]){dojo._hasResource["dijit.MenuSeparator"]=true;dojo.provide("dijit.MenuSeparator");dojo.declare("dijit.MenuSeparator",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:dojo.cache("dijit","templates/MenuSeparator.html","<tr class=\"dijitMenuSeparator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>\n"),buildRendering:function(){this.inherited(arguments);dojo.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});}if(!dojo._hasResource["dijit.Menu"]){dojo._hasResource["dijit.Menu"]=true;dojo.provide("dijit.Menu");dojo.declare("dijit._MenuBase",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{parentMenu:null,popupDelay:500,startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_53f){_53f.startup();});this.startupKeyNavChildren();this.inherited(arguments);},onExecute:function(){},onCancel:function(_540){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.focusedChild._onClick(evt);}else{var _541=this._getTopMenu();if(_541&&_541._isMenuBar){_541.focusNext();}}},_onPopupHover:function(evt){if(this.currentPopup&&this.currentPopup._pendingClose_timer){var _542=this.currentPopup.parentMenu;if(_542.focusedChild){_542.focusedChild._setSelected(false);}_542.focusedChild=this.currentPopup.from_item;_542.focusedChild._setSelected(true);this._stopPendingCloseTimer(this.currentPopup);}},onItemHover:function(item){if(this.isActive){this.focusChild(item);if(this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer){this.hover_timer=setTimeout(dojo.hitch(this,"_openPopup"),this.popupDelay);}}if(this.focusedChild){this.focusChild(item);}this._hoveredChild=item;},_onChildBlur:function(item){this._stopPopupTimer();item._setSelected(false);var _543=item.popup;if(_543){this._stopPendingCloseTimer(_543);_543._pendingClose_timer=setTimeout(function(){_543._pendingClose_timer=null;if(_543.parentMenu){_543.parentMenu.currentPopup=null;}dijit.popup.close(_543);},this.popupDelay);}},onItemUnhover:function(item){if(this.isActive){this._stopPopupTimer();}if(this._hoveredChild==item){this._hoveredChild=null;}},_stopPopupTimer:function(){if(this.hover_timer){clearTimeout(this.hover_timer);this.hover_timer=null;}},_stopPendingCloseTimer:function(_544){if(_544._pendingClose_timer){clearTimeout(_544._pendingClose_timer);_544._pendingClose_timer=null;}},_stopFocusTimer:function(){if(this._focus_timer){clearTimeout(this._focus_timer);this._focus_timer=null;}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(typeof this.isShowingNow=="undefined"){this._markActive();}this.focusChild(item);if(item.disabled){return false;}if(item.popup){this._openPopup();}else{this.onExecute();item.onClick(evt);}},_openPopup:function(){this._stopPopupTimer();var _545=this.focusedChild;if(!_545){return;}var _546=_545.popup;if(_546.isShowingNow){return;}if(this.currentPopup){this._stopPendingCloseTimer(this.currentPopup);dijit.popup.close(this.currentPopup);}_546.parentMenu=this;_546.from_item=_545;var self=this;dijit.popup.open({parent:this,popup:_546,around:_545.domNode,orient:this._orient||(this.isLeftToRight()?{"TR":"TL","TL":"TR","BR":"BL","BL":"BR"}:{"TL":"TR","TR":"TL","BL":"BR","BR":"BL"}),onCancel:function(){self.focusChild(_545);self._cleanUp();_545._setSelected(true);self.focusedChild=_545;},onExecute:dojo.hitch(this,"_cleanUp")});this.currentPopup=_546;_546.connect(_546.domNode,"onmouseenter",dojo.hitch(self,"_onPopupHover"));if(_546.focus){_546._focus_timer=setTimeout(dojo.hitch(_546,function(){this._focus_timer=null;this.focus();}),0);}},_markActive:function(){this.isActive=true;dojo.replaceClass(this.domNode,"dijitMenuActive","dijitMenuPassive");},onOpen:function(e){this.isShowingNow=true;this._markActive();},_markInactive:function(){this.isActive=false;dojo.replaceClass(this.domNode,"dijitMenuPassive","dijitMenuActive");},onClose:function(){this._stopFocusTimer();this._markInactive();this.isShowingNow=false;this.parentMenu=null;},_closeChild:function(){this._stopPopupTimer();var _547=this.focusedChild&&this.focusedChild.from_item;if(this.currentPopup){if(dijit._curFocus&&dojo.isDescendant(dijit._curFocus,this.currentPopup.domNode)){this.focusedChild.focusNode.focus();}dijit.popup.close(this.currentPopup);this.currentPopup=null;}if(this.focusedChild){this.focusedChild._setSelected(false);this.focusedChild._onUnhover();this.focusedChild=null;}},_onItemFocus:function(item){if(this._hoveredChild&&this._hoveredChild!=item){this._hoveredChild._onUnhover();}},_onBlur:function(){this._cleanUp();this.inherited(arguments);},_cleanUp:function(){this._closeChild();if(typeof this.isShowingNow=="undefined"){this._markInactive();}}});dojo.declare("dijit.Menu",dijit._MenuBase,{constructor:function(){this._bindings=[];},templateString:dojo.cache("dijit","templates/Menu.html","<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\" dojoAttachEvent=\"onkeypress:_onKeyPress\" cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" dojoAttachPoint=\"containerNode\"></tbody>\n</table>\n"),baseClass:"dijitMenu",targetNodeIds:[],contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(dojo.body());}else{dojo.forEach(this.targetNodeIds,this.bindDomNode,this);}var k=dojo.keys,l=this.isLeftToRight();this._openSubMenuKey=l?k.RIGHT_ARROW:k.LEFT_ARROW;this._closeSubMenuKey=l?k.LEFT_ARROW:k.RIGHT_ARROW;this.connectKeyNavHandlers([k.UP_ARROW],[k.DOWN_ARROW]);},_onKeyPress:function(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case this._openSubMenuKey:this._moveToPopup(evt);dojo.stopEvent(evt);break;case this._closeSubMenuKey:if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{dojo.stopEvent(evt);}break;}},_iframeContentWindow:function(_548){var win=dojo.window.get(this._iframeContentDocument(_548))||this._iframeContentDocument(_548)["__parent__"]||(_548.name&&dojo.doc.frames[_548.name])||null;return win;},_iframeContentDocument:function(_549){var doc=_549.contentDocument||(_549.contentWindow&&_549.contentWindow.document)||(_549.name&&dojo.doc.frames[_549.name]&&dojo.doc.frames[_549.name].document)||null;return doc;},bindDomNode:function(node){node=dojo.byId(node);var cn;if(node.tagName.toLowerCase()=="iframe"){var _54a=node,win=this._iframeContentWindow(_54a);cn=dojo.withGlobal(win,dojo.body);}else{cn=(node==dojo.body()?dojo.doc.documentElement:node);}var _54b={node:node,iframe:_54a};dojo.attr(node,"_dijitMenu"+this.id,this._bindings.push(_54b));var _54c=dojo.hitch(this,function(cn){return [dojo.connect(cn,this.leftClickToOpen?"onclick":"oncontextmenu",this,function(evt){dojo.stopEvent(evt);this._scheduleOpen(evt.target,_54a,{x:evt.pageX,y:evt.pageY});}),dojo.connect(cn,"onkeydown",this,function(evt){if(evt.shiftKey&&evt.keyCode==dojo.keys.F10){dojo.stopEvent(evt);this._scheduleOpen(evt.target,_54a);}})];});_54b.connects=cn?_54c(cn):[];if(_54a){_54b.onloadHandler=dojo.hitch(this,function(){var win=this._iframeContentWindow(_54a);cn=dojo.withGlobal(win,dojo.body);_54b.connects=_54c(cn);});if(_54a.addEventListener){_54a.addEventListener("load",_54b.onloadHandler,false);}else{_54a.attachEvent("onload",_54b.onloadHandler);}}},unBindDomNode:function(_54d){var node;try{node=dojo.byId(_54d);}catch(e){return;}var _54e="_dijitMenu"+this.id;if(node&&dojo.hasAttr(node,_54e)){var bid=dojo.attr(node,_54e)-1,b=this._bindings[bid];dojo.forEach(b.connects,dojo.disconnect);var _54f=b.iframe;if(_54f){if(_54f.removeEventListener){_54f.removeEventListener("load",b.onloadHandler,false);}else{_54f.detachEvent("onload",b.onloadHandler);}}dojo.removeAttr(node,_54e);delete this._bindings[bid];}},_scheduleOpen:function(_550,_551,_552){if(!this._openTimer){this._openTimer=setTimeout(dojo.hitch(this,function(){delete this._openTimer;this._openMyself({target:_550,iframe:_551,coords:_552});}),1);}},_openMyself:function(args){var _553=args.target,_554=args.iframe,_555=args.coords;if(_555){if(_554){var od=_553.ownerDocument,ifc=dojo.position(_554,true),win=this._iframeContentWindow(_554),_556=dojo.withGlobal(win,"_docScroll",dojo);var cs=dojo.getComputedStyle(_554),tp=dojo._toPixelValue,left=(dojo.isIE&&dojo.isQuirks?0:tp(_554,cs.paddingLeft))+(dojo.isIE&&dojo.isQuirks?tp(_554,cs.borderLeftWidth):0),top=(dojo.isIE&&dojo.isQuirks?0:tp(_554,cs.paddingTop))+(dojo.isIE&&dojo.isQuirks?tp(_554,cs.borderTopWidth):0);_555.x+=ifc.x+left-_556.x;_555.y+=ifc.y+top-_556.y;}}else{_555=dojo.position(_553,true);_555.x+=10;_555.y+=10;}var self=this;var _557=dijit.getFocus(this);function _558(){if(self.refocus){dijit.focus(_557);}dijit.popup.close(self);};dijit.popup.open({popup:this,x:_555.x,y:_555.y,onExecute:_558,onCancel:_558,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);dijit.popup.close(this);};},uninitialize:function(){dojo.forEach(this._bindings,function(b){if(b){this.unBindDomNode(b.node);}},this);this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form.Select"]){dojo._hasResource["dijit.form.Select"]=true;dojo.provide("dijit.form.Select");dojo.declare("dijit.form._SelectMenu",dijit.Menu,{buildRendering:function(){this.inherited(arguments);var o=(this.menuTableNode=this.domNode);var n=(this.domNode=dojo.create("div",{style:{overflowX:"hidden",overflowY:"scroll"}}));if(o.parentNode){o.parentNode.replaceChild(n,o);}dojo.removeClass(o,"dijitMenuTable");n.className=o.className+" dijitSelectMenu";o.className="dijitReset dijitMenuTable";dijit.setWaiRole(o,"listbox");dijit.setWaiRole(n,"presentation");n.appendChild(o);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onmousemove",dojo.stopEvent);},resize:function(mb){if(mb){dojo.marginBox(this.domNode,mb);if("w" in mb){this.menuTableNode.style.width="100%";}}}});dojo.declare("dijit.form.Select",[dijit.form._FormSelectWidget,dijit._HasDropDown],{baseClass:"dijitSelect",templateString:dojo.cache("dijit.form","templates/Select.html","<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tdojoAttachPoint=\"_buttonNode,tableNode,focusNode\" cellspacing='0' cellpadding='0'\n\trole=\"combobox\" aria-haspopup=\"true\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents dijitButtonNode\" role=\"presentation\"\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"  dojoAttachPoint=\"containerNode,_popupStateNode\"></span\n\t\t\t><input type=\"hidden\" ${!nameAttrSetting} dojoAttachPoint=\"valueNode\" value=\"${value}\" aria-hidden=\"true\"\n\t\t/></td><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\t\tdojoAttachPoint=\"titleNode\" role=\"presentation\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t></tr></tbody\n></table>\n"),attributeMap:dojo.mixin(dojo.clone(dijit.form._FormSelectWidget.prototype.attributeMap),{style:"tableNode"}),required:false,state:"",message:"",tooltipPosition:[],emptyLabel:"&nbsp;",_isLoaded:false,_childrenLoaded:false,_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var si=this.srcNodeRef.selectedIndex||0;this.value=this.options[si>=0?si:0].value;}this.dropDown=new dijit.form._SelectMenu({id:this.id+"_menu"});dojo.addClass(this.dropDown.domNode,this.baseClass+"Menu");},_getMenuItemForOption:function(_559){if(!_559.value&&!_559.label){return new dijit.MenuSeparator();}else{var _55a=dojo.hitch(this,"_setValueAttr",_559);var item=new dijit.MenuItem({option:_559,label:_559.label||this.emptyLabel,onClick:_55a,disabled:_559.disabled||false});dijit.setWaiRole(item.focusNode,"listitem");return item;}},_addOptionItem:function(_55b){if(this.dropDown){this.dropDown.addChild(this._getMenuItemForOption(_55b));}},_getChildren:function(){if(!this.dropDown){return [];}return this.dropDown.getChildren();},_loadChildren:function(_55c){if(_55c===true){if(this.dropDown){delete this.dropDown.focusedChild;}if(this.options.length){this.inherited(arguments);}else{dojo.forEach(this._getChildren(),function(_55d){_55d.destroyRecursive();});var item=new dijit.MenuItem({label:"&nbsp;"});this.dropDown.addChild(item);}}else{this._updateSelection();}this._isLoaded=false;this._childrenLoaded=true;if(!this._loadingStore){this._setValueAttr(this.value);}},_setValueAttr:function(_55e){this.inherited(arguments);dojo.attr(this.valueNode,"value",this.get("value"));},_setDisplay:function(_55f){var lbl=_55f||this.emptyLabel;this.containerNode.innerHTML="<span class=\"dijitReset dijitInline "+this.baseClass+"Label\">"+lbl+"</span>";dijit.setWaiState(this.focusNode,"valuetext",lbl);},validate:function(_560){var _561=this.isValid(_560);this._set("state",_561?"":"Error");dijit.setWaiState(this.focusNode,"invalid",_561?"false":"true");var _562=_561?"":this._missingMsg;if(this.message!==_562){this._set("message",_562);dijit.hideTooltip(this.domNode);if(_562){dijit.showTooltip(_562,this.domNode,this.tooltipPosition,!this.isLeftToRight());}}return _561;},isValid:function(_563){return (!this.required||this.value===0||!(/^\s*$/.test(this.value||"")));},reset:function(){this.inherited(arguments);dijit.hideTooltip(this.domNode);this._set("state","");this._set("message","");},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=dojo.i18n.getLocalization("dijit.form","validate",this.lang).missingMessage;},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onmousemove",dojo.stopEvent);},_setStyleAttr:function(_564){this.inherited(arguments);dojo.toggleClass(this.domNode,this.baseClass+"FixedWidth",!!this.tableNode.style.width);},isLoaded:function(){return this._isLoaded;},loadDropDown:function(_565){this._loadChildren(true);this._isLoaded=true;_565();},closeDropDown:function(){this.inherited(arguments);if(this.dropDown&&this.dropDown.menuTableNode){this.dropDown.menuTableNode.style.width="";}},uninitialize:function(_566){if(this.dropDown&&!this.dropDown._destroyed){this.dropDown.destroyRecursive(_566);delete this.dropDown;}this.inherited(arguments);}});}if(!dojo._hasResource["dijit._editor.plugins.LinkDialog"]){dojo._hasResource["dijit._editor.plugins.LinkDialog"]=true;dojo.provide("dijit._editor.plugins.LinkDialog");dojo.declare("dijit._editor.plugins.LinkDialog",dijit._editor._Plugin,{buttonClass:dijit.form.DropDownButton,useDefaultCommand:false,urlRegExp:"((https?|ftps?|file)\\://|./|/|)(/[a-zA-Z]{1,1}:/|)(((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)*(?:[a-zA-Z](?:[-\\da-zA-Z]{0,80}[\\da-zA-Z])?)\\.?)|(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])|(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]|(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]|(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])|0[xX]0*[\\da-fA-F]{1,8}|([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}|([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])))(\\:\\d+)?(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]{0,}(?:\\?[^?#\\s/]*)?(?:#.*)?)?)?",emailRegExp:"<?(mailto\\:)([!#-'*+\\-\\/-9=?A-Z^-~]+[.])*[!#-'*+\\-\\/-9=?A-Z^-~]+"+"@"+"((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)|localhost|^[^-][a-zA-Z0-9_-]*>?",htmlTemplate:"<a href=\"${urlInput}\" _djrealurl=\"${urlInput}\""+" target=\"${targetSelect}\""+">${textInput}</a>",tag:"a",_hostRxp:new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_userAtRxp:new RegExp("^([!#-'*+\\-\\/-9=?A-Z^-~]+[.])*[!#-'*+\\-\\/-9=?A-Z^-~]+@","i"),linkDialogTemplate:["<table><tr><td>","<label for='${id}_urlInput'>${url}</label>","</td><td>","<input dojoType='dijit.form.ValidationTextBox' required='true' "+"id='${id}_urlInput' name='urlInput' intermediateChanges='true'/>","</td></tr><tr><td>","<label for='${id}_textInput'>${text}</label>","</td><td>","<input dojoType='dijit.form.ValidationTextBox' required='true' id='${id}_textInput' "+"name='textInput' intermediateChanges='true'/>","</td></tr><tr><td>","<label for='${id}_targetSelect'>${target}</label>","</td><td>","<select id='${id}_targetSelect' name='targetSelect' dojoType='dijit.form.Select'>","<option selected='selected' value='_self'>${currentWindow}</option>","<option value='_blank'>${newWindow}</option>","<option value='_top'>${topWindow}</option>","<option value='_parent'>${parentWindow}</option>","</select>","</td></tr><tr><td colspan='2'>","<button dojoType='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>","<button dojoType='dijit.form.Button' type='button' id='${id}_cancelButton'>${buttonCancel}</button>","</td></tr></table>"].join(""),_initButton:function(){var _567=this;this.tag=this.command=="insertImage"?"img":"a";var _568=dojo.mixin(dojo.i18n.getLocalization("dijit","common",this.lang),dojo.i18n.getLocalization("dijit._editor","LinkDialog",this.lang));var _569=(this.dropDown=new dijit.TooltipDialog({title:_568[this.command+"Title"],execute:dojo.hitch(this,"setValue"),onOpen:function(){_567._onOpenDialog();dijit.TooltipDialog.prototype.onOpen.apply(this,arguments);},onCancel:function(){setTimeout(dojo.hitch(_567,"_onCloseDialog"),0);}}));_568.urlRegExp=this.urlRegExp;_568.id=dijit.getUniqueId(this.editor.id);this._uniqueId=_568.id;this._setContent(_569.title+"<div style='border-bottom: 1px black solid;padding-bottom:2pt;margin-bottom:4pt'></div>"+dojo.string.substitute(this.linkDialogTemplate,_568));_569.startup();this._urlInput=dijit.byId(this._uniqueId+"_urlInput");this._textInput=dijit.byId(this._uniqueId+"_textInput");this._setButton=dijit.byId(this._uniqueId+"_setButton");this.connect(dijit.byId(this._uniqueId+"_cancelButton"),"onClick",function(){this.dropDown.onCancel();});if(this._urlInput){this.connect(this._urlInput,"onChange","_checkAndFixInput");}if(this._textInput){this.connect(this._textInput,"onChange","_checkAndFixInput");}this._urlRegExp=new RegExp("^"+this.urlRegExp+"$","i");this._emailRegExp=new RegExp("^"+this.emailRegExp+"$","i");this._urlInput.isValid=dojo.hitch(this,function(){var _56a=this._urlInput.get("value");return this._urlRegExp.test(_56a)||this._emailRegExp.test(_56a);});this._connectTagEvents();this.inherited(arguments);},_checkAndFixInput:function(){var self=this;var url=this._urlInput.get("value");var _56b=function(url){var _56c=false;var _56d=false;if(url&&url.length>1){url=dojo.trim(url);if(url.indexOf("mailto:")!==0){if(url.indexOf("/")>0){if(url.indexOf("://")===-1){if(url.charAt(0)!=="/"&&url.indexOf("./")!==0){if(self._hostRxp.test(url)){_56c=true;}}}}else{if(self._userAtRxp.test(url)){_56d=true;}}}}if(_56c){self._urlInput.set("value","http://"+url);}if(_56d){self._urlInput.set("value","mailto:"+url);}self._setButton.set("disabled",!self._isValid());};if(this._delayedCheck){clearTimeout(this._delayedCheck);this._delayedCheck=null;}this._delayedCheck=setTimeout(function(){_56b(url);},250);},_connectTagEvents:function(){this.editor.onLoadDeferred.addCallback(dojo.hitch(this,function(){this.connect(this.editor.editNode,"ondblclick",this._onDblClick);}));},_isValid:function(){return this._urlInput.isValid()&&this._textInput.isValid();},_setContent:function(_56e){this.dropDown.set({parserScope:"dojo",content:_56e});},_checkValues:function(args){if(args&&args.urlInput){args.urlInput=args.urlInput.replace(/"/g,"&quot;");}return args;},setValue:function(args){this._onCloseDialog();if(dojo.isIE<9){var sel=dijit.range.getSelection(this.editor.window);var _56f=sel.getRangeAt(0);var a=_56f.endContainer;if(a.nodeType===3){a=a.parentNode;}if(a&&(a.nodeName&&a.nodeName.toLowerCase()!==this.tag)){a=dojo.withGlobal(this.editor.window,"getSelectedElement",dijit._editor.selection,[this.tag]);}if(a&&(a.nodeName&&a.nodeName.toLowerCase()===this.tag)){if(this.editor.queryCommandEnabled("unlink")){dojo.withGlobal(this.editor.window,"selectElementChildren",dijit._editor.selection,[a]);this.editor.execCommand("unlink");}}}args=this._checkValues(args);this.editor.execCommand("inserthtml",dojo.string.substitute(this.htmlTemplate,args));},_onCloseDialog:function(){this.editor.focus();},_getCurrentValues:function(a){var url,text,_570;if(a&&a.tagName.toLowerCase()===this.tag){url=a.getAttribute("_djrealurl")||a.getAttribute("href");_570=a.getAttribute("target")||"_self";text=a.textContent||a.innerText;dojo.withGlobal(this.editor.window,"selectElement",dijit._editor.selection,[a,true]);}else{text=dojo.withGlobal(this.editor.window,dijit._editor.selection.getSelectedText);}return {urlInput:url||"",textInput:text||"",targetSelect:_570||""};},_onOpenDialog:function(){var a;if(dojo.isIE<9){var sel=dijit.range.getSelection(this.editor.window);var _571=sel.getRangeAt(0);a=_571.endContainer;if(a.nodeType===3){a=a.parentNode;}if(a&&(a.nodeName&&a.nodeName.toLowerCase()!==this.tag)){a=dojo.withGlobal(this.editor.window,"getSelectedElement",dijit._editor.selection,[this.tag]);}}else{a=dojo.withGlobal(this.editor.window,"getAncestorElement",dijit._editor.selection,[this.tag]);}this.dropDown.reset();this._setButton.set("disabled",true);this.dropDown.set("value",this._getCurrentValues(a));},_onDblClick:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag&&dojo.attr(t,"href")){dojo.withGlobal(this.editor.window,"selectElement",dijit._editor.selection,[t]);this.editor.onDisplayChanged();setTimeout(dojo.hitch(this,function(){this.button.set("disabled",false);this.button.openDropDown();}),10);}}}});dojo.declare("dijit._editor.plugins.ImgLinkDialog",[dijit._editor.plugins.LinkDialog],{linkDialogTemplate:["<table><tr><td>","<label for='${id}_urlInput'>${url}</label>","</td><td>","<input dojoType='dijit.form.ValidationTextBox' regExp='${urlRegExp}' "+"required='true' id='${id}_urlInput' name='urlInput' intermediateChanges='true'/>","</td></tr><tr><td>","<label for='${id}_textInput'>${text}</label>","</td><td>","<input dojoType='dijit.form.ValidationTextBox' required='false' id='${id}_textInput' "+"name='textInput' intermediateChanges='true'/>","</td></tr><tr><td>","</td><td>","</td></tr><tr><td colspan='2'>","<button dojoType='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>","<button dojoType='dijit.form.Button' type='button' id='${id}_cancelButton'>${buttonCancel}</button>","</td></tr></table>"].join(""),htmlTemplate:"<img src=\"${urlInput}\" _djrealurl=\"${urlInput}\" alt=\"${textInput}\" />",tag:"img",_getCurrentValues:function(img){var url,text;if(img&&img.tagName.toLowerCase()===this.tag){url=img.getAttribute("_djrealurl")||img.getAttribute("src");text=img.getAttribute("alt");dojo.withGlobal(this.editor.window,"selectElement",dijit._editor.selection,[img,true]);}else{text=dojo.withGlobal(this.editor.window,dijit._editor.selection.getSelectedText);}return {urlInput:url||"",textInput:text||""};},_isValid:function(){return this._urlInput.isValid();},_connectTagEvents:function(){this.inherited(arguments);this.editor.onLoadDeferred.addCallback(dojo.hitch(this,function(){this.connect(this.editor.editNode,"onmousedown",this._selectTag);}));},_selectTag:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag){dojo.withGlobal(this.editor.window,"selectElement",dijit._editor.selection,[t]);}}},_checkValues:function(args){if(args&&args.urlInput){args.urlInput=args.urlInput.replace(/"/g,"&quot;");}if(args&&args.textInput){args.textInput=args.textInput.replace(/"/g,"&quot;");}return args;},_onDblClick:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag&&dojo.attr(t,"src")){dojo.withGlobal(this.editor.window,"selectElement",dijit._editor.selection,[t]);this.editor.onDisplayChanged();setTimeout(dojo.hitch(this,function(){this.button.set("disabled",false);this.button.openDropDown();}),10);}}}});dojo.subscribe(dijit._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}switch(o.args.name){case "createLink":o.plugin=new dijit._editor.plugins.LinkDialog({command:o.args.name});break;case "insertImage":o.plugin=new dijit._editor.plugins.ImgLinkDialog({command:o.args.name});break;}});}if(!dojo._hasResource["dijit.MenuBar"]){dojo._hasResource["dijit.MenuBar"]=true;dojo.provide("dijit.MenuBar");dojo.declare("dijit.MenuBar",dijit._MenuBase,{templateString:dojo.cache("dijit","templates/MenuBar.html","<div class=\"dijitMenuBar dijitMenuPassive\" dojoAttachPoint=\"containerNode\"  role=\"menubar\" tabIndex=\"${tabIndex}\" dojoAttachEvent=\"onkeypress: _onKeyPress\"></div>\n"),baseClass:"dijitMenuBar",_isMenuBar:true,postCreate:function(){var k=dojo.keys,l=this.isLeftToRight();this.connectKeyNavHandlers(l?[k.LEFT_ARROW]:[k.RIGHT_ARROW],l?[k.RIGHT_ARROW]:[k.LEFT_ARROW]);this._orient=this.isLeftToRight()?{BL:"TL"}:{BR:"TR"};},focusChild:function(item){var _572=this.focusedChild,_573=_572&&_572.popup&&_572.popup.isShowingNow;this.inherited(arguments);if(_573&&item.popup&&!item.disabled){this._openPopup();}},_onKeyPress:function(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case dojo.keys.DOWN_ARROW:this._moveToPopup(evt);dojo.stopEvent(evt);}},onItemClick:function(item,evt){if(item.popup&&item.popup.isShowingNow){item.popup.onCancel();}else{this.inherited(arguments);}}});}if(!dojo._hasResource["dijit.MenuBarItem"]){dojo._hasResource["dijit.MenuBarItem"]=true;dojo.provide("dijit.MenuBarItem");dojo.declare("dijit._MenuBarItemMixin",null,{templateString:dojo.cache("dijit","templates/MenuBarItem.html","<div class=\"dijitReset dijitInline dijitMenuItem dijitMenuItemLabel\" dojoAttachPoint=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<span dojoAttachPoint=\"containerNode\"></span>\n</div>\n"),attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{label:{node:"containerNode",type:"innerHTML"}})});dojo.declare("dijit.MenuBarItem",[dijit.MenuItem,dijit._MenuBarItemMixin],{});}if(!dojo._hasResource["dijit.PopupMenuBarItem"]){dojo._hasResource["dijit.PopupMenuBarItem"]=true;dojo.provide("dijit.PopupMenuBarItem");dojo.declare("dijit.PopupMenuBarItem",[dijit.PopupMenuItem,dijit._MenuBarItemMixin],{});}if(!dojo._hasResource["dojo.number"]){dojo._hasResource["dojo.number"]=true;dojo.provide("dojo.number");dojo.getObject("number",true,dojo);dojo.number.format=function(_574,_575){_575=dojo.mixin({},_575||{});var _576=dojo.i18n.normalizeLocale(_575.locale),_577=dojo.i18n.getLocalization("dojo.cldr","number",_576);_575.customs=_577;var _578=_575.pattern||_577[(_575.type||"decimal")+"Format"];if(isNaN(_574)||Math.abs(_574)==Infinity){return null;}return dojo.number._applyPattern(_574,_578,_575);};dojo.number._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;dojo.number._applyPattern=function(_579,_57a,_57b){_57b=_57b||{};var _57c=_57b.customs.group,_57d=_57b.customs.decimal,_57e=_57a.split(";"),_57f=_57e[0];_57a=_57e[(_579<0)?1:0]||("-"+_57f);if(_57a.indexOf("%")!=-1){_579*=100;}else{if(_57a.indexOf("")!=-1){_579*=1000;}else{if(_57a.indexOf("")!=-1){_57c=_57b.customs.currencyGroup||_57c;_57d=_57b.customs.currencyDecimal||_57d;_57a=_57a.replace(/\u00a4{1,3}/,function(_580){var prop=["symbol","currency","displayName"][_580.length-1];return _57b[prop]||_57b.currency||"";});}else{if(_57a.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _581=dojo.number._numberPatternRE;var _582=_57f.match(_581);if(!_582){throw new Error("unable to find a number expression in pattern: "+_57a);}if(_57b.fractional===false){_57b.places=0;}return _57a.replace(_581,dojo.number._formatAbsolute(_579,_582[0],{decimal:_57d,group:_57c,places:_57b.places,round:_57b.round}));};dojo.number.round=function(_583,_584,_585){var _586=10/(_585||10);return (_586*+_583).toFixed(_584)/_586;};if((0.9).toFixed()==0){(function(){var _587=dojo.number.round;dojo.number.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d||a*Math.pow(10,p+1)<5){d=0;}return _587(v,p,m)+(v>0?d:-d);};})();}dojo.number._formatAbsolute=function(_588,_589,_58a){_58a=_58a||{};if(_58a.places===true){_58a.places=0;}if(_58a.places===Infinity){_58a.places=6;}var _58b=_589.split("."),_58c=typeof _58a.places=="string"&&_58a.places.indexOf(","),_58d=_58a.places;if(_58c){_58d=_58a.places.substring(_58c+1);}else{if(!(_58d>=0)){_58d=(_58b[1]||[]).length;}}if(!(_58a.round<0)){_588=dojo.number.round(_588,_58d,_58a.round);}var _58e=String(Math.abs(_588)).split("."),_58f=_58e[1]||"";if(_58b[1]||_58a.places){if(_58c){_58a.places=_58a.places.substring(0,_58c);}var pad=_58a.places!==undefined?_58a.places:(_58b[1]&&_58b[1].lastIndexOf("0")+1);if(pad>_58f.length){_58e[1]=dojo.string.pad(_58f,pad,"0",true);}if(_58d<_58f.length){_58e[1]=_58f.substr(0,_58d);}}else{if(_58e[1]){_58e.pop();}}var _590=_58b[0].replace(",","");pad=_590.indexOf("0");if(pad!=-1){pad=_590.length-pad;if(pad>_58e[0].length){_58e[0]=dojo.string.pad(_58e[0],pad);}if(_590.indexOf("#")==-1){_58e[0]=_58e[0].substr(_58e[0].length-pad);}}var _591=_58b[0].lastIndexOf(","),_592,_593;if(_591!=-1){_592=_58b[0].length-_591-1;var _594=_58b[0].substr(0,_591);_591=_594.lastIndexOf(",");if(_591!=-1){_593=_594.length-_591-1;}}var _595=[];for(var _596=_58e[0];_596;){var off=_596.length-_592;_595.push((off>0)?_596.substr(off):_596);_596=(off>0)?_596.slice(0,off):"";if(_593){_592=_593;delete _593;}}_58e[0]=_595.reverse().join(_58a.group||",");return _58e.join(_58a.decimal||".");};dojo.number.regexp=function(_597){return dojo.number._parseInfo(_597).regexp;};dojo.number._parseInfo=function(_598){_598=_598||{};var _599=dojo.i18n.normalizeLocale(_598.locale),_59a=dojo.i18n.getLocalization("dojo.cldr","number",_599),_59b=_598.pattern||_59a[(_598.type||"decimal")+"Format"],_59c=_59a.group,_59d=_59a.decimal,_59e=1;if(_59b.indexOf("%")!=-1){_59e/=100;}else{if(_59b.indexOf("")!=-1){_59e/=1000;}else{var _59f=_59b.indexOf("")!=-1;if(_59f){_59c=_59a.currencyGroup||_59c;_59d=_59a.currencyDecimal||_59d;}}}var _5a0=_59b.split(";");if(_5a0.length==1){_5a0.push("-"+_5a0[0]);}var re=dojo.regexp.buildGroupRE(_5a0,function(_5a1){_5a1="(?:"+dojo.regexp.escapeString(_5a1,".")+")";return _5a1.replace(dojo.number._numberPatternRE,function(_5a2){var _5a3={signed:false,separator:_598.strict?_59c:[_59c,""],fractional:_598.fractional,decimal:_59d,exponent:false},_5a4=_5a2.split("."),_5a5=_598.places;if(_5a4.length==1&&_59e!=1){_5a4[1]="###";}if(_5a4.length==1||_5a5===0){_5a3.fractional=false;}else{if(_5a5===undefined){_5a5=_598.pattern?_5a4[1].lastIndexOf("0")+1:Infinity;}if(_5a5&&_598.fractional==undefined){_5a3.fractional=true;}if(!_598.places&&(_5a5<_5a4[1].length)){_5a5+=","+_5a4[1].length;}_5a3.places=_5a5;}var _5a6=_5a4[0].split(",");if(_5a6.length>1){_5a3.groupSize=_5a6.pop().length;if(_5a6.length>1){_5a3.groupSize2=_5a6.pop().length;}}return "("+dojo.number._realNumberRegexp(_5a3)+")";});},true);if(_59f){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_5a7,_5a8,_5a9,_5aa){var prop=["symbol","currency","displayName"][_5a9.length-1],_5ab=dojo.regexp.escapeString(_598[prop]||_598.currency||"");_5a8=_5a8?"[\\s\\xa0]":"";_5aa=_5aa?"[\\s\\xa0]":"";if(!_598.strict){if(_5a8){_5a8+="*";}if(_5aa){_5aa+="*";}return "(?:"+_5a8+_5ab+_5aa+")?";}return _5a8+_5ab+_5aa;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_59c,decimal:_59d,factor:_59e};};dojo.number.parse=function(_5ac,_5ad){var info=dojo.number._parseInfo(_5ad),_5ae=(new RegExp("^"+info.regexp+"$")).exec(_5ac);if(!_5ae){return NaN;}var _5af=_5ae[1];if(!_5ae[1]){if(!_5ae[2]){return NaN;}_5af=_5ae[2];info.factor*=-1;}_5af=_5af.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _5af*info.factor;};dojo.number._realNumberRegexp=function(_5b0){_5b0=_5b0||{};if(!("places" in _5b0)){_5b0.places=Infinity;}if(typeof _5b0.decimal!="string"){_5b0.decimal=".";}if(!("fractional" in _5b0)||/^0/.test(_5b0.places)){_5b0.fractional=[true,false];}if(!("exponent" in _5b0)){_5b0.exponent=[true,false];}if(!("eSigned" in _5b0)){_5b0.eSigned=[true,false];}var _5b1=dojo.number._integerRegexp(_5b0),_5b2=dojo.regexp.buildGroupRE(_5b0.fractional,function(q){var re="";if(q&&(_5b0.places!==0)){re="\\"+_5b0.decimal;if(_5b0.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_5b0.places+"}";}}return re;},true);var _5b3=dojo.regexp.buildGroupRE(_5b0.exponent,function(q){if(q){return "([eE]"+dojo.number._integerRegexp({signed:_5b0.eSigned})+")";}return "";});var _5b4=_5b1+_5b2;if(_5b2){_5b4="(?:(?:"+_5b4+")|(?:"+_5b2+"))";}return _5b4+_5b3;};dojo.number._integerRegexp=function(_5b5){_5b5=_5b5||{};if(!("signed" in _5b5)){_5b5.signed=[true,false];}if(!("separator" in _5b5)){_5b5.separator="";}else{if(!("groupSize" in _5b5)){_5b5.groupSize=3;}}var _5b6=dojo.regexp.buildGroupRE(_5b5.signed,function(q){return q?"[-+]":"";},true);var _5b7=dojo.regexp.buildGroupRE(_5b5.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=dojo.regexp.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==""){sep="\\s\\xa0";}}var grp=_5b5.groupSize,grp2=_5b5.groupSize2;if(grp2){var _5b8="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_5b8+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_5b8;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _5b6+_5b7;};}if(!dojo._hasResource["dijit.ProgressBar"]){dojo._hasResource["dijit.ProgressBar"]=true;dojo.provide("dijit.ProgressBar");dojo.declare("dijit.ProgressBar",[dijit._Widget,dijit._Templated],{progress:"0",value:"",maximum:100,places:0,indeterminate:false,label:"",name:"",templateString:dojo.cache("dijit","templates/ProgressBar.html","<div class=\"dijitProgressBar dijitProgressBarEmpty\" role=\"progressbar\"\n\t><div  dojoAttachPoint=\"internalProgress\" class=\"dijitProgressBarFull\"\n\t\t><div class=\"dijitProgressBarTile\" role=\"presentation\"></div\n\t\t><span style=\"visibility:hidden\">&nbsp;</span\n\t></div\n\t><div dojoAttachPoint=\"labelNode\" class=\"dijitProgressBarLabel\" id=\"${id}_label\"></div\n\t><img dojoAttachPoint=\"indeterminateHighContrastImage\" class=\"dijitProgressBarIndeterminateHighContrastImage\" alt=\"\"\n/></div>\n"),_indeterminateHighContrastImagePath:dojo.moduleUrl("dijit","themes/a11y/indeterminate_progress.gif"),postMixInProperties:function(){this.inherited(arguments);if(!("value" in this.params)){this.value=this.indeterminate?Infinity:this.progress;}},buildRendering:function(){this.inherited(arguments);this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath.toString());this.update();},update:function(_5b9){dojo.mixin(this,_5b9||{});var tip=this.internalProgress,ap=this.domNode;var _5ba=1;if(this.indeterminate){dijit.removeWaiState(ap,"valuenow");dijit.removeWaiState(ap,"valuemin");dijit.removeWaiState(ap,"valuemax");}else{if(String(this.progress).indexOf("%")!=-1){_5ba=Math.min(parseFloat(this.progress)/100,1);this.progress=_5ba*this.maximum;}else{this.progress=Math.min(this.progress,this.maximum);_5ba=this.progress/this.maximum;}dijit.setWaiState(ap,"describedby",this.labelNode.id);dijit.setWaiState(ap,"valuenow",this.progress);dijit.setWaiState(ap,"valuemin",0);dijit.setWaiState(ap,"valuemax",this.maximum);}this.labelNode.innerHTML=this.report(_5ba);dojo.toggleClass(this.domNode,"dijitProgressBarIndeterminate",this.indeterminate);tip.style.width=(_5ba*100)+"%";this.onChange();},_setValueAttr:function(v){this._set("value",v);if(v==Infinity){this.update({indeterminate:true});}else{this.update({indeterminate:false,progress:v});}},_setLabelAttr:function(_5bb){this._set("label",_5bb);this.update();},_setIndeterminateAttr:function(_5bc){this.indeterminate=_5bc;this.update();},report:function(_5bd){return this.label?this.label:(this.indeterminate?"&nbsp;":dojo.number.format(_5bd,{type:"percent",places:this.places,locale:this.lang}));},onChange:function(){}});}if(!dojo._hasResource["dijit.TitlePane"]){dojo._hasResource["dijit.TitlePane"]=true;dojo.provide("dijit.TitlePane");dojo.declare("dijit.TitlePane",[dijit.layout.ContentPane,dijit._Templated,dijit._CssStateMixin],{title:"",open:true,toggleable:true,tabIndex:"0",duration:dijit.defaultDuration,baseClass:"dijitTitlePane",templateString:dojo.cache("dijit","templates/TitlePane.html","<div>\n\t<div dojoAttachEvent=\"onclick:_onTitleClick, onkeypress:_onTitleKey\"\n\t\t\tclass=\"pentaho-titled-toolbar section-header-inner pentaho-padding-sm\" dojoAttachPoint=\"titleBarNode\">\n\t\t<div class=\"dijitTitlePaneTitleFocus\" dojoAttachPoint=\"focusNode\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint=\"arrowNode\" class=\"dijitArrowNode\" role=\"presentation\"\n\t\t\t/><span dojoAttachPoint=\"arrowNodeInner\" class=\"dijitArrowNodeInner\"></span\n\t\t\t><span dojoAttachPoint=\"titleNode\" class=\"dijitTitlePaneTextNode\"></span>\n\t\t</div>\n\t</div>\n\t<div class=\"dijitTitlePaneContentOuter\" dojoAttachPoint=\"hideNode\" role=\"presentation\">\n\t\t<div class=\"dijitReset\" dojoAttachPoint=\"wipeNode\" role=\"presentation\">\n\t\t\t<div class=\"dijitTitlePaneContentInner\" dojoAttachPoint=\"containerNode\" role=\"region\" id=\"${id}_pane\">\n\t\t\t\t<!-- nested divs because wipeIn()/wipeOut() doesn't work right on node w/padding etc.  Put padding on inner div. -->\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n"),attributeMap:dojo.delegate(dijit.layout.ContentPane.prototype.attributeMap,{title:{node:"titleNode",type:"innerHTML"},tooltip:{node:"focusNode",type:"attribute",attribute:"title"},id:""}),buildRendering:function(){this.inherited(arguments);dojo.setSelectable(this.titleNode,false);},postCreate:function(){this.inherited(arguments);if(this.toggleable){this._trackMouseState(this.titleBarNode,"dijitTitlePaneTitle");}var _5be=this.hideNode,_5bf=this.wipeNode;this._wipeIn=dojo.fx.wipeIn({node:this.wipeNode,duration:this.duration,beforeBegin:function(){_5be.style.display="";}});this._wipeOut=dojo.fx.wipeOut({node:this.wipeNode,duration:this.duration,onEnd:function(){_5be.style.display="none";}});},_setOpenAttr:function(open,_5c0){dojo.forEach([this._wipeIn,this._wipeOut],function(_5c1){if(_5c1&&_5c1.status()=="playing"){_5c1.stop();}});if(_5c0){var anim=this[open?"_wipeIn":"_wipeOut"];anim.play();}else{this.hideNode.style.display=this.wipeNode.style.display=open?"":"none";}if(this._started){if(open){this._onShow();}else{this.onHide();}}this.arrowNodeInner.innerHTML=open?"-":"+";dijit.setWaiState(this.containerNode,"hidden",open?"false":"true");dijit.setWaiState(this.focusNode,"pressed",open?"true":"false");this._set("open",open);this._setCss();},_setToggleableAttr:function(_5c2){dijit.setWaiRole(this.focusNode,_5c2?"button":"heading");if(_5c2){dijit.setWaiState(this.focusNode,"controls",this.id+"_pane");dojo.attr(this.focusNode,"tabIndex",this.tabIndex);}else{dojo.removeAttr(this.focusNode,"tabIndex");}this._set("toggleable",_5c2);this._setCss();},_setContentAttr:function(_5c3){if(!this.open||!this._wipeOut||this._wipeOut.status()=="playing"){this.inherited(arguments);}else{if(this._wipeIn&&this._wipeIn.status()=="playing"){this._wipeIn.stop();}dojo.marginBox(this.wipeNode,{h:dojo.marginBox(this.wipeNode).h});this.inherited(arguments);if(this._wipeIn){this._wipeIn.play();}else{this.hideNode.style.display="";}}},toggle:function(){this._setOpenAttr(!this.open,true);},_setCss:function(){var node=this.titleBarNode||this.focusNode;var _5c4=this._titleBarClass;this._titleBarClass="dijit"+(this.toggleable?"":"Fixed")+(this.open?"Open":"Closed");dojo.replaceClass(node,this._titleBarClass,_5c4||"");this.arrowNodeInner.innerHTML=this.open?"-":"+";},_onTitleKey:function(e){if(e.charOrCode==dojo.keys.ENTER||e.charOrCode==" "){if(this.toggleable){this.toggle();}dojo.stopEvent(e);}else{if(e.charOrCode==dojo.keys.DOWN_ARROW&&this.open){this.containerNode.focus();e.preventDefault();}}},_onTitleClick:function(){if(this.toggleable){this.toggle();}},setTitle:function(_5c5){dojo.deprecated("dijit.TitlePane.setTitle() is deprecated.  Use set('title', ...) instead.","","2.0");this.set("title",_5c5);}});}if(!dojo._hasResource["dojo.DeferredList"]){dojo._hasResource["dojo.DeferredList"]=true;dojo.provide("dojo.DeferredList");dojo.DeferredList=function(list,_5c6,_5c7,_5c8,_5c9){var _5ca=[];dojo.Deferred.call(this);var self=this;if(list.length===0&&!_5c6){this.resolve([0,[]]);}var _5cb=0;dojo.forEach(list,function(item,i){item.then(function(_5cc){if(_5c6){self.resolve([i,_5cc]);}else{_5cd(true,_5cc);}},function(_5ce){if(_5c7){self.reject(_5ce);}else{_5cd(false,_5ce);}if(_5c8){return null;}throw _5ce;});function _5cd(_5cf,_5d0){_5ca[i]=[_5cf,_5d0];_5cb++;if(_5cb===list.length){self.resolve(_5ca);}};});};dojo.DeferredList.prototype=new dojo.Deferred();dojo.DeferredList.prototype.gatherResults=function(_5d1){var d=new dojo.DeferredList(_5d1,false,true,false);d.addCallback(function(_5d2){var ret=[];dojo.forEach(_5d2,function(_5d3){ret.push(_5d3[1]);});return ret;});return d;};}if(!dojo._hasResource["dojo.cookie"]){dojo._hasResource["dojo.cookie"]=true;dojo.provide("dojo.cookie");dojo.cookie=function(name,_5d4,_5d5){var c=document.cookie;if(arguments.length==1){var _5d6=c.match(new RegExp("(?:^|; )"+dojo.regexp.escapeString(name)+"=([^;]*)"));return _5d6?decodeURIComponent(_5d6[1]):undefined;}else{_5d5=_5d5||{};var exp=_5d5.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_5d5.expires=d;}if(exp&&exp.toUTCString){_5d5.expires=exp.toUTCString();}_5d4=encodeURIComponent(_5d4);var _5d7=name+"="+_5d4,_5d8;for(_5d8 in _5d5){_5d7+="; "+_5d8;var _5d9=_5d5[_5d8];if(_5d9!==true){_5d7+="="+_5d9;}}document.cookie=_5d7;}};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};}if(!dojo._hasResource["dijit.tree.TreeStoreModel"]){dojo._hasResource["dijit.tree.TreeStoreModel"]=true;dojo.provide("dijit.tree.TreeStoreModel");dojo.declare("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:false,constructor:function(args){dojo.mixin(this,args);this.connects=[];var _5da=this.store;if(!_5da.getFeatures()["dojo.data.api.Identity"]){throw new Error("dijit.Tree: store must support dojo.data.Identity");}if(_5da.getFeatures()["dojo.data.api.Notification"]){this.connects=this.connects.concat([dojo.connect(_5da,"onNew",this,"onNewItem"),dojo.connect(_5da,"onDelete",this,"onDeleteItem"),dojo.connect(_5da,"onSet",this,"onSetItem")]);}},destroy:function(){dojo.forEach(this.connects,dojo.disconnect);},getRoot:function(_5db,_5dc){if(this.root){_5db(this.root);}else{this.store.fetch({query:this.query,onComplete:dojo.hitch(this,function(_5dd){if(_5dd.length!=1){throw new Error(this.declaredClass+": query "+dojo.toJson(this.query)+" returned "+_5dd.length+" items, but must return exactly one item");}this.root=_5dd[0];_5db(this.root);}),onError:_5dc});}},mayHaveChildren:function(item){return dojo.some(this.childrenAttrs,function(attr){return this.store.hasAttribute(item,attr);},this);},getChildren:function(_5de,_5df,_5e0){var _5e1=this.store;if(!_5e1.isItemLoaded(_5de)){var _5e2=dojo.hitch(this,arguments.callee);_5e1.loadItem({item:_5de,onItem:function(_5e3){_5e2(_5e3,_5df,_5e0);},onError:_5e0});return;}var _5e4=[];for(var i=0;i<this.childrenAttrs.length;i++){var vals=_5e1.getValues(_5de,this.childrenAttrs[i]);_5e4=_5e4.concat(vals);}var _5e5=0;if(!this.deferItemLoadingUntilExpand){dojo.forEach(_5e4,function(item){if(!_5e1.isItemLoaded(item)){_5e5++;}});}if(_5e5==0){_5df(_5e4);}else{dojo.forEach(_5e4,function(item,idx){if(!_5e1.isItemLoaded(item)){_5e1.loadItem({item:item,onItem:function(item){_5e4[idx]=item;if(--_5e5==0){_5df(_5e4);}},onError:_5e0});}});}},isItem:function(_5e6){return this.store.isItem(_5e6);},fetchItemByIdentity:function(_5e7){this.store.fetchItemByIdentity(_5e7);},getIdentity:function(item){return this.store.getIdentity(item);},getLabel:function(item){if(this.labelAttr){return this.store.getValue(item,this.labelAttr);}else{return this.store.getLabel(item);}},newItem:function(args,_5e8,_5e9){var _5ea={parent:_5e8,attribute:this.childrenAttrs[0]},_5eb;if(this.newItemIdAttr&&args[this.newItemIdAttr]){this.fetchItemByIdentity({identity:args[this.newItemIdAttr],scope:this,onItem:function(item){if(item){this.pasteItem(item,null,_5e8,true,_5e9);}else{_5eb=this.store.newItem(args,_5ea);if(_5eb&&(_5e9!=undefined)){this.pasteItem(_5eb,_5e8,_5e8,false,_5e9);}}}});}else{_5eb=this.store.newItem(args,_5ea);if(_5eb&&(_5e9!=undefined)){this.pasteItem(_5eb,_5e8,_5e8,false,_5e9);}}},pasteItem:function(_5ec,_5ed,_5ee,_5ef,_5f0){var _5f1=this.store,_5f2=this.childrenAttrs[0];if(_5ed){dojo.forEach(this.childrenAttrs,function(attr){if(_5f1.containsValue(_5ed,attr,_5ec)){if(!_5ef){var _5f3=dojo.filter(_5f1.getValues(_5ed,attr),function(x){return x!=_5ec;});_5f1.setValues(_5ed,attr,_5f3);}_5f2=attr;}});}if(_5ee){if(typeof _5f0=="number"){var _5f4=_5f1.getValues(_5ee,_5f2).slice();_5f4.splice(_5f0,0,_5ec);_5f1.setValues(_5ee,_5f2,_5f4);}else{_5f1.setValues(_5ee,_5f2,_5f1.getValues(_5ee,_5f2).concat(_5ec));}}},onChange:function(item){},onChildrenChange:function(_5f5,_5f6){},onDelete:function(_5f7,_5f8){},onNewItem:function(item,_5f9){if(!_5f9){return;}this.getChildren(_5f9.item,dojo.hitch(this,function(_5fa){this.onChildrenChange(_5f9.item,_5fa);}));},onDeleteItem:function(item){this.onDelete(item);},onSetItem:function(item,_5fb,_5fc,_5fd){if(dojo.indexOf(this.childrenAttrs,_5fb)!=-1){this.getChildren(item,dojo.hitch(this,function(_5fe){this.onChildrenChange(item,_5fe);}));}else{this.onChange(item);}}});}if(!dojo._hasResource["dijit.tree.ForestStoreModel"]){dojo._hasResource["dijit.tree.ForestStoreModel"]=true;dojo.provide("dijit.tree.ForestStoreModel");dojo.declare("dijit.tree.ForestStoreModel",dijit.tree.TreeStoreModel,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_5ff){this.root={store:this,root:true,id:_5ff.rootId,label:_5ff.rootLabel,children:_5ff.rootChildren};},mayHaveChildren:function(item){return item===this.root||this.inherited(arguments);},getChildren:function(_600,_601,_602){if(_600===this.root){if(this.root.children){_601(this.root.children);}else{this.store.fetch({query:this.query,onComplete:dojo.hitch(this,function(_603){this.root.children=_603;_601(_603);}),onError:_602});}}else{this.inherited(arguments);}},isItem:function(_604){return (_604===this.root)?true:this.inherited(arguments);},fetchItemByIdentity:function(_605){if(_605.identity==this.root.id){var _606=_605.scope?_605.scope:dojo.global;if(_605.onItem){_605.onItem.call(_606,this.root);}}else{this.inherited(arguments);}},getIdentity:function(item){return (item===this.root)?this.root.id:this.inherited(arguments);},getLabel:function(item){return (item===this.root)?this.root.label:this.inherited(arguments);},newItem:function(args,_607,_608){if(_607===this.root){this.onNewRootItem(args);return this.store.newItem(args);}else{return this.inherited(arguments);}},onNewRootItem:function(args){},pasteItem:function(_609,_60a,_60b,_60c,_60d){if(_60a===this.root){if(!_60c){this.onLeaveRoot(_609);}}dijit.tree.TreeStoreModel.prototype.pasteItem.call(this,_609,_60a===this.root?null:_60a,_60b===this.root?null:_60b,_60c,_60d);if(_60b===this.root){this.onAddToRoot(_609);}},onAddToRoot:function(item){console.log(this,": item ",item," added to root");},onLeaveRoot:function(item){console.log(this,": item ",item," removed from root");},_requeryTop:function(){var _60e=this.root.children||[];this.store.fetch({query:this.query,onComplete:dojo.hitch(this,function(_60f){this.root.children=_60f;if(_60e.length!=_60f.length||dojo.some(_60e,function(item,idx){return _60f[idx]!=item;})){this.onChildrenChange(this.root,_60f);}})});},onNewItem:function(item,_610){this._requeryTop();this.inherited(arguments);},onDeleteItem:function(item){if(dojo.indexOf(this.root.children,item)!=-1){this._requeryTop();}this.inherited(arguments);},onSetItem:function(item,_611,_612,_613){this._requeryTop();this.inherited(arguments);}});}if(!dojo._hasResource["dojo.dnd.Container"]){dojo._hasResource["dojo.dnd.Container"]=true;dojo.provide("dojo.dnd.Container");dojo.declare("dojo.dnd.Container",null,{skipForm:false,constructor:function(node,_614){this.node=dojo.byId(node);if(!_614){_614={};}this.creator=_614.creator||null;this.skipForm=_614.skipForm;this.parent=_614.dropParent&&dojo.byId(_614.dropParent);this.map={};this.current=null;this.containerState="";dojo.addClass(this.node,"dojoDndContainer");if(!(_614&&_614._skipStartup)){this.startup();}this.events=[dojo.connect(this.node,"onmouseover",this,"onMouseOver"),dojo.connect(this.node,"onmouseout",this,"onMouseOut"),dojo.connect(this.node,"ondragstart",this,"onSelectStart"),dojo.connect(this.node,"onselectstart",this,"onSelectStart")];},creator:function(){},getItem:function(key){return this.map[key];},setItem:function(key,data){this.map[key]=data;},delItem:function(key){delete this.map[key];},forInItems:function(f,o){o=o||dojo.global;var m=this.map,e=dojo.dnd._empty;for(var i in m){if(i in e){continue;}f.call(o,m[i],i,this);}return o;},clearItems:function(){this.map={};},getAllNodes:function(){return dojo.query("> .dojoDndItem",this.parent);},sync:function(){var map={};this.getAllNodes().forEach(function(node){if(node.id){var item=this.getItem(node.id);if(item){map[node.id]=item;return;}}else{node.id=dojo.dnd.getUniqueId();}var type=node.getAttribute("dndType"),data=node.getAttribute("dndData");map[node.id]={data:data||node.innerHTML,type:type?type.split(/\s*,\s*/):["text"]};},this);this.map=map;return this;},insertNodes:function(data,_615,_616){if(!this.parent.firstChild){_616=null;}else{if(_615){if(!_616){_616=this.parent.firstChild;}}else{if(_616){_616=_616.nextSibling;}}}if(_616){for(var i=0;i<data.length;++i){var t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.insertBefore(t.node,_616);}}else{for(var i=0;i<data.length;++i){var t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.appendChild(t.node);}}return this;},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.clearItems();this.node=this.parent=this.current=null;},markupFactory:function(_617,node){_617._skipStartup=true;return new dojo.dnd.Container(node,_617);},startup:function(){if(!this.parent){this.parent=this.node;if(this.parent.tagName.toLowerCase()=="table"){var c=this.parent.getElementsByTagName("tbody");if(c&&c.length){this.parent=c[0];}}}this.defaultCreator=dojo.dnd._defaultCreator(this.parent);this.sync();},onMouseOver:function(e){var n=e.relatedTarget;while(n){if(n==this.node){break;}try{n=n.parentNode;}catch(x){n=null;}}if(!n){this._changeState("Container","Over");this.onOverEvent();}n=this._getChildByEvent(e);if(this.current==n){return;}if(this.current){this._removeItemClass(this.current,"Over");}if(n){this._addItemClass(n,"Over");}this.current=n;},onMouseOut:function(e){for(var n=e.relatedTarget;n;){if(n==this.node){return;}try{n=n.parentNode;}catch(x){n=null;}}if(this.current){this._removeItemClass(this.current,"Over");this.current=null;}this._changeState("Container","");this.onOutEvent();},onSelectStart:function(e){if(!this.skipForm||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(type,_618){var _619="dojoDnd"+type;var _61a=type.toLowerCase()+"State";dojo.replaceClass(this.node,_619+_618,_619+this[_61a]);this[_61a]=_618;},_addItemClass:function(node,type){dojo.addClass(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){dojo.removeClass(node,"dojoDndItem"+type);},_getChildByEvent:function(e){var node=e.target;if(node){for(var _61b=node.parentNode;_61b;node=_61b,_61b=node.parentNode){if(_61b==this.parent&&dojo.hasClass(node,"dojoDndItem")){return node;}}}return null;},_normalizedCreator:function(item,hint){var t=(this.creator||this.defaultCreator).call(this,item,hint);if(!dojo.isArray(t.type)){t.type=["text"];}if(!t.node.id){t.node.id=dojo.dnd.getUniqueId();}dojo.addClass(t.node,"dojoDndItem");return t;}});dojo.dnd._createNode=function(tag){if(!tag){return dojo.dnd._createSpan;}return function(text){return dojo.create(tag,{innerHTML:text});};};dojo.dnd._createTrTd=function(text){var tr=dojo.create("tr");dojo.create("td",{innerHTML:text},tr);return tr;};dojo.dnd._createSpan=function(text){return dojo.create("span",{innerHTML:text});};dojo.dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};dojo.dnd._defaultCreator=function(node){var tag=node.tagName.toLowerCase();var c=tag=="tbody"||tag=="thead"?dojo.dnd._createTrTd:dojo.dnd._createNode(dojo.dnd._defaultCreatorNodes[tag]);return function(item,hint){var _61c=item&&dojo.isObject(item),data,type,n;if(_61c&&item.tagName&&item.nodeType&&item.getAttribute){data=item.getAttribute("dndData")||item.innerHTML;type=item.getAttribute("dndType");type=type?type.split(/\s*,\s*/):["text"];n=item;}else{data=(_61c&&item.data)?item.data:item;type=(_61c&&item.type)?item.type:["text"];n=(hint=="avatar"?dojo.dnd._createSpan:c)(String(data));}if(!n.id){n.id=dojo.dnd.getUniqueId();}return {node:n,data:data,type:type};};};}if(!dojo._hasResource["dijit.tree._dndContainer"]){dojo._hasResource["dijit.tree._dndContainer"]=true;dojo.provide("dijit.tree._dndContainer");dojo.getObject("tree",true,dojo);dijit.tree._compareNodes=function(n1,n2){if(n1===n2){return 0;}if("sourceIndex" in document.documentElement){return n1.sourceIndex-n2.sourceIndex;}else{if("compareDocumentPosition" in document.documentElement){return n1.compareDocumentPosition(n2)&2?1:-1;}else{if(document.createRange){var r1=doc.createRange();r1.setStartBefore(n1);var r2=doc.createRange();r2.setStartBefore(n2);return r1.compareBoundaryPoints(r1.END_TO_END,r2);}else{throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");}}}};dojo.declare("dijit.tree._dndContainer",null,{constructor:function(tree,_61d){this.tree=tree;this.node=tree.domNode;dojo.mixin(this,_61d);this.map={};this.current=null;this.containerState="";dojo.addClass(this.node,"dojoDndContainer");this.events=[dojo.connect(this.node,"onmouseenter",this,"onOverEvent"),dojo.connect(this.node,"onmouseleave",this,"onOutEvent"),dojo.connect(this.tree,"_onNodeMouseEnter",this,"onMouseOver"),dojo.connect(this.tree,"_onNodeMouseLeave",this,"onMouseOut"),dojo.connect(this.node,"ondragstart",dojo,"stopEvent"),dojo.connect(this.node,"onselectstart",dojo,"stopEvent")];},getItem:function(key){var _61e=this.selection[key],ret={data:_61e,type:["treeNode"]};return ret;},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.node=this.parent=null;},onMouseOver:function(_61f,evt){this.current=_61f;},onMouseOut:function(_620,evt){this.current=null;},_changeState:function(type,_621){var _622="dojoDnd"+type;var _623=type.toLowerCase()+"State";dojo.replaceClass(this.node,_622+_621,_622+this[_623]);this[_623]=_621;},_addItemClass:function(node,type){dojo.addClass(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){dojo.removeClass(node,"dojoDndItem"+type);},onOverEvent:function(){this._changeState("Container","Over");},onOutEvent:function(){this._changeState("Container","");}});}if(!dojo._hasResource["dijit.tree._dndSelector"]){dojo._hasResource["dijit.tree._dndSelector"]=true;dojo.provide("dijit.tree._dndSelector");dojo.declare("dijit.tree._dndSelector",dijit.tree._dndContainer,{constructor:function(tree,_624){this.selection={};this.anchor=null;dijit.setWaiState(this.tree.domNode,"multiselect",!this.singular);this.events.push(dojo.connect(this.tree.domNode,"onmousedown",this,"onMouseDown"),dojo.connect(this.tree.domNode,"onmouseup",this,"onMouseUp"),dojo.connect(this.tree.domNode,"onmousemove",this,"onMouseMove"));},singular:false,getSelectedTreeNodes:function(){var _625=[],sel=this.selection;for(var i in sel){_625.push(sel[i]);}return _625;},selectNone:function(){this.setSelection([]);return this;},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null;},addTreeNode:function(node,_626){this.setSelection(this.getSelectedTreeNodes().concat([node]));if(_626){this.anchor=node;}return node;},removeTreeNode:function(node){this.setSelection(this._setDifference(this.getSelectedTreeNodes(),[node]));return node;},isTreeNodeSelected:function(node){return node.id&&!!this.selection[node.id];},setSelection:function(_627){var _628=this.getSelectedTreeNodes();dojo.forEach(this._setDifference(_628,_627),dojo.hitch(this,function(node){node.setSelected(false);if(this.anchor==node){delete this.anchor;}delete this.selection[node.id];}));dojo.forEach(this._setDifference(_627,_628),dojo.hitch(this,function(node){node.setSelected(true);this.selection[node.id]=node;}));this._updateSelectionProperties();},_setDifference:function(xs,ys){dojo.forEach(ys,function(y){y.__exclude__=true;});var ret=dojo.filter(xs,function(x){return !x.__exclude__;});dojo.forEach(ys,function(y){delete y["__exclude__"];});return ret;},_updateSelectionProperties:function(){var _629=this.getSelectedTreeNodes();var _62a=[],_62b=[];dojo.forEach(_629,function(node){_62b.push(node);_62a.push(node.getTreePath());});var _62c=dojo.map(_62b,function(node){return node.item;});this.tree._set("paths",_62a);this.tree._set("path",_62a[0]||[]);this.tree._set("selectedNodes",_62b);this.tree._set("selectedNode",_62b[0]||null);this.tree._set("selectedItems",_62c);this.tree._set("selectedItem",_62c[0]||null);},onMouseDown:function(e){if(!this.current||this.tree.isExpandoNode(e.target,this.current)){return;}if(e.button==dojo.mouseButtons.RIGHT){return;}dojo.stopEvent(e);var _62d=this.current,copy=dojo.isCopyKey(e),id=_62d.id;if(!this.singular&&!e.shiftKey&&this.selection[id]){this._doDeselect=true;return;}else{this._doDeselect=false;}this.userSelect(_62d,copy,e.shiftKey);},onMouseUp:function(e){if(!this._doDeselect){return;}this._doDeselect=false;this.userSelect(this.current,dojo.isCopyKey(e),e.shiftKey);},onMouseMove:function(e){this._doDeselect=false;},userSelect:function(node,_62e,_62f){if(this.singular){if(this.anchor==node&&_62e){this.selectNone();}else{this.setSelection([node]);this.anchor=node;}}else{if(_62f&&this.anchor){var cr=dijit.tree._compareNodes(this.anchor.rowNode,node.rowNode),_630,end,_631=this.anchor;if(cr<0){_630=_631;end=node;}else{_630=node;end=_631;}nodes=[];while(_630!=end){nodes.push(_630);_630=this.tree._getNextNode(_630);}nodes.push(end);this.setSelection(nodes);}else{if(this.selection[node.id]&&_62e){this.removeTreeNode(node);}else{if(_62e){this.addTreeNode(node,true);}else{this.setSelection([node]);this.anchor=node;}}}}},forInSelectedItems:function(f,o){o=o||dojo.global;for(var id in this.selection){f.call(o,this.getItem(id),id,this);}}});}if(!dojo._hasResource["dijit.Tree"]){dojo._hasResource["dijit.Tree"]=true;dojo.provide("dijit.Tree");dojo.declare("dijit._TreeNode",[dijit._Widget,dijit._Templated,dijit._Container,dijit._Contained,dijit._CssStateMixin],{item:null,isTreeNode:true,label:"",isExpandable:null,isExpanded:false,state:"UNCHECKED",templateString:dojo.cache("dijit","templates/TreeNode.html","<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div dojoAttachPoint=\"rowNode\" class=\"dijitTreeRow\" role=\"presentation\" dojoAttachEvent=\"onmouseenter:_onMouseEnter, onmouseleave:_onMouseLeave, onclick:_onClick, ondblclick:_onDblClick\"\n\t\t><img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\n\t\t/><span dojoAttachPoint=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\n\t\t></span\n\t\t><span dojoAttachPoint=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\n\t\t\t/><span dojoAttachPoint=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\" dojoAttachEvent=\"onfocus:_onLabelFocus\"></span>\n\t\t</span\n\t></div>\n\t<div dojoAttachPoint=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\" style=\"display: none;\"></div>\n</div>\n"),baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow",labelNode:"dijitTreeLabel"},attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{label:{node:"labelNode",type:"innerText"},tooltip:{node:"rowNode",type:"attribute",attribute:"title"}}),buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);if(this.isExpandable){dijit.setWaiState(this.labelNode,"expanded",this.isExpanded);}this.setSelected(false);},_setIndentAttr:function(_632){var _633=(Math.max(_632,0)*this.tree._nodePixelIndent)+"px";dojo.style(this.domNode,"backgroundPosition",_633+" 0px");dojo.style(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",_633);dojo.forEach(this.getChildren(),function(_634){_634.set("indent",_632+1);});this._set("indent",_632);},markProcessing:function(){this.state="LOADING";this._setExpando(true);},unmarkProcessing:function(){this._setExpando(false);},_updateItemClasses:function(item){var tree=this.tree,_635=tree.model;if(tree._v10Compat&&item===_635.root){item=null;}this._applyClassAndStyle(item,"icon","Icon");this._applyClassAndStyle(item,"label","Label");this._applyClassAndStyle(item,"row","Row");},_applyClassAndStyle:function(item,_636,_637){var _638="_"+_636+"Class";var _639=_636+"Node";var _63a=this[_638];this[_638]=this.tree["get"+_637+"Class"](item,this.isExpanded);dojo.replaceClass(this[_639],this[_638]||"",_63a||"");dojo.style(this[_639],this.tree["get"+_637+"Style"](item,this.isExpanded)||{});},_updateLayout:function(){var _63b=this.getParent();if(!_63b||_63b.rowNode.style.display=="none"){dojo.addClass(this.domNode,"dijitTreeIsRoot");}else{dojo.toggleClass(this.domNode,"dijitTreeIsLast",!this.getNextSibling());}},_setExpando:function(_63c){var _63d=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],_63e=["*","-","+","*"],idx=_63c?0:(this.isExpandable?(this.isExpanded?1:2):3);dojo.replaceClass(this.expandoNode,_63d[idx],_63d);this.expandoNodeText.innerHTML=_63e[idx];},expand:function(){if(this._expandDeferred){return this._expandDeferred;}this._wipeOut&&this._wipeOut.stop();this.isExpanded=true;dijit.setWaiState(this.labelNode,"expanded","true");if(this.tree.showRoot||this!==this.tree.rootNode){dijit.setWaiRole(this.containerNode,"group");}dojo.addClass(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(this==this.tree.rootNode){dijit.setWaiState(this.tree.domNode,"expanded","true");}var def,_63f=dojo.fx.wipeIn({node:this.containerNode,duration:dijit.defaultDuration,onEnd:function(){def.callback(true);}});def=(this._expandDeferred=new dojo.Deferred(function(){_63f.stop();}));_63f.play();return def;},collapse:function(){if(!this.isExpanded){return;}if(this._expandDeferred){this._expandDeferred.cancel();delete this._expandDeferred;}this.isExpanded=false;dijit.setWaiState(this.labelNode,"expanded","false");if(this==this.tree.rootNode){dijit.setWaiState(this.tree.domNode,"expanded","false");}dojo.removeClass(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(!this._wipeOut){this._wipeOut=dojo.fx.wipeOut({node:this.containerNode,duration:dijit.defaultDuration});}this._wipeOut.play();},indent:0,setChildItems:function(_640){var tree=this.tree,_641=tree.model,defs=[];dojo.forEach(this.getChildren(),function(_642){dijit._Container.prototype.removeChild.call(this,_642);},this);this.state="LOADED";if(_640&&_640.length>0){this.isExpandable=true;dojo.forEach(_640,function(item){var id=_641.getIdentity(item),_643=tree._itemNodesMap[id],node;if(_643){for(var i=0;i<_643.length;i++){if(_643[i]&&!_643[i].getParent()){node=_643[i];node.set("indent",this.indent+1);break;}}}if(!node){node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:_641.mayHaveChildren(item),label:tree.getLabel(item),tooltip:tree.getTooltip(item),dir:tree.dir,lang:tree.lang,indent:this.indent+1});if(_643){_643.push(node);}else{tree._itemNodesMap[id]=[node];}}this.addChild(node);if(this.tree.autoExpand||this.tree._state(item)){defs.push(tree._expandNode(node));}},this);dojo.forEach(this.getChildren(),function(_644,idx){_644._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);if(this==tree.rootNode){var fc=this.tree.showRoot?this:this.getChildren()[0];if(fc){fc.setFocusable(true);tree.lastFocused=fc;}else{tree.domNode.setAttribute("tabIndex","0");}}return new dojo.DeferredList(defs);},getTreePath:function(){var node=this;var path=[];while(node&&node!==this.tree.rootNode){path.unshift(node.item);node=node.getParent();}path.unshift(this.tree.rootNode.item);return path;},getIdentity:function(){return this.tree.model.getIdentity(this.item);},removeChild:function(node){this.inherited(arguments);var _645=this.getChildren();if(_645.length==0){this.isExpandable=false;this.collapse();}dojo.forEach(_645,function(_646){_646._updateLayout();});},makeExpandable:function(){this.isExpandable=true;this._setExpando(false);},_onLabelFocus:function(evt){this.tree._onNodeFocus(this);},setSelected:function(_647){dijit.setWaiState(this.labelNode,"selected",_647);dojo.toggleClass(this.rowNode,"dijitTreeRowSelected",_647);},setFocusable:function(_648){this.labelNode.setAttribute("tabIndex",_648?"0":"-1");},_onClick:function(evt){this.tree._onClick(this,evt);},_onDblClick:function(evt){this.tree._onDblClick(this,evt);},_onMouseEnter:function(evt){this.tree._onNodeMouseEnter(this,evt);},_onMouseLeave:function(evt){this.tree._onNodeMouseLeave(this,evt);}});dojo.declare("dijit.Tree",[dijit._Widget,dijit._Templated],{store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:false,openOnDblClick:false,templateString:dojo.cache("dijit","templates/Tree.html","<div class=\"dijitTree dijitTreeContainer\" role=\"tree\"\n\tdojoAttachEvent=\"onkeypress:_onKeyPress\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" dojoAttachPoint=\"indentDetector\"></div>\n</div>\n"),persist:true,autoExpand:false,dndController:"dijit.tree._dndSelector",dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(_649,_64a){dojo.publish(this.id,[dojo.mixin({tree:this,event:_649},_64a||{})]);},postMixInProperties:function(){this.tree=this;if(this.autoExpand){this.persist=false;}this._itemNodesMap={};if(!this.cookieName){this.cookieName=this.id+"SaveStateCookie";}this._loadDeferred=new dojo.Deferred();this.inherited(arguments);},postCreate:function(){this._initState();if(!this.model){this._store2model();}this.connect(this.model,"onChange","_onItemChange");this.connect(this.model,"onChildrenChange","_onItemChildrenChange");this.connect(this.model,"onDelete","_onItemDelete");this._load();this.inherited(arguments);if(this.dndController){if(dojo.isString(this.dndController)){this.dndController=dojo.getObject(this.dndController);}var _64b={};for(var i=0;i<this.dndParams.length;i++){if(this[this.dndParams[i]]){_64b[this.dndParams[i]]=this[this.dndParams[i]];}}this.dndController=new this.dndController(this,_64b);}},_store2model:function(){this._v10Compat=true;dojo.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var _64c={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren){_64c.mayHaveChildren=dojo.hitch(this,"mayHaveChildren");}if(this.params.getItemChildren){_64c.getChildren=dojo.hitch(this,function(item,_64d,_64e){this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_64d,_64e);});}this.model=new dijit.tree.ForestStoreModel(_64c);this.showRoot=Boolean(this.label);},onLoad:function(){},_load:function(){this.model.getRoot(dojo.hitch(this,function(item){var rn=(this.rootNode=this.tree._createTreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item),indent:this.showRoot?0:-1}));if(!this.showRoot){rn.rowNode.style.display="none";dijit.setWaiRole(this.domNode,"presentation");dijit.setWaiRole(rn.labelNode,"presentation");dijit.setWaiRole(rn.containerNode,"tree");}this.domNode.appendChild(rn.domNode);var _64f=this.model.getIdentity(item);if(this._itemNodesMap[_64f]){this._itemNodesMap[_64f].push(rn);}else{this._itemNodesMap[_64f]=[rn];}rn._updateLayout();this._expandNode(rn).addCallback(dojo.hitch(this,function(){this._loadDeferred.callback(true);this.onLoad();}));}),function(err){console.error(this,": error loading root: ",err);});},getNodesByItem:function(item){if(!item){return [];}var _650=dojo.isString(item)?item:this.model.getIdentity(item);return [].concat(this._itemNodesMap[_650]);},_setSelectedItemAttr:function(item){this.set("selectedItems",[item]);},_setSelectedItemsAttr:function(_651){var tree=this;this._loadDeferred.addCallback(dojo.hitch(this,function(){var _652=dojo.map(_651,function(item){return (!item||dojo.isString(item))?item:tree.model.getIdentity(item);});var _653=[];dojo.forEach(_652,function(id){_653=_653.concat(tree._itemNodesMap[id]||[]);});this.set("selectedNodes",_653);}));},_setPathAttr:function(path){if(path.length){return this.set("paths",[path]);}else{return this.set("paths",[]);}},_setPathsAttr:function(_654){var tree=this;return new dojo.DeferredList(dojo.map(_654,function(path){var d=new dojo.Deferred();path=dojo.map(path,function(item){return dojo.isString(item)?item:tree.model.getIdentity(item);});if(path.length){tree._loadDeferred.addCallback(function(){_655(path,[tree.rootNode],d);});}else{d.errback("Empty path");}return d;})).addCallback(_656);function _655(path,_657,def){var _658=path.shift();var _659=dojo.filter(_657,function(node){return node.getIdentity()==_658;})[0];if(!!_659){if(path.length){tree._expandNode(_659).addCallback(function(){_655(path,_659.getChildren(),def);});}else{def.callback(_659);}}else{def.errback("Could not expand path at "+_658);}};function _656(_65a){tree.set("selectedNodes",dojo.map(dojo.filter(_65a,function(x){return x[0];}),function(x){return x[1];}));};},_setSelectedNodeAttr:function(node){this.set("selectedNodes",[node]);},_setSelectedNodesAttr:function(_65b){this._loadDeferred.addCallback(dojo.hitch(this,function(){this.dndController.setSelection(_65b);}));},mayHaveChildren:function(item){},getItemChildren:function(_65c,_65d){},getLabel:function(item){return this.model.getLabel(item);},getIconClass:function(item,_65e){return (!item||this.model.mayHaveChildren(item))?(_65e?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";},getLabelClass:function(item,_65f){},getRowClass:function(item,_660){},getIconStyle:function(item,_661){},getLabelStyle:function(item,_662){},getRowStyle:function(item,_663){},getTooltip:function(item){return "";},_onKeyPress:function(e){if(e.altKey){return;}var dk=dojo.keys;var _664=dijit.getEnclosingWidget(e.target);if(!_664){return;}var key=e.charOrCode;if(typeof key=="string"&&key!=" "){if(!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey){this._onLetterKeyNav({node:_664,key:key.toLowerCase()});dojo.stopEvent(e);}}else{if(this._curSearch){clearTimeout(this._curSearch.timer);delete this._curSearch;}var map=this._keyHandlerMap;if(!map){map={};map[dk.ENTER]="_onEnterKey";map[dk.SPACE]=map[" "]="_onEnterKey";map[this.isLeftToRight()?dk.LEFT_ARROW:dk.RIGHT_ARROW]="_onLeftArrow";map[this.isLeftToRight()?dk.RIGHT_ARROW:dk.LEFT_ARROW]="_onRightArrow";map[dk.UP_ARROW]="_onUpArrow";map[dk.DOWN_ARROW]="_onDownArrow";map[dk.HOME]="_onHomeKey";map[dk.END]="_onEndKey";this._keyHandlerMap=map;}if(this._keyHandlerMap[key]){this[this._keyHandlerMap[key]]({node:_664,item:_664.item,evt:e});dojo.stopEvent(e);}}},_onEnterKey:function(_665){this._publish("execute",{item:_665.item,node:_665.node});this.dndController.userSelect(_665.node,dojo.isCopyKey(_665.evt),_665.evt.shiftKey);this.onClick(_665.item,_665.node,_665.evt);},_onDownArrow:function(_666){var node=this._getNextNode(_666.node);if(node&&node.isTreeNode){this.focusNode(node);}},_onUpArrow:function(_667){var node=_667.node;var _668=node.getPreviousSibling();if(_668){node=_668;while(node.isExpandable&&node.isExpanded&&node.hasChildren()){var _669=node.getChildren();node=_669[_669.length-1];}}else{var _66a=node.getParent();if(!(!this.showRoot&&_66a===this.rootNode)){node=_66a;}}if(node&&node.isTreeNode){this.focusNode(node);}},_onRightArrow:function(_66b){var node=_66b.node;if(node.isExpandable&&!node.isExpanded){this._expandNode(node);}else{if(node.hasChildren()){node=node.getChildren()[0];if(node&&node.isTreeNode){this.focusNode(node);}}}},_onLeftArrow:function(_66c){var node=_66c.node;if(node.isExpandable&&node.isExpanded){this._collapseNode(node);}else{var _66d=node.getParent();if(_66d&&_66d.isTreeNode&&!(!this.showRoot&&_66d===this.rootNode)){this.focusNode(_66d);}}},_onHomeKey:function(){var node=this._getRootOrFirstNode();if(node){this.focusNode(node);}},_onEndKey:function(_66e){var node=this.rootNode;while(node.isExpanded){var c=node.getChildren();node=c[c.length-1];}if(node&&node.isTreeNode){this.focusNode(node);}},multiCharSearchDuration:250,_onLetterKeyNav:function(_66f){var cs=this._curSearch;if(cs){cs.pattern=cs.pattern+_66f.key;clearTimeout(cs.timer);}else{cs=this._curSearch={pattern:_66f.key,startNode:_66f.node};}var self=this;cs.timer=setTimeout(function(){delete self._curSearch;},this.multiCharSearchDuration);var node=cs.startNode;do{node=this._getNextNode(node);if(!node){node=this._getRootOrFirstNode();}}while(node!==cs.startNode&&(node.label.toLowerCase().substr(0,cs.pattern.length)!=cs.pattern));if(node&&node.isTreeNode){if(node!==cs.startNode){this.focusNode(node);}}},isExpandoNode:function(node,_670){return dojo.isDescendant(node,_670.expandoNode);},_onClick:function(_671,e){var _672=e.target,_673=this.isExpandoNode(_672,_671);if((this.openOnClick&&_671.isExpandable)||_673){if(_671.isExpandable){this._onExpandoClick({node:_671});}}else{this._publish("execute",{item:_671.item,node:_671,evt:e});this.onClick(_671.item,_671,e);this.focusNode(_671);}dojo.stopEvent(e);},_onDblClick:function(_674,e){var _675=e.target,_676=(_675==_674.expandoNode||_675==_674.expandoNodeText);if((this.openOnDblClick&&_674.isExpandable)||_676){if(_674.isExpandable){this._onExpandoClick({node:_674});}}else{this._publish("execute",{item:_674.item,node:_674,evt:e});this.onDblClick(_674.item,_674,e);this.focusNode(_674);}dojo.stopEvent(e);},_onExpandoClick:function(_677){var node=_677.node;this.focusNode(node);if(node.isExpanded){this._collapseNode(node);}else{this._expandNode(node);}},onClick:function(item,node,evt){},onDblClick:function(item,node,evt){},onOpen:function(item,node){},onClose:function(item,node){},_getNextNode:function(node){if(node.isExpandable&&node.isExpanded&&node.hasChildren()){return node.getChildren()[0];}else{while(node&&node.isTreeNode){var _678=node.getNextSibling();if(_678){return _678;}node=node.getParent();}return null;}},_getRootOrFirstNode:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];},_collapseNode:function(node){if(node._expandNodeDeferred){delete node._expandNodeDeferred;}if(node.isExpandable){if(node.state=="LOADING"){return;}node.collapse();this.onClose(node.item,node);if(node.item){this._state(node.item,false);this._saveState();}}},_expandNode:function(node,_679){if(node._expandNodeDeferred&&!_679){return node._expandNodeDeferred;}var _67a=this.model,item=node.item,_67b=this;switch(node.state){case "UNCHECKED":node.markProcessing();var def=(node._expandNodeDeferred=new dojo.Deferred());_67a.getChildren(item,function(_67c){node.unmarkProcessing();var scid=node.setChildItems(_67c);var ed=_67b._expandNode(node,true);scid.addCallback(function(){ed.addCallback(function(){def.callback();});});},function(err){console.error(_67b,": error loading root children: ",err);});break;default:def=(node._expandNodeDeferred=node.expand());this.onOpen(node.item,node);if(item){this._state(item,true);this._saveState();}}return def;},focusNode:function(node){dijit.focus(node.labelNode);},_onNodeFocus:function(node){if(node&&node!=this.lastFocused){if(this.lastFocused&&!this.lastFocused._destroyed){this.lastFocused.setFocusable(false);}node.setFocusable(true);this.lastFocused=node;}},_onNodeMouseEnter:function(node){},_onNodeMouseLeave:function(node){},_onItemChange:function(item){var _67d=this.model,_67e=_67d.getIdentity(item),_67f=this._itemNodesMap[_67e];if(_67f){var _680=this.getLabel(item),_681=this.getTooltip(item);dojo.forEach(_67f,function(node){node.set({item:item,label:_680,tooltip:_681});node._updateItemClasses(item);});}},_onItemChildrenChange:function(_682,_683){var _684=this.model,_685=_684.getIdentity(_682),_686=this._itemNodesMap[_685];if(_686){dojo.forEach(_686,function(_687){_687.setChildItems(_683);});}},_onItemDelete:function(item){var _688=this.model,_689=_688.getIdentity(item),_68a=this._itemNodesMap[_689];if(_68a){dojo.forEach(_68a,function(node){this.dndController.removeTreeNode(node);var _68b=node.getParent();if(_68b){_68b.removeChild(node);}node.destroyRecursive();},this);delete this._itemNodesMap[_689];}},_initState:function(){if(this.persist){var _68c=dojo.cookie(this.cookieName);this._openedItemIds={};if(_68c){dojo.forEach(_68c.split(","),function(item){this._openedItemIds[item]=true;},this);}}},_state:function(item,_68d){if(!this.persist){return false;}var id=this.model.getIdentity(item);if(arguments.length===1){return this._openedItemIds[id];}if(_68d){this._openedItemIds[id]=true;}else{delete this._openedItemIds[id];}},_saveState:function(){if(!this.persist){return;}var ary=[];for(var id in this._openedItemIds){ary.push(id);}dojo.cookie(this.cookieName,ary.join(","),{expires:365});},destroy:function(){if(this._curSearch){clearTimeout(this._curSearch.timer);delete this._curSearch;}if(this.rootNode){this.rootNode.destroyRecursive();}if(this.dndController&&!dojo.isString(this.dndController)){this.dndController.destroy();}this.rootNode=null;this.inherited(arguments);},destroyRecursive:function(){this.destroy();},resize:function(_68e){if(_68e){dojo.marginBox(this.domNode,_68e);}this._nodePixelIndent=dojo._getMarginSize(this.tree.indentDetector).w;if(this.tree.rootNode){this.tree.rootNode.set("indent",this.showRoot?0:-1);}},_createTreeNode:function(args){return new dijit._TreeNode(args);}});}if(!dojo._hasResource["dijit.InlineEditBox"]){dojo._hasResource["dijit.InlineEditBox"]=true;dojo.provide("dijit.InlineEditBox");dojo.declare("dijit.InlineEditBox",dijit._Widget,{editing:false,autoSave:true,buttonSave:"",buttonCancel:"",renderAsHtml:false,editor:"dijit.form.TextBox",editorWrapper:"dijit._InlineEditor",editorParams:{},disabled:false,onChange:function(_68f){},onCancel:function(){},width:"100%",value:"",noValueIndicator:dojo.isIE<=6?"<span style='font-family: wingdings; text-decoration: underline;'>&nbsp;&nbsp;&nbsp;&nbsp;&#x270d;&nbsp;&nbsp;&nbsp;&nbsp;</span>":"<span style='text-decoration: underline;'>&nbsp;&nbsp;&nbsp;&nbsp;&#x270d;&nbsp;&nbsp;&nbsp;&nbsp;</span>",constructor:function(){this.editorParams={};},postMixInProperties:function(){this.inherited(arguments);this.displayNode=this.srcNodeRef;var _690={ondijitclick:"_onClick",onmouseover:"_onMouseOver",onmouseout:"_onMouseOut",onfocus:"_onMouseOver",onblur:"_onMouseOut"};for(var name in _690){this.connect(this.displayNode,name,_690[name]);}dijit.setWaiRole(this.displayNode,"button");if(!this.displayNode.getAttribute("tabIndex")){this.displayNode.setAttribute("tabIndex",0);}if(!this.value&&!("value" in this.params)){this.value=dojo.trim(this.renderAsHtml?this.displayNode.innerHTML:(this.displayNode.innerText||this.displayNode.textContent||""));}if(!this.value){this.displayNode.innerHTML=this.noValueIndicator;}dojo.addClass(this.displayNode,"dijitInlineEditBoxDisplayMode");},setDisabled:function(_691){dojo.deprecated("dijit.InlineEditBox.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_691);},_setDisabledAttr:function(_692){dijit.setWaiState(this.domNode,"disabled",_692);if(_692){this.displayNode.removeAttribute("tabIndex");}else{this.displayNode.setAttribute("tabIndex",0);}dojo.toggleClass(this.displayNode,"dijitInlineEditBoxDisplayModeDisabled",_692);this._set("disabled",_692);},_onMouseOver:function(){if(!this.disabled){dojo.addClass(this.displayNode,"dijitInlineEditBoxDisplayModeHover");}},_onMouseOut:function(){dojo.removeClass(this.displayNode,"dijitInlineEditBoxDisplayModeHover");},_onClick:function(e){if(this.disabled){return;}if(e){dojo.stopEvent(e);}this._onMouseOut();setTimeout(dojo.hitch(this,"edit"),0);},edit:function(){if(this.disabled||this.editing){return;}this.editing=true;this._savedPosition=dojo.style(this.displayNode,"position")||"static";this._savedOpacity=dojo.style(this.displayNode,"opacity")||"1";this._savedTabIndex=dojo.attr(this.displayNode,"tabIndex")||"0";if(this.wrapperWidget){var ew=this.wrapperWidget.editWidget;ew.set("displayedValue" in ew?"displayedValue":"value",this.value);}else{var _693=dojo.create("span",null,this.domNode,"before");var ewc=typeof this.editorWrapper=="string"?dojo.getObject(this.editorWrapper):this.editorWrapper;this.wrapperWidget=new ewc({value:this.value,buttonSave:this.buttonSave,buttonCancel:this.buttonCancel,dir:this.dir,lang:this.lang,tabIndex:this._savedTabIndex,editor:this.editor,inlineEditBox:this,sourceStyle:dojo.getComputedStyle(this.displayNode),save:dojo.hitch(this,"save"),cancel:dojo.hitch(this,"cancel")},_693);if(!this._started){this.startup();}}var ww=this.wrapperWidget;if(dojo.isIE){dijit.focus(dijit.getFocus());}dojo.style(this.displayNode,{position:"absolute",opacity:"0",display:"none"});dojo.style(ww.domNode,{position:this._savedPosition,visibility:"visible",opacity:"1"});dojo.attr(this.displayNode,"tabIndex","-1");setTimeout(dojo.hitch(this,function(){ww.focus();ww._resetValue=ww.getValue();}),0);},_onBlur:function(){this.inherited(arguments);if(!this.editing){}},destroy:function(){if(this.wrapperWidget&&!this.wrapperWidget._destroyed){this.wrapperWidget.destroy();delete this.wrapperWidget;}this.inherited(arguments);},_showText:function(_694){var ww=this.wrapperWidget;dojo.style(ww.domNode,{position:"absolute",visibility:"hidden",opacity:"0"});dojo.style(this.displayNode,{position:this._savedPosition,opacity:this._savedOpacity,display:""});dojo.attr(this.displayNode,"tabIndex",this._savedTabIndex);if(_694){dijit.focus(this.displayNode);}},save:function(_695){if(this.disabled||!this.editing){return;}this.editing=false;var ww=this.wrapperWidget;var _696=ww.getValue();this.set("value",_696);this._showText(_695);},setValue:function(val){dojo.deprecated("dijit.InlineEditBox.setValue() is deprecated.  Use set('value', ...) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(val){val=dojo.trim(val);var _697=this.renderAsHtml?val:val.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/\n/g,"<br>");this.displayNode.innerHTML=_697||this.noValueIndicator;this._set("value",val);if(this._started){setTimeout(dojo.hitch(this,"onChange",val),0);}},getValue:function(){dojo.deprecated("dijit.InlineEditBox.getValue() is deprecated.  Use get('value') instead.","","2.0");return this.get("value");},cancel:function(_698){if(this.disabled||!this.editing){return;}this.editing=false;setTimeout(dojo.hitch(this,"onCancel"),0);this._showText(_698);}});dojo.declare("dijit._InlineEditor",[dijit._Widget,dijit._Templated],{templateString:dojo.cache("dijit","templates/InlineEditBox.html","<span data-dojo-attach-point=\"editNode\" role=\"presentation\" style=\"position: absolute; visibility:hidden\" class=\"dijitReset dijitInline\"\n\tdata-dojo-attach-event=\"onkeypress: _onKeyPress\"\n\t><span data-dojo-attach-point=\"editorPlaceholder\"></span\n\t><span data-dojo-attach-point=\"buttonContainer\"\n\t\t><button data-dojo-type=\"dijit.form.Button\" data-dojo-props=\"label: '${buttonSave}', 'class': 'saveButton'\"\n\t\t\tdata-dojo-attach-point=\"saveButton\" data-dojo-attach-event=\"onClick:save\"></button\n\t\t><button data-dojo-type=\"dijit.form.Button\"  data-dojo-props=\"label: '${buttonCancel}', 'class': 'cancelButton'\"\n\t\t\tdata-dojo-attach-point=\"cancelButton\" data-dojo-attach-event=\"onClick:cancel\"></button\n\t></span\n></span>\n"),widgetsInTemplate:true,postMixInProperties:function(){this.inherited(arguments);this.messages=dojo.i18n.getLocalization("dijit","common",this.lang);dojo.forEach(["buttonSave","buttonCancel"],function(prop){if(!this[prop]){this[prop]=this.messages[prop];}},this);},buildRendering:function(){this.inherited(arguments);var cls=typeof this.editor=="string"?dojo.getObject(this.editor):this.editor;var _699=this.sourceStyle,_69a="line-height:"+_699.lineHeight+";",_69b=dojo.getComputedStyle(this.domNode);dojo.forEach(["Weight","Family","Size","Style"],function(prop){var _69c=_699["font"+prop],_69d=_69b["font"+prop];if(_69d!=_69c){_69a+="font-"+prop+":"+_699["font"+prop]+";";}},this);dojo.forEach(["marginTop","marginBottom","marginLeft","marginRight"],function(prop){this.domNode.style[prop]=_699[prop];},this);var _69e=this.inlineEditBox.width;if(_69e=="100%"){_69a+="width:100%;";this.domNode.style.display="block";}else{_69a+="width:"+(_69e+(Number(_69e)==_69e?"px":""))+";";}var _69f=dojo.delegate(this.inlineEditBox.editorParams,{style:_69a,dir:this.dir,lang:this.lang});_69f["displayedValue" in cls.prototype?"displayedValue":"value"]=this.value;this.editWidget=new cls(_69f,this.editorPlaceholder);if(this.inlineEditBox.autoSave){dojo.destroy(this.buttonContainer);}},postCreate:function(){this.inherited(arguments);var ew=this.editWidget;if(this.inlineEditBox.autoSave){this.connect(ew,"onChange","_onChange");this.connect(ew,"onKeyPress","_onKeyPress");}else{if("intermediateChanges" in ew){ew.set("intermediateChanges",true);this.connect(ew,"onChange","_onIntermediateChange");this.saveButton.set("disabled",true);}}},_onIntermediateChange:function(val){this.saveButton.set("disabled",(this.getValue()==this._resetValue)||!this.enableSave());},destroy:function(){this.editWidget.destroy(true);this.inherited(arguments);},getValue:function(){var ew=this.editWidget;return String(ew.get("displayedValue" in ew?"displayedValue":"value"));},_onKeyPress:function(e){if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing){if(e.altKey||e.ctrlKey){return;}if(e.charOrCode==dojo.keys.ESCAPE){dojo.stopEvent(e);this.cancel(true);}else{if(e.charOrCode==dojo.keys.ENTER&&e.target.tagName=="INPUT"){dojo.stopEvent(e);this._onChange();}}}},_onBlur:function(){this.inherited(arguments);if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing){if(this.getValue()==this._resetValue){this.cancel(false);}else{if(this.enableSave()){this.save(false);}}}},_onChange:function(){if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&this.enableSave()){dojo.style(this.inlineEditBox.displayNode,{display:""});dijit.focus(this.inlineEditBox.displayNode);}},enableSave:function(){return (this.editWidget.isValid?this.editWidget.isValid():true);},focus:function(){this.editWidget.focus();setTimeout(dojo.hitch(this,function(){if(this.editWidget.focusNode&&this.editWidget.focusNode.tagName=="INPUT"){dijit.selectInputText(this.editWidget.focusNode);}}),0);}});}if(!dojo._hasResource["dijit.form.Form"]){dojo._hasResource["dijit.form.Form"]=true;dojo.provide("dijit.form.Form");dojo.declare("dijit.form.Form",[dijit._Widget,dijit._Templated,dijit.form._FormMixin,dijit.layout._ContentPaneResizeMixin],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form dojoAttachPoint='containerNode' dojoAttachEvent='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{action:"",method:"",encType:"","accept-charset":"",accept:"",target:""}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},execute:function(_6a0){},onExecute:function(){},_setEncTypeAttr:function(_6a1){this.encType=_6a1;dojo.attr(this.domNode,"encType",_6a1);if(dojo.isIE){this.domNode.encoding=_6a1;}},postCreate:function(){if(dojo.isIE&&this.srcNodeRef&&this.srcNodeRef.attributes){var item=this.srcNodeRef.attributes.getNamedItem("encType");if(item&&!item.specified&&(typeof item.value=="string")){this.set("encType",item.value);}}this.inherited(arguments);},reset:function(e){var faux={returnValue:true,preventDefault:function(){this.returnValue=false;},stopPropagation:function(){},currentTarget:e?e.target:this.domNode,target:e?e.target:this.domNode};if(!(this.onReset(faux)===false)&&faux.returnValue){this.inherited(arguments,[]);}},onReset:function(e){return true;},_onReset:function(e){this.reset(e);dojo.stopEvent(e);return false;},_onSubmit:function(e){var fp=dijit.form.Form.prototype;if(this.execute!=fp.execute||this.onExecute!=fp.onExecute){dojo.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0");this.onExecute();this.execute(this.getValues());}if(this.onSubmit(e)===false){dojo.stopEvent(e);}},onSubmit:function(e){return this.isValid();},submit:function(){if(!(this.onSubmit()===false)){this.containerNode.submit();}}});}if(!dojo._hasResource["dijit.form.ComboButton"]){dojo._hasResource["dijit.form.ComboButton"]=true;dojo.provide("dijit.form.ComboButton");}if(!dojo._hasResource["dijit.form.ToggleButton"]){dojo._hasResource["dijit.form.ToggleButton"]=true;dojo.provide("dijit.form.ToggleButton");}if(!dojo._hasResource["dijit.form.CheckBox"]){dojo._hasResource["dijit.form.CheckBox"]=true;dojo.provide("dijit.form.CheckBox");dojo.declare("dijit.form.CheckBox",dijit.form.ToggleButton,{templateString:dojo.cache("dijit.form","templates/CheckBox.html","<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdojoAttachPoint=\"focusNode\"\n\t \tdojoAttachEvent=\"onclick:_onClick\"\n/></div>\n"),baseClass:"dijitCheckBox",type:"checkbox",value:"on",readOnly:false,attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{readOnly:"focusNode"}),_setReadOnlyAttr:function(_6a2){this._set("readOnly",_6a2);dojo.attr(this.focusNode,"readOnly",_6a2);dijit.setWaiState(this.focusNode,"readonly",_6a2);},_setValueAttr:function(_6a3,_6a4){if(typeof _6a3=="string"){this._set("value",_6a3);dojo.attr(this.focusNode,"value",_6a3);_6a3=true;}if(this._created){this.set("checked",_6a3,_6a4);}},_getValueAttr:function(){return (this.checked?this.value:false);},_setLabelAttr:undefined,postMixInProperties:function(){if(this.value==""){this.value="on";}this.checkedAttrSetting=this.checked?"checked":"";this.inherited(arguments);},_fillContent:function(_6a5){},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);this._set("value",this.params.value||"on");dojo.attr(this.focusNode,"value",this.value);},_onFocus:function(){if(this.id){dojo.query("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}this.inherited(arguments);},_onBlur:function(){if(this.id){dojo.query("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}this.inherited(arguments);},_onClick:function(e){if(this.readOnly){dojo.stopEvent(e);return false;}return this.inherited(arguments);}});dojo.declare("dijit.form.RadioButton",dijit.form.CheckBox,{type:"radio",baseClass:"dijitRadio",_setCheckedAttr:function(_6a6){this.inherited(arguments);if(!this._created){return;}if(_6a6){var _6a7=this;dojo.query("INPUT[type=radio]",this.focusNode.form||dojo.doc).forEach(function(_6a8){if(_6a8.name==_6a7.name&&_6a8!=_6a7.focusNode&&_6a8.form==_6a7.focusNode.form){var _6a9=dijit.getEnclosingWidget(_6a8);if(_6a9&&_6a9.checked){_6a9.set("checked",false);}}});}},_clicked:function(e){if(!this.checked){this.set("checked",true);}}});}if(!dojo._hasResource["dijit.form.RadioButton"]){dojo._hasResource["dijit.form.RadioButton"]=true;dojo.provide("dijit.form.RadioButton");}if(!dojo._hasResource["dojo.cldr.monetary"]){dojo._hasResource["dojo.cldr.monetary"]=true;dojo.provide("dojo.cldr.monetary");dojo.getObject("cldr.monetary",true,dojo);dojo.cldr.monetary.getData=function(code){var _6aa={ADP:0,AFN:0,ALL:0,AMD:0,BHD:3,BIF:0,BYR:0,CLF:0,CLP:0,COP:0,CRC:0,DJF:0,ESP:0,GNF:0,GYD:0,HUF:0,IDR:0,IQD:0,IRR:3,ISK:0,ITL:0,JOD:3,JPY:0,KMF:0,KPW:0,KRW:0,KWD:3,LAK:0,LBP:0,LUF:0,LYD:3,MGA:0,MGF:0,MMK:0,MNT:0,MRO:0,MUR:0,OMR:3,PKR:0,PYG:0,RSD:0,RWF:0,SLL:0,SOS:0,STD:0,SYP:0,TMM:0,TND:3,TRL:0,TZS:0,UGX:0,UZS:0,VND:0,VUV:0,XAF:0,XOF:0,XPF:0,YER:0,ZMK:0,ZWD:0};var _6ab={CHF:5};var _6ac=_6aa[code],_6ad=_6ab[code];if(typeof _6ac=="undefined"){_6ac=2;}if(typeof _6ad=="undefined"){_6ad=0;}return {places:_6ac,round:_6ad};};}if(!dojo._hasResource["dojo.currency"]){dojo._hasResource["dojo.currency"]=true;dojo.provide("dojo.currency");dojo.getObject("currency",true,dojo);dojo.currency._mixInDefaults=function(_6ae){_6ae=_6ae||{};_6ae.type="currency";var _6af=dojo.i18n.getLocalization("dojo.cldr","currency",_6ae.locale)||{};var iso=_6ae.currency;var data=dojo.cldr.monetary.getData(iso);dojo.forEach(["displayName","symbol","group","decimal"],function(prop){data[prop]=_6af[iso+"_"+prop];});data.fractional=[true,false];return dojo.mixin(data,_6ae);};dojo.currency.format=function(_6b0,_6b1){return dojo.number.format(_6b0,dojo.currency._mixInDefaults(_6b1));};dojo.currency.regexp=function(_6b2){return dojo.number.regexp(dojo.currency._mixInDefaults(_6b2));};dojo.currency.parse=function(_6b3,_6b4){return dojo.number.parse(_6b3,dojo.currency._mixInDefaults(_6b4));};}if(!dojo._hasResource["dijit.form.NumberTextBox"]){dojo._hasResource["dijit.form.NumberTextBox"]=true;dojo.provide("dijit.form.NumberTextBox");dojo.declare("dijit.form.NumberTextBoxMixin",null,{regExpGen:dojo.number.regexp,value:NaN,editOptions:{pattern:"#.######"},_formatter:dojo.number.format,_setConstraintsAttr:function(_6b5){var _6b6=typeof _6b5.places=="number"?_6b5.places:0;if(_6b6){_6b6++;}if(typeof _6b5.max!="number"){_6b5.max=9*Math.pow(10,15-_6b6);}if(typeof _6b5.min!="number"){_6b5.min=-9*Math.pow(10,15-_6b6);}this.inherited(arguments,[_6b5]);if(this.focusNode&&this.focusNode.value&&!isNaN(this.value)){this.set("value",this.value);}},_onFocus:function(){if(this.disabled){return;}var val=this.get("value");if(typeof val=="number"&&!isNaN(val)){var _6b7=this.format(val,this.constraints);if(_6b7!==undefined){this.textbox.value=_6b7;}}this.inherited(arguments);},format:function(_6b8,_6b9){var _6ba=String(_6b8);if(typeof _6b8!="number"){return _6ba;}if(isNaN(_6b8)){return "";}if(!("rangeCheck" in this&&this.rangeCheck(_6b8,_6b9))&&_6b9.exponent!==false&&/\de[-+]?\d/i.test(_6ba)){return _6ba;}if(this.editOptions&&this._focused){_6b9=dojo.mixin({},_6b9,this.editOptions);}return this._formatter(_6b8,_6b9);},_parser:dojo.number.parse,parse:function(_6bb,_6bc){var v=this._parser(_6bb,dojo.mixin({},_6bc,(this.editOptions&&this._focused)?this.editOptions:{}));if(this.editOptions&&this._focused&&isNaN(v)){v=this._parser(_6bb,_6bc);}return v;},_getDisplayedValueAttr:function(){var v=this.inherited(arguments);return isNaN(v)?this.textbox.value:v;},filter:function(_6bd){return (_6bd===null||_6bd===""||_6bd===undefined)?NaN:this.inherited(arguments);},serialize:function(_6be,_6bf){return (typeof _6be!="number"||isNaN(_6be))?"":this.inherited(arguments);},_setBlurValue:function(){var val=dojo.hitch(dojo.mixin({},this,{_focused:true}),"get")("value");this._setValueAttr(val,true);},_setValueAttr:function(_6c0,_6c1,_6c2){if(_6c0!==undefined&&_6c2===undefined){_6c2=String(_6c0);if(typeof _6c0=="number"){if(isNaN(_6c0)){_6c2="";}else{if(("rangeCheck" in this&&this.rangeCheck(_6c0,this.constraints))||this.constraints.exponent===false||!/\de[-+]?\d/i.test(_6c2)){_6c2=undefined;}}}else{if(!_6c0){_6c2="";_6c0=NaN;}else{_6c0=undefined;}}}this.inherited(arguments,[_6c0,_6c1,_6c2]);},_getValueAttr:function(){var v=this.inherited(arguments);if(isNaN(v)&&this.textbox.value!==""){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)&&(new RegExp("^"+dojo.number._realNumberRegexp(dojo.mixin({},this.constraints))+"$").test(this.textbox.value))){var n=Number(this.textbox.value);return isNaN(n)?undefined:n;}else{return undefined;}}else{return v;}},isValid:function(_6c3){if(!this._focused||this._isEmpty(this.textbox.value)){return this.inherited(arguments);}else{var v=this.get("value");if(!isNaN(v)&&this.rangeCheck(v,this.constraints)){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)){return true;}else{return this.inherited(arguments);}}else{return false;}}}});dojo.declare("dijit.form.NumberTextBox",[dijit.form.RangeBoundTextBox,dijit.form.NumberTextBoxMixin],{baseClass:"dijitTextBox dijitNumberTextBox"});}if(!dojo._hasResource["dijit.form.CurrencyTextBox"]){dojo._hasResource["dijit.form.CurrencyTextBox"]=true;dojo.provide("dijit.form.CurrencyTextBox");dojo.declare("dijit.form.CurrencyTextBox",dijit.form.NumberTextBox,{currency:"",baseClass:"dijitTextBox dijitCurrencyTextBox",regExpGen:function(_6c4){return "("+(this._focused?this.inherited(arguments,[dojo.mixin({},_6c4,this.editOptions)])+"|":"")+dojo.currency.regexp(_6c4)+")";},_formatter:dojo.currency.format,_parser:dojo.currency.parse,parse:function(_6c5,_6c6){var v=this.inherited(arguments);if(isNaN(v)&&/\d+/.test(_6c5)){v=dojo.hitch(dojo.mixin({},this,{_parser:dijit.form.NumberTextBox.prototype._parser}),"inherited")(arguments);}return v;},_setConstraintsAttr:function(_6c7){if(!_6c7.currency&&this.currency){_6c7.currency=this.currency;}this.inherited(arguments,[dojo.currency._mixInDefaults(dojo.mixin(_6c7,{exponent:false}))]);}});}if(!dojo._hasResource["dojo.cldr.supplemental"]){dojo._hasResource["dojo.cldr.supplemental"]=true;dojo.provide("dojo.cldr.supplemental");dojo.getObject("cldr.supplemental",true,dojo);dojo.cldr.supplemental.getFirstDayOfWeek=function(_6c8){var _6c9={mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,er:6,et:6,iq:6,ir:6,jo:6,ke:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,so:6,sy:6,tn:6,ye:6,ar:0,as:0,az:0,bw:0,ca:0,cn:0,fo:0,ge:0,gl:0,gu:0,hk:0,il:0,"in":0,jm:0,jp:0,kg:0,kr:0,la:0,mh:0,mn:0,mo:0,mp:0,mt:0,nz:0,ph:0,pk:0,sg:0,th:0,tt:0,tw:0,um:0,us:0,uz:0,vi:0,zw:0};var _6ca=dojo.cldr.supplemental._region(_6c8);var dow=_6c9[_6ca];return (dow===undefined)?1:dow;};dojo.cldr.supplemental._region=function(_6cb){_6cb=dojo.i18n.normalizeLocale(_6cb);var tags=_6cb.split("-");var _6cc=tags[1];if(!_6cc){_6cc={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[tags[0]];}else{if(_6cc.length==4){_6cc=tags[2];}}return _6cc;};dojo.cldr.supplemental.getWeekend=function(_6cd){var _6ce={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5};var _6cf={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6};var _6d0=dojo.cldr.supplemental._region(_6cd);var _6d1=_6ce[_6d0];var end=_6cf[_6d0];if(_6d1===undefined){_6d1=6;}if(end===undefined){end=0;}return {start:_6d1,end:end};};}if(!dojo._hasResource["dojo.date"]){dojo._hasResource["dojo.date"]=true;dojo.provide("dojo.date");dojo.getObject("date",true,dojo);dojo.date.getDaysInMonth=function(_6d2){var _6d3=_6d2.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_6d3==1&&dojo.date.isLeapYear(_6d2)){return 29;}return days[_6d3];};dojo.date.isLeapYear=function(_6d4){var year=_6d4.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};dojo.date.getTimezoneName=function(_6d5){var str=_6d5.toString();var tz="";var _6d6;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_6d6=str.match(pat))){tz=_6d6[1];}else{str=_6d5.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_6d6=str.match(pat))){tz=_6d6[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};dojo.date.compare=function(_6d7,_6d8,_6d9){_6d7=new Date(+_6d7);_6d8=new Date(+(_6d8||new Date()));if(_6d9=="date"){_6d7.setHours(0,0,0,0);_6d8.setHours(0,0,0,0);}else{if(_6d9=="time"){_6d7.setFullYear(0,0,0);_6d8.setFullYear(0,0,0);}}if(_6d7>_6d8){return 1;}if(_6d7<_6d8){return -1;}return 0;};dojo.date.add=function(date,_6da,_6db){var sum=new Date(+date);var _6dc=false;var _6dd="Date";switch(_6da){case "day":break;case "weekday":var days,_6de;var mod=_6db%5;if(!mod){days=(_6db>0)?5:-5;_6de=(_6db>0)?((_6db-5)/5):((_6db+5)/5);}else{days=mod;_6de=parseInt(_6db/5);}var strt=date.getDay();var adj=0;if(strt==6&&_6db>0){adj=1;}else{if(strt==0&&_6db<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_6db>0)?2:-2;}_6db=(7*_6de)+days+adj;break;case "year":_6dd="FullYear";_6dc=true;break;case "week":_6db*=7;break;case "quarter":_6db*=3;case "month":_6dc=true;_6dd="Month";break;default:_6dd="UTC"+_6da.charAt(0).toUpperCase()+_6da.substring(1)+"s";}if(_6dd){sum["set"+_6dd](sum["get"+_6dd]()+_6db);}if(_6dc&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};dojo.date.difference=function(_6df,_6e0,_6e1){_6e0=_6e0||new Date();_6e1=_6e1||"day";var _6e2=_6e0.getFullYear()-_6df.getFullYear();var _6e3=1;switch(_6e1){case "quarter":var m1=_6df.getMonth();var m2=_6e0.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_6e2*4);_6e3=q2-q1;break;case "weekday":var days=Math.round(dojo.date.difference(_6df,_6e0,"day"));var _6e4=parseInt(dojo.date.difference(_6df,_6e0,"week"));var mod=days%7;if(mod==0){days=_6e4*5;}else{var adj=0;var aDay=_6df.getDay();var bDay=_6e0.getDay();_6e4=parseInt(days/7);mod=days%7;var _6e5=new Date(_6df);_6e5.setDate(_6e5.getDate()+(_6e4*7));var _6e6=_6e5.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_6e6+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_6e6+mod)<0:adj=2;}}}days+=adj;days-=(_6e4*2);}_6e3=days;break;case "year":_6e3=_6e2;break;case "month":_6e3=(_6e0.getMonth()-_6df.getMonth())+(_6e2*12);break;case "week":_6e3=parseInt(dojo.date.difference(_6df,_6e0,"day")/7);break;case "day":_6e3/=24;case "hour":_6e3/=60;case "minute":_6e3/=60;case "second":_6e3/=1000;case "millisecond":_6e3*=_6e0.getTime()-_6df.getTime();}return Math.round(_6e3);};}if(!dojo._hasResource["dojo.date.locale"]){dojo._hasResource["dojo.date.locale"]=true;dojo.provide("dojo.date.locale");dojo.getObject("date.locale",true,dojo);(function(){function _6e7(_6e8,_6e9,_6ea,_6eb){return _6eb.replace(/([a-z])\1*/ig,function(_6ec){var s,pad,c=_6ec.charAt(0),l=_6ec.length,_6ed=["abbr","wide","narrow"];switch(c){case "G":s=_6e9[(l<4)?"eraAbbr":"eraNames"][_6e8.getFullYear()<0?0:1];break;case "y":s=_6e8.getFullYear();switch(l){case 1:break;case 2:if(!_6ea.fullYear){s=String(s);s=s.substr(s.length-2);break;}default:pad=true;}break;case "Q":case "q":s=Math.ceil((_6e8.getMonth()+1)/3);pad=true;break;case "M":var m=_6e8.getMonth();if(l<3){s=m+1;pad=true;}else{var _6ee=["months","format",_6ed[l-3]].join("-");s=_6e9[_6ee][m];}break;case "w":var _6ef=0;s=dojo.date.locale._getWeekOfYear(_6e8,_6ef);pad=true;break;case "d":s=_6e8.getDate();pad=true;break;case "D":s=dojo.date.locale._getDayOfYear(_6e8);pad=true;break;case "E":var d=_6e8.getDay();if(l<3){s=d+1;pad=true;}else{var _6f0=["days","format",_6ed[l-3]].join("-");s=_6e9[_6f0][d];}break;case "a":var _6f1=(_6e8.getHours()<12)?"am":"pm";s=_6ea[_6f1]||_6e9["dayPeriods-format-wide-"+_6f1];break;case "h":case "H":case "K":case "k":var h=_6e8.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_6e8.getMinutes();pad=true;break;case "s":s=_6e8.getSeconds();pad=true;break;case "S":s=Math.round(_6e8.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "v":case "z":s=dojo.date.locale._getZone(_6e8,true,_6ea);if(s){break;}l=4;case "Z":var _6f2=dojo.date.locale._getZone(_6e8,false,_6ea);var tz=[(_6f2<=0?"+":"-"),dojo.string.pad(Math.floor(Math.abs(_6f2)/60),2),dojo.string.pad(Math.abs(_6f2)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_6eb);}if(pad){s=dojo.string.pad(s,l);}return s;});};dojo.date.locale._getZone=function(_6f3,_6f4,_6f5){if(_6f4){return dojo.date.getTimezoneName(_6f3);}else{return _6f3.getTimezoneOffset();}};dojo.date.locale.format=function(_6f6,_6f7){_6f7=_6f7||{};var _6f8=dojo.i18n.normalizeLocale(_6f7.locale),_6f9=_6f7.formatLength||"short",_6fa=dojo.date.locale._getGregorianBundle(_6f8),str=[],_6fb=dojo.hitch(this,_6e7,_6f6,_6fa,_6f7);if(_6f7.selector=="year"){return _6fc(_6fa["dateFormatItem-yyyy"]||"yyyy",_6fb);}var _6fd;if(_6f7.selector!="date"){_6fd=_6f7.timePattern||_6fa["timeFormat-"+_6f9];if(_6fd){str.push(_6fc(_6fd,_6fb));}}if(_6f7.selector!="time"){_6fd=_6f7.datePattern||_6fa["dateFormat-"+_6f9];if(_6fd){str.push(_6fc(_6fd,_6fb));}}return str.length==1?str[0]:_6fa["dateTimeFormat-"+_6f9].replace(/\{(\d+)\}/g,function(_6fe,key){return str[key];});};dojo.date.locale.regexp=function(_6ff){return dojo.date.locale._parseInfo(_6ff).regexp;};dojo.date.locale._parseInfo=function(_700){_700=_700||{};var _701=dojo.i18n.normalizeLocale(_700.locale),_702=dojo.date.locale._getGregorianBundle(_701),_703=_700.formatLength||"short",_704=_700.datePattern||_702["dateFormat-"+_703],_705=_700.timePattern||_702["timeFormat-"+_703],_706;if(_700.selector=="date"){_706=_704;}else{if(_700.selector=="time"){_706=_705;}else{_706=_702["dateTimeFormat-"+_703].replace(/\{(\d+)\}/g,function(_707,key){return [_705,_704][key];});}}var _708=[],re=_6fc(_706,dojo.hitch(this,_709,_708,_702,_700));return {regexp:re,tokens:_708,bundle:_702};};dojo.date.locale.parse=function(_70a,_70b){var _70c=/[\u200E\u200F\u202A\u202E]/g,info=dojo.date.locale._parseInfo(_70b),_70d=info.tokens,_70e=info.bundle,re=new RegExp("^"+info.regexp.replace(_70c,"")+"$",info.strict?"":"i"),_70f=re.exec(_70a&&_70a.replace(_70c,""));if(!_70f){return null;}var _710=["abbr","wide","narrow"],_711=[1970,0,1,0,0,0,0],amPm="",_712=dojo.every(_70f,function(v,i){if(!i){return true;}var _713=_70d[i-1];var l=_713.length;switch(_713.charAt(0)){case "y":if(l!=2&&_70b.strict){_711[0]=v;}else{if(v<100){v=Number(v);var year=""+new Date().getFullYear(),_714=year.substring(0,2)*100,_715=Math.min(Number(year.substring(2,4))+20,99),num=(v<_715)?_714+v:_714-100+v;_711[0]=num;}else{if(_70b.strict){return false;}_711[0]=v;}}break;case "M":if(l>2){var _716=_70e["months-format-"+_710[l-3]].concat();if(!_70b.strict){v=v.replace(".","").toLowerCase();_716=dojo.map(_716,function(s){return s.replace(".","").toLowerCase();});}v=dojo.indexOf(_716,v);if(v==-1){return false;}}else{v--;}_711[1]=v;break;case "E":case "e":var days=_70e["days-format-"+_710[l-3]].concat();if(!_70b.strict){v=v.toLowerCase();days=dojo.map(days,function(d){return d.toLowerCase();});}v=dojo.indexOf(days,v);if(v==-1){return false;}break;case "D":_711[1]=0;case "d":_711[2]=v;break;case "a":var am=_70b.am||_70e["dayPeriods-format-wide-am"],pm=_70b.pm||_70e["dayPeriods-format-wide-pm"];if(!_70b.strict){var _717=/\./g;v=v.replace(_717,"").toLowerCase();am=am.replace(_717,"").toLowerCase();pm=pm.replace(_717,"").toLowerCase();}if(_70b.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return false;}_711[3]=v;break;case "m":_711[4]=v;break;case "s":_711[5]=v;break;case "S":_711[6]=v;}return true;});var _718=+_711[3];if(amPm==="p"&&_718<12){_711[3]=_718+12;}else{if(amPm==="a"&&_718==12){_711[3]=0;}}var _719=new Date(_711[0],_711[1],_711[2],_711[3],_711[4],_711[5],_711[6]);if(_70b.strict){_719.setFullYear(_711[0]);}var _71a=_70d.join(""),_71b=_71a.indexOf("d")!=-1,_71c=_71a.indexOf("M")!=-1;if(!_712||(_71c&&_719.getMonth()>_711[1])||(_71b&&_719.getDate()>_711[2])){return null;}if((_71c&&_719.getMonth()<_711[1])||(_71b&&_719.getDate()<_711[2])){_719=dojo.date.add(_719,"hour",1);}return _719;};function _6fc(_71d,_71e,_71f,_720){var _721=function(x){return x;};_71e=_71e||_721;_71f=_71f||_721;_720=_720||_721;var _722=_71d.match(/(''|[^'])+/g),_723=_71d.charAt(0)=="'";dojo.forEach(_722,function(_724,i){if(!_724){_722[i]="";}else{_722[i]=(_723?_71f:_71e)(_724.replace(/''/g,"'"));_723=!_723;}});return _720(_722.join(""));};function _709(_725,_726,_727,_728){_728=dojo.regexp.escapeString(_728);if(!_727.strict){_728=_728.replace(" a"," ?a");}return _728.replace(/([a-z])\1*/ig,function(_729){var s,c=_729.charAt(0),l=_729.length,p2="",p3="";if(_727.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":s=(l>2)?"\\S+?":"1[0-2]|"+p2+"[1-9]";break;case "D":s="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+p3+"[1-9][0-9]|"+p2+"[1-9]";break;case "d":s="3[01]|[12]\\d|"+p2+"[1-9]";break;case "w":s="[1-4][0-9]|5[0-3]|"+p2+"[1-9]";break;case "E":s="\\S+";break;case "h":s="1[0-2]|"+p2+"[1-9]";break;case "k":s="1[01]|"+p2+"\\d";break;case "H":s="1\\d|2[0-3]|"+p2+"\\d";break;case "K":s="1\\d|2[0-4]|"+p2+"[1-9]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_727.am||_726["dayPeriods-format-wide-am"],pm=_727.pm||_726["dayPeriods-format-wide-pm"];s=am+"|"+pm;if(!_727.strict){if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}if(s.indexOf(".")!=-1){s+="|"+s.replace(/\./g,"");}}s=s.replace(/\./g,"\\.");break;default:s=".*";}if(_725){_725.push(_729);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};})();(function(){var _72a=[];dojo.date.locale.addCustomFormats=function(_72b,_72c){_72a.push({pkg:_72b,name:_72c});};dojo.date.locale._getGregorianBundle=function(_72d){var _72e={};dojo.forEach(_72a,function(desc){var _72f=dojo.i18n.getLocalization(desc.pkg,desc.name,_72d);_72e=dojo.mixin(_72e,_72f);},this);return _72e;};})();dojo.date.locale.addCustomFormats("dojo.cldr","gregorian");dojo.date.locale.getNames=function(item,type,_730,_731){var _732,_733=dojo.date.locale._getGregorianBundle(_731),_734=[item,_730,type];if(_730=="standAlone"){var key=_734.join("-");_732=_733[key];if(_732[0]==1){_732=undefined;}}_734[1]="format";return (_732||_733[_734.join("-")]).concat();};dojo.date.locale.isWeekend=function(_735,_736){var _737=dojo.cldr.supplemental.getWeekend(_736),day=(_735||new Date()).getDay();if(_737.end<_737.start){_737.end+=7;if(day<_737.start){day+=7;}}return day>=_737.start&&day<=_737.end;};dojo.date.locale._getDayOfYear=function(_738){return dojo.date.difference(new Date(_738.getFullYear(),0,1,_738.getHours()),_738)+1;};dojo.date.locale._getWeekOfYear=function(_739,_73a){if(arguments.length==1){_73a=0;}var _73b=new Date(_739.getFullYear(),0,1).getDay(),adj=(_73b-_73a+7)%7,week=Math.floor((dojo.date.locale._getDayOfYear(_739)+adj-1)/7);if(_73b==_73a){week++;}return week;};}if(!dojo._hasResource["dijit.Calendar"]){dojo._hasResource["dijit.Calendar"]=true;dojo.provide("dijit.Calendar");dojo.declare("dijit.Calendar",[dijit._Widget,dijit._Templated,dijit._CssStateMixin],{templateString:dojo.cache("dijit","templates/Calendar.html","<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" dojoAttachEvent=\"onkeypress: _onKeyPress\" aria-labelledby=\"${id}_year\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' dojoAttachPoint=\"decrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\n\t\t\t\t<span dojoAttachPoint=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\">\n\t\t\t\t<div dojoType=\"dijit.form.DropDownButton\" dojoAttachPoint=\"monthDropDownButton\"\n\t\t\t\t\tid=\"${id}_mddb\" tabIndex=\"-1\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' dojoAttachPoint=\"incrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\n\t\t\t\t<span dojoAttachPoint=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\"><span class=\"dijitCalendarDayLabel\"></span></th>\n\t\t</tr>\n\t</thead>\n\t<tbody dojoAttachEvent=\"onclick: _onDayClick, onmouseover: _onDayMouseOver, onmouseout: _onDayMouseOut, onmousedown: _onDayMouseDown, onmouseup: _onDayMouseUp\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">\n\t\t\t<td class=\"dijitReset dijitCalendarDateTemplate\" role=\"gridcell\"><span class=\"dijitCalendarDateLabel\"></span></td>\n\t\t</tr>\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\">\n\t\t\t\t<h3 class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span dojoAttachPoint=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\"></span>\n\t\t\t\t\t<span dojoAttachPoint=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span dojoAttachPoint=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\"></span>\n\t\t\t\t</h3>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n"),widgetsInTemplate:true,value:new Date(""),datePackage:"dojo.date",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date(),baseClass:"dijitCalendar",cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},_isValidDate:function(_73c){return _73c&&!isNaN(_73c)&&typeof _73c=="object"&&_73c.toString()!=this.constructor.prototype.value.toString();},setValue:function(_73d){dojo.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",_73d);},_getValueAttr:function(){var _73e=new this.dateClassObj(this.value);_73e.setHours(0,0,0,0);if(_73e.getDate()<this.value.getDate()){_73e=this.dateFuncObj.add(_73e,"hour",1);}return _73e;},_setValueAttr:function(_73f,_740){if(_73f){_73f=new this.dateClassObj(_73f);}if(this._isValidDate(_73f)){if(!this._isValidDate(this.value)||this.dateFuncObj.compare(_73f,this.value)){_73f.setHours(1,0,0,0);if(!this.isDisabledDate(_73f,this.lang)){this._set("value",_73f);this.set("currentFocus",_73f);if(_740||typeof _740=="undefined"){this.onChange(this.get("value"));this.onValueSelected(this.get("value"));}}}}else{this._set("value",null);this.set("currentFocus",this.currentFocus);}},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(dojo.doc.createTextNode(text));},_populateGrid:function(){var _741=new this.dateClassObj(this.currentFocus);_741.setDate(1);var _742=_741.getDay(),_743=this.dateFuncObj.getDaysInMonth(_741),_744=this.dateFuncObj.getDaysInMonth(this.dateFuncObj.add(_741,"month",-1)),_745=new this.dateClassObj(),_746=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);if(_746>_742){_746-=7;}dojo.query(".dijitCalendarDateTemplate",this.domNode).forEach(function(_747,i){i+=_746;var date=new this.dateClassObj(_741),_748,_749="dijitCalendar",adj=0;if(i<_742){_748=_744-_742+i+1;adj=-1;_749+="Previous";}else{if(i>=(_742+_743)){_748=i-_742-_743+1;adj=1;_749+="Next";}else{_748=i-_742+1;_749+="Current";}}if(adj){date=this.dateFuncObj.add(date,"month",adj);}date.setDate(_748);if(!this.dateFuncObj.compare(date,_745,"date")){_749="dijitCalendarCurrentDate "+_749;}if(this._isSelectedDate(date,this.lang)){_749="dijitCalendarSelectedDate "+_749;}if(this.isDisabledDate(date,this.lang)){_749="dijitCalendarDisabledDate "+_749;}var _74a=this.getClassForDate(date,this.lang);if(_74a){_749=_74a+" "+_749;}_747.className=_749+"Month dijitCalendarDateTemplate";_747.dijitDateValue=date.valueOf();dojo.attr(_747,"dijitDateValue",date.valueOf());var _74b=dojo.query(".dijitCalendarDateLabel",_747)[0],text=date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate();this._setText(_74b,text);},this);var _74c=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_741);this.monthDropDownButton.dropDown.set("months",_74c);this.monthDropDownButton.containerNode.innerHTML=(dojo.isIE==6?"":"<div class='dijitSpacer'>"+this.monthDropDownButton.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_74c[_741.getMonth()]+"</div>";var y=_741.getFullYear()-1;var d=new this.dateClassObj();dojo.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);},goToToday:function(){this.set("value",new this.dateClassObj());},constructor:function(args){var _74d=(args.datePackage&&(args.datePackage!="dojo.date"))?args.datePackage+".Date":"Date";this.dateClassObj=dojo.getObject(_74d,false);this.datePackage=args.datePackage||this.datePackage;this.dateFuncObj=dojo.getObject(this.datePackage,false);this.dateLocaleModule=dojo.getObject(this.datePackage+".locale",false);},postMixInProperties:function(){if(isNaN(this.value)){delete this.value;}this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);dojo.setSelectable(this.domNode,false);var _74e=dojo.hitch(this,function(_74f,n){var _750=dojo.query(_74f,this.domNode)[0];for(var i=0;i<n;i++){_750.parentNode.appendChild(_750.cloneNode(true));}});_74e(".dijitCalendarDayLabelTemplate",6);_74e(".dijitCalendarDateTemplate",6);_74e(".dijitCalendarWeekTemplate",5);var _751=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang);var _752=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);dojo.query(".dijitCalendarDayLabel",this.domNode).forEach(function(_753,i){this._setText(_753,_751[(i+_752)%7]);},this);var _754=new this.dateClassObj(this.currentFocus);this.monthDropDownButton.dropDown=new dijit.Calendar._MonthDropDown({id:this.id+"_mdd",onChange:dojo.hitch(this,"_onMonthSelect")});this.set("currentFocus",_754,false);var _755=this;var _756=function(_757,_758,adj){_755._connects.push(dijit.typematic.addMouseListener(_755[_757],_755,function(_759){if(_759>=0){_755._adjustDisplay(_758,adj);}},0.8,500));};_756("incrementMonth","month",1);_756("decrementMonth","month",-1);_756("nextYearLabelNode","year",1);_756("previousYearLabelNode","year",-1);},_adjustDisplay:function(part,_75a){this._setCurrentFocusAttr(this.dateFuncObj.add(this.currentFocus,part,_75a));},_setCurrentFocusAttr:function(date,_75b){var _75c=this.currentFocus,_75d=_75c?dojo.query("[dijitDateValue="+_75c.valueOf()+"]",this.domNode)[0]:null;date=new this.dateClassObj(date);date.setHours(1,0,0,0);this._set("currentFocus",date);this._populateGrid();var _75e=dojo.query("[dijitDateValue="+date.valueOf()+"]",this.domNode)[0];_75e.setAttribute("tabIndex",this.tabIndex);if(this._focused||_75b){_75e.focus();}if(_75d&&_75d!=_75e){if(dojo.isWebKit){_75d.setAttribute("tabIndex","-1");}else{_75d.removeAttribute("tabIndex");}}},focus:function(){this._setCurrentFocusAttr(this.currentFocus,true);},_onMonthSelect:function(_75f){this.currentFocus=this.dateFuncObj.add(this.currentFocus,"month",_75f-this.currentFocus.getMonth());this._populateGrid();},_onDayClick:function(evt){dojo.stopEvent(evt);for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!dojo.hasClass(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_onDayMouseOver:function(evt){var node=dojo.hasClass(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&(node.dijitDateValue||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){dojo.addClass(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}var cls="dijitCalendarHoveredDate";if(dojo.hasClass(this._currentNode,"dijitCalendarActiveDate")){cls+=" dijitCalendarActiveDate";}dojo.removeClass(this._currentNode,cls);this._currentNode=null;},_onDayMouseDown:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){dojo.addClass(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){dojo.removeClass(node,"dijitCalendarActiveDate");}},handleKey:function(evt){var dk=dojo.keys,_760=-1,_761,_762=this.currentFocus;switch(evt.keyCode){case dk.RIGHT_ARROW:_760=1;case dk.LEFT_ARROW:_761="day";if(!this.isLeftToRight()){_760*=-1;}break;case dk.DOWN_ARROW:_760=1;case dk.UP_ARROW:_761="week";break;case dk.PAGE_DOWN:_760=1;case dk.PAGE_UP:_761=evt.ctrlKey||evt.altKey?"year":"month";break;case dk.END:_762=this.dateFuncObj.add(_762,"month",1);_761="day";case dk.HOME:_762=new this.dateClassObj(_762);_762.setDate(1);break;case dk.ENTER:case dk.SPACE:this.set("value",this.currentFocus);break;default:return true;}if(_761){_762=this.dateFuncObj.add(_762,_761,_760);}this._setCurrentFocusAttr(_762);return false;},_onKeyPress:function(evt){if(!this.handleKey(evt)){dojo.stopEvent(evt);}},onValueSelected:function(date){},onChange:function(date){},_isSelectedDate:function(_763,_764){return this._isValidDate(this.value)&&!this.dateFuncObj.compare(_763,this.value,"date");},isDisabledDate:function(_765,_766){},getClassForDate:function(_767,_768){}});dojo.declare("dijit.Calendar._MonthDropDown",[dijit._Widget,dijit._Templated],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' "+"dojoAttachEvent='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(_769){this.domNode.innerHTML=dojo.map(_769,function(_76a,idx){return _76a?"<div class='dijitCalendarMonthLabel' month='"+idx+"'>"+_76a+"</div>":"";}).join("");},_onClick:function(evt){this.onChange(dojo.attr(evt.target,"month"));},onChange:function(_76b){},_onMenuHover:function(evt){dojo.toggleClass(evt.target,"dijitCalendarMonthLabelHover",evt.type=="mouseover");}});}if(!dojo._hasResource["dijit.form._DateTimeTextBox"]){dojo._hasResource["dijit.form._DateTimeTextBox"]=true;dojo.provide("dijit.form._DateTimeTextBox");new Date("X");dojo.declare("dijit.form._DateTimeTextBox",[dijit.form.RangeBoundTextBox,dijit._HasDropDown],{templateString:dojo.cache("dijit.form","templates/DropDownBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdojoAttachPoint=\"_buttonNode, _popupStateNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\n\t/></div\n></div>\n"),hasDownArrow:true,openOnClick:true,regExpGen:dojo.date.locale.regexp,datePackage:"dojo.date",compare:function(val1,val2){var _76c=this._isInvalidDate(val1);var _76d=this._isInvalidDate(val2);return _76c?(_76d?0:-1):(_76d?1:dojo.date.compare(val1,val2,this._selector));},forceWidth:true,format:function(_76e,_76f){if(!_76e){return "";}return this.dateLocaleModule.format(_76e,_76f);},"parse":function(_770,_771){return this.dateLocaleModule.parse(_770,_771)||(this._isEmpty(_770)?null:undefined);},serialize:function(val,_772){if(val.toGregorian){val=val.toGregorian();}return dojo.date.stamp.toISOString(val,_772);},dropDownDefaultValue:new Date(),value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(args){var _773=args.datePackage?args.datePackage+".Date":"Date";this.dateClassObj=dojo.getObject(_773,false);this.value=new this.dateClassObj("");this.datePackage=args.datePackage||this.datePackage;this.dateLocaleModule=dojo.getObject(this.datePackage+".locale",false);this.regExpGen=this.dateLocaleModule.regexp;this._invalidDate=dijit.form._DateTimeTextBox.prototype.value.toString();},buildRendering:function(){this.inherited(arguments);if(!this.hasDownArrow){this._buttonNode.style.display="none";}if(this.openOnClick||!this.hasDownArrow){this._buttonNode=this.domNode;this.baseClass+=" dijitComboBoxOpenOnClick";}},_setConstraintsAttr:function(_774){_774.selector=this._selector;_774.fullYear=true;var _775=dojo.date.stamp.fromISOString;if(typeof _774.min=="string"){_774.min=_775(_774.min);}if(typeof _774.max=="string"){_774.max=_775(_774.max);}this.inherited(arguments);},_isInvalidDate:function(_776){return !_776||isNaN(_776)||typeof _776!="object"||_776.toString()==this._invalidDate;},_setValueAttr:function(_777,_778,_779){if(_777!==undefined){if(typeof _777=="string"){_777=dojo.date.stamp.fromISOString(_777);}if(this._isInvalidDate(_777)){_777=null;}if(_777 instanceof Date&&!(this.dateClassObj instanceof Date)){_777=new this.dateClassObj(_777);}}this.inherited(arguments);if(this.dropDown){this.dropDown.set("value",_777,false);}},_set:function(attr,_77a){if(attr=="value"&&this.value instanceof Date&&this.compare(_77a,this.value)==0){return;}this.inherited(arguments);},_setDropDownDefaultValueAttr:function(val){if(this._isInvalidDate(val)){val=new this.dateClassObj();}this.dropDownDefaultValue=val;},openDropDown:function(_77b){if(this.dropDown){this.dropDown.destroy();}var _77c=dojo.getObject(this.popupClass,false),_77d=this,_77e=this.get("value");this.dropDown=new _77c({onChange:function(_77f){dijit.form._DateTimeTextBox.superclass._setValueAttr.call(_77d,_77f,true);},id:this.id+"_popup",dir:_77d.dir,lang:_77d.lang,value:_77e,currentFocus:!this._isInvalidDate(_77e)?_77e:this.dropDownDefaultValue,constraints:_77d.constraints,filterString:_77d.filterString,datePackage:_77d.datePackage,isDisabledDate:function(date){return !_77d.rangeCheck(date,_77d.constraints);}});this.inherited(arguments);},_getDisplayedValueAttr:function(){return this.textbox.value;},_setDisplayedValueAttr:function(_780,_781){this._setValueAttr(this.parse(_780,this.constraints),_781,_780);}});}if(!dojo._hasResource["dijit.form.DateTextBox"]){dojo._hasResource["dijit.form.DateTextBox"]=true;dojo.provide("dijit.form.DateTextBox");dojo.declare("dijit.form.DateTextBox",dijit.form._DateTimeTextBox,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:"dijit.Calendar",_selector:"date",value:new Date("")});}if(!dojo._hasResource["dijit.form._Spinner"]){dojo._hasResource["dijit.form._Spinner"]=true;dojo.provide("dijit.form._Spinner");dojo.declare("dijit.form._Spinner",dijit.form.RangeBoundTextBox,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:dojo.cache("dijit.form","templates/Spinner.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdojoAttachPoint=\"upArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650;\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdojoAttachPoint=\"downArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660;\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935;\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' dojoAttachPoint=\"textbox,focusNode\" type=\"${type}\" dojoAttachEvent=\"onkeypress:_onKeyPress\"\n\t\t\trole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\n\t/></div\n></div>\n"),baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{"upArrowNode":"dijitUpArrowButton","downArrowNode":"dijitDownArrowButton"},adjust:function(val,_782){return val;},_arrowPressed:function(_783,_784,_785){if(this.disabled||this.readOnly){return;}this._setValueAttr(this.adjust(this.get("value"),_784*_785),false);dijit.selectInputText(this.textbox,this.textbox.value.length);},_arrowReleased:function(node){this._wheelTimer=null;if(this.disabled||this.readOnly){return;}},_typematicCallback:function(_786,node,evt){var inc=this.smallDelta;if(node==this.textbox){var k=dojo.keys;var key=evt.charOrCode;inc=(key==k.PAGE_UP||key==k.PAGE_DOWN)?this.largeDelta:this.smallDelta;node=(key==k.UP_ARROW||key==k.PAGE_UP)?this.upArrowNode:this.downArrowNode;}if(_786==-1){this._arrowReleased(node);}else{this._arrowPressed(node,(node==this.upArrowNode)?1:-1,inc);}},_wheelTimer:null,_mouseWheeled:function(evt){dojo.stopEvent(evt);var _787=evt.detail?(evt.detail*-1):(evt.wheelDelta/120);if(_787!==0){var node=this[(_787>0?"upArrowNode":"downArrowNode")];this._arrowPressed(node,_787,this.smallDelta);if(!this._wheelTimer){clearTimeout(this._wheelTimer);}this._wheelTimer=setTimeout(dojo.hitch(this,"_arrowReleased",node),50);}},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,!dojo.isMozilla?"onmousewheel":"DOMMouseScroll","_mouseWheeled");this._connects.push(dijit.typematic.addListener(this.upArrowNode,this.textbox,{charOrCode:dojo.keys.UP_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));this._connects.push(dijit.typematic.addListener(this.downArrowNode,this.textbox,{charOrCode:dojo.keys.DOWN_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));this._connects.push(dijit.typematic.addListener(this.upArrowNode,this.textbox,{charOrCode:dojo.keys.PAGE_UP,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));this._connects.push(dijit.typematic.addListener(this.downArrowNode,this.textbox,{charOrCode:dojo.keys.PAGE_DOWN,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));}});}if(!dojo._hasResource["dijit.form.NumberSpinner"]){dojo._hasResource["dijit.form.NumberSpinner"]=true;dojo.provide("dijit.form.NumberSpinner");dojo.declare("dijit.form.NumberSpinner",[dijit.form._Spinner,dijit.form.NumberTextBoxMixin],{adjust:function(val,_788){var tc=this.constraints,v=isNaN(val),_789=!isNaN(tc.max),_78a=!isNaN(tc.min);if(v&&_788!=0){val=(_788>0)?_78a?tc.min:_789?tc.max:0:_789?this.constraints.max:_78a?tc.min:0;}var _78b=val+_788;if(v||isNaN(_78b)){return val;}if(_789&&(_78b>tc.max)){_78b=tc.max;}if(_78a&&(_78b<tc.min)){_78b=tc.min;}return _78b;},_onKeyPress:function(e){if((e.charOrCode==dojo.keys.HOME||e.charOrCode==dojo.keys.END)&&!(e.ctrlKey||e.altKey||e.metaKey)&&typeof this.get("value")!="undefined"){var _78c=this.constraints[(e.charOrCode==dojo.keys.HOME?"min":"max")];if(typeof _78c=="number"){this._setValueAttr(_78c,false);}dojo.stopEvent(e);}}});}if(!dojo._hasResource["dijit.form.MultiSelect"]){dojo._hasResource["dijit.form.MultiSelect"]=true;dojo.provide("dijit.form.MultiSelect");dojo.declare("dijit.form.MultiSelect",dijit.form._FormValueWidget,{size:7,templateString:"<select multiple='true' ${!nameAttrSetting} dojoAttachPoint='containerNode,focusNode' dojoAttachEvent='onchange: _onChange'></select>",attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{size:"focusNode"}),reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},addSelected:function(_78d){_78d.getSelected().forEach(function(n){this.containerNode.appendChild(n);this.domNode.scrollTop=this.domNode.offsetHeight;var _78e=_78d.domNode.scrollTop;_78d.domNode.scrollTop=0;_78d.domNode.scrollTop=_78e;},this);},getSelected:function(){return dojo.query("option",this.containerNode).filter(function(n){return n.selected;});},_getValueAttr:function(){return this.getSelected().map(function(n){return n.value;});},multiple:true,_setValueAttr:function(_78f){dojo.query("option",this.containerNode).forEach(function(n){n.selected=(dojo.indexOf(_78f,n.value)!=-1);});},invertSelection:function(_790){dojo.query("option",this.containerNode).forEach(function(n){n.selected=!n.selected;});this._handleOnChange(this.get("value"),_790==true);},_onChange:function(e){this._handleOnChange(this.get("value"),true);},resize:function(size){if(size){dojo.marginBox(this.domNode,size);}},postCreate:function(){this._onChange();}});}if(!dojo._hasResource["dijit.form.HorizontalSlider"]){dojo._hasResource["dijit.form.HorizontalSlider"]=true;dojo.provide("dijit.form.HorizontalSlider");dojo.declare("dijit.form.HorizontalSlider",[dijit.form._FormValueWidget,dijit._Container],{templateString:dojo.cache("dijit.form","templates/HorizontalSlider.html","<table class=\"dijit dijitReset dijitSlider dijitSliderH\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" rules=\"none\" dojoAttachEvent=\"onkeypress:_onKeyPress,onkeyup:_onKeyUp\"\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t\t><td dojoAttachPoint=\"topDecoration\" class=\"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH\"></td\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH\"\n\t\t\t><div class=\"dijitSliderDecrementIconH\" style=\"display:none\" dojoAttachPoint=\"decrementButton\"><span class=\"dijitSliderButtonInner\">-</span></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper\" dojoAttachEvent=\"onmousedown:_onClkDecBumper\"></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><input dojoAttachPoint=\"valueNode\" type=\"hidden\" ${!nameAttrSetting}\n\t\t\t/><div class=\"dijitReset dijitSliderBarContainerH\" role=\"presentation\" dojoAttachPoint=\"sliderBarContainer\"\n\t\t\t\t><div role=\"presentation\" dojoAttachPoint=\"progressBar\" class=\"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH\" dojoAttachEvent=\"onmousedown:_onBarClick\"\n\t\t\t\t\t><div class=\"dijitSliderMoveable dijitSliderMoveableH\"\n\t\t\t\t\t\t><div dojoAttachPoint=\"sliderHandle,focusNode\" class=\"dijitSliderImageHandle dijitSliderImageHandleH\" dojoAttachEvent=\"onmousedown:_onHandleClick\" role=\"slider\" valuemin=\"${minimum}\" valuemax=\"${maximum}\"></div\n\t\t\t\t\t></div\n\t\t\t\t></div\n\t\t\t\t><div role=\"presentation\" dojoAttachPoint=\"remainingBar\" class=\"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH\" dojoAttachEvent=\"onmousedown:_onBarClick\"></div\n\t\t\t></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper\" dojoAttachEvent=\"onmousedown:_onClkIncBumper\"></div\n\t\t></td\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH\"\n\t\t\t><div class=\"dijitSliderIncrementIconH\" style=\"display:none\" dojoAttachPoint=\"incrementButton\"><span class=\"dijitSliderButtonInner\">+</span></div\n\t\t></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t\t><td dojoAttachPoint=\"containerNode,bottomDecoration\" class=\"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH\"></td\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t></tr\n></table>\n"),value:0,showButtons:true,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:true,slideDuration:dijit.defaultDuration,widgetsInTemplate:true,attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{id:""}),baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_startingPixelCount:"l",_handleOffsetCoord:"left",_progressPixelSize:"width",_onKeyUp:function(e){if(this.disabled||this.readOnly||e.altKey||e.ctrlKey||e.metaKey){return;}this._setValueAttr(this.value,true);},_onKeyPress:function(e){if(this.disabled||this.readOnly||e.altKey||e.ctrlKey||e.metaKey){return;}switch(e.charOrCode){case dojo.keys.HOME:this._setValueAttr(this.minimum,false);break;case dojo.keys.END:this._setValueAttr(this.maximum,false);break;case ((this._descending||this.isLeftToRight())?dojo.keys.RIGHT_ARROW:dojo.keys.LEFT_ARROW):case (this._descending===false?dojo.keys.DOWN_ARROW:dojo.keys.UP_ARROW):case (this._descending===false?dojo.keys.PAGE_DOWN:dojo.keys.PAGE_UP):this.increment(e);break;case ((this._descending||this.isLeftToRight())?dojo.keys.LEFT_ARROW:dojo.keys.RIGHT_ARROW):case (this._descending===false?dojo.keys.UP_ARROW:dojo.keys.DOWN_ARROW):case (this._descending===false?dojo.keys.PAGE_UP:dojo.keys.PAGE_DOWN):this.decrement(e);break;default:return;}dojo.stopEvent(e);},_onHandleClick:function(e){if(this.disabled||this.readOnly){return;}if(!dojo.isIE){dijit.focus(this.sliderHandle);}dojo.stopEvent(e);},_isReversed:function(){return !this.isLeftToRight();},_onBarClick:function(e){if(this.disabled||this.readOnly||!this.clickSelect){return;}dijit.focus(this.sliderHandle);dojo.stopEvent(e);var _791=dojo.position(this.sliderBarContainer,true);var _792=e[this._mousePixelCoord]-_791[this._startingPixelCoord];this._setPixelValue(this._isReversed()?(_791[this._pixelCount]-_792):_792,_791[this._pixelCount],true);this._movable.onMouseDown(e);},_setPixelValue:function(_793,_794,_795){if(this.disabled||this.readOnly){return;}_793=_793<0?0:_794<_793?_794:_793;var _796=this.discreteValues;if(_796<=1||_796==Infinity){_796=_794;}_796--;var _797=_794/_796;var _798=Math.round(_793/_797);this._setValueAttr((this.maximum-this.minimum)*_798/_796+this.minimum,_795);},_setValueAttr:function(_799,_79a){this._set("value",_799);this.valueNode.value=_799;dijit.setWaiState(this.focusNode,"valuenow",_799);this.inherited(arguments);var _79b=(_799-this.minimum)/(this.maximum-this.minimum);var _79c=(this._descending===false)?this.remainingBar:this.progressBar;var _79d=(this._descending===false)?this.progressBar:this.remainingBar;if(this._inProgressAnim&&this._inProgressAnim.status!="stopped"){this._inProgressAnim.stop(true);}if(_79a&&this.slideDuration>0&&_79c.style[this._progressPixelSize]){var _79e=this;var _79f={};var _7a0=parseFloat(_79c.style[this._progressPixelSize]);var _7a1=this.slideDuration*(_79b-_7a0/100);if(_7a1==0){return;}if(_7a1<0){_7a1=0-_7a1;}_79f[this._progressPixelSize]={start:_7a0,end:_79b*100,units:"%"};this._inProgressAnim=dojo.animateProperty({node:_79c,duration:_7a1,onAnimate:function(v){_79d.style[_79e._progressPixelSize]=(100-parseFloat(v[_79e._progressPixelSize]))+"%";},onEnd:function(){delete _79e._inProgressAnim;},properties:_79f});this._inProgressAnim.play();}else{_79c.style[this._progressPixelSize]=(_79b*100)+"%";_79d.style[this._progressPixelSize]=((1-_79b)*100)+"%";}},_bumpValue:function(_7a2,_7a3){if(this.disabled||this.readOnly){return;}var s=dojo.getComputedStyle(this.sliderBarContainer);var c=dojo._getContentBox(this.sliderBarContainer,s);var _7a4=this.discreteValues;if(_7a4<=1||_7a4==Infinity){_7a4=c[this._pixelCount];}_7a4--;var _7a5=(this.value-this.minimum)*_7a4/(this.maximum-this.minimum)+_7a2;if(_7a5<0){_7a5=0;}if(_7a5>_7a4){_7a5=_7a4;}_7a5=_7a5*(this.maximum-this.minimum)/_7a4+this.minimum;this._setValueAttr(_7a5,_7a3);},_onClkBumper:function(val){if(this.disabled||this.readOnly||!this.clickSelect){return;}this._setValueAttr(val,true);},_onClkIncBumper:function(){this._onClkBumper(this._descending===false?this.minimum:this.maximum);},_onClkDecBumper:function(){this._onClkBumper(this._descending===false?this.maximum:this.minimum);},decrement:function(e){this._bumpValue(e.charOrCode==dojo.keys.PAGE_DOWN?-this.pageIncrement:-1);},increment:function(e){this._bumpValue(e.charOrCode==dojo.keys.PAGE_UP?this.pageIncrement:1);},_mouseWheeled:function(evt){dojo.stopEvent(evt);var _7a6=!dojo.isMozilla;var _7a7=evt[(_7a6?"wheelDelta":"detail")]*(_7a6?1:-1);this._bumpValue(_7a7<0?-1:1,true);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_7a8){if(this[_7a8.container]!=this.containerNode){this[_7a8.container].appendChild(_7a8.domNode);}},this);this.inherited(arguments);},_typematicCallback:function(_7a9,_7aa,e){if(_7a9==-1){this._setValueAttr(this.value,true);}else{this[(_7aa==(this._descending?this.incrementButton:this.decrementButton))?"decrement":"increment"](e);}},buildRendering:function(){this.inherited(arguments);if(this.showButtons){this.incrementButton.style.display="";this.decrementButton.style.display="";}var _7ab=dojo.query("label[for=\""+this.id+"\"]");if(_7ab.length){_7ab[0].id=(this.id+"_label");dijit.setWaiState(this.focusNode,"labelledby",_7ab[0].id);}dijit.setWaiState(this.focusNode,"valuemin",this.minimum);dijit.setWaiState(this.focusNode,"valuemax",this.maximum);},postCreate:function(){this.inherited(arguments);if(this.showButtons){this._connects.push(dijit.typematic.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500));this._connects.push(dijit.typematic.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500));}this.connect(this.domNode,!dojo.isMozilla?"onmousewheel":"DOMMouseScroll","_mouseWheeled");var _7ac=dojo.declare(dijit.form._SliderMover,{widget:this});this._movable=new dojo.dnd.Moveable(this.sliderHandle,{mover:_7ac});this._layoutHackIE7();},destroy:function(){this._movable.destroy();if(this._inProgressAnim&&this._inProgressAnim.status!="stopped"){this._inProgressAnim.stop(true);}this._supportingWidgets=dijit.findWidgets(this.domNode);this.inherited(arguments);}});dojo.declare("dijit.form._SliderMover",dojo.dnd.Mover,{onMouseMove:function(e){var _7ad=this.widget;var _7ae=_7ad._abspos;if(!_7ae){_7ae=_7ad._abspos=dojo.position(_7ad.sliderBarContainer,true);_7ad._setPixelValue_=dojo.hitch(_7ad,"_setPixelValue");_7ad._isReversed_=_7ad._isReversed();}var _7af=e.touches?e.touches[0]:e,_7b0=_7af[_7ad._mousePixelCoord]-_7ae[_7ad._startingPixelCoord];_7ad._setPixelValue_(_7ad._isReversed_?(_7ae[_7ad._pixelCount]-_7b0):_7b0,_7ae[_7ad._pixelCount],false);},destroy:function(e){dojo.dnd.Mover.prototype.destroy.apply(this,arguments);var _7b1=this.widget;_7b1._abspos=null;_7b1._setValueAttr(_7b1.value,true);}});}if(!dojo._hasResource["dijit.form.VerticalSlider"]){dojo._hasResource["dijit.form.VerticalSlider"]=true;dojo.provide("dijit.form.VerticalSlider");dojo.declare("dijit.form.VerticalSlider",dijit.form.HorizontalSlider,{templateString:dojo.cache("dijit.form","templates/VerticalSlider.html","<table class=\"dijit dijitReset dijitSlider dijitSliderV\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" rules=\"none\" dojoAttachEvent=\"onkeypress:_onKeyPress,onkeyup:_onKeyUp\"\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\"></td\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV\"\n\t\t\t><div class=\"dijitSliderIncrementIconV\" style=\"display:none\" dojoAttachPoint=\"decrementButton\"><span class=\"dijitSliderButtonInner\">+</span></div\n\t\t></td\n\t\t><td class=\"dijitReset\"></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\"></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><center><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderTopBumper\" dojoAttachEvent=\"onmousedown:_onClkIncBumper\"></div></center\n\t\t></td\n\t\t><td class=\"dijitReset\"></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td dojoAttachPoint=\"leftDecoration\" class=\"dijitReset dijitSliderDecoration dijitSliderDecorationL dijitSliderDecorationV\"></td\n\t\t><td class=\"dijitReset dijitSliderDecorationC\" style=\"height:100%;\"\n\t\t\t><input dojoAttachPoint=\"valueNode\" type=\"hidden\" ${!nameAttrSetting}\n\t\t\t/><center class=\"dijitReset dijitSliderBarContainerV\" role=\"presentation\" dojoAttachPoint=\"sliderBarContainer\"\n\t\t\t\t><div role=\"presentation\" dojoAttachPoint=\"remainingBar\" class=\"dijitSliderBar dijitSliderBarV dijitSliderRemainingBar dijitSliderRemainingBarV\" dojoAttachEvent=\"onmousedown:_onBarClick\"><!--#5629--></div\n\t\t\t\t><div role=\"presentation\" dojoAttachPoint=\"progressBar\" class=\"dijitSliderBar dijitSliderBarV dijitSliderProgressBar dijitSliderProgressBarV\" dojoAttachEvent=\"onmousedown:_onBarClick\"\n\t\t\t\t\t><div class=\"dijitSliderMoveable dijitSliderMoveableV\" style=\"vertical-align:top;\"\n\t\t\t\t\t\t><div dojoAttachPoint=\"sliderHandle,focusNode\" class=\"dijitSliderImageHandle dijitSliderImageHandleV\" dojoAttachEvent=\"onmousedown:_onHandleClick\" role=\"slider\" valuemin=\"${minimum}\" valuemax=\"${maximum}\"></div\n\t\t\t\t\t></div\n\t\t\t\t></div\n\t\t\t></center\n\t\t></td\n\t\t><td dojoAttachPoint=\"containerNode,rightDecoration\" class=\"dijitReset dijitSliderDecoration dijitSliderDecorationR dijitSliderDecorationV\"></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\"></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><center><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderBottomBumper\" dojoAttachEvent=\"onmousedown:_onClkDecBumper\"></div></center\n\t\t></td\n\t\t><td class=\"dijitReset\"></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\"></td\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV\"\n\t\t\t><div class=\"dijitSliderDecrementIconV\" style=\"display:none\" dojoAttachPoint=\"incrementButton\"><span class=\"dijitSliderButtonInner\">-</span></div\n\t\t></td\n\t\t><td class=\"dijitReset\"></td\n\t></tr\n></table>\n"),_mousePixelCoord:"pageY",_pixelCount:"h",_startingPixelCoord:"y",_startingPixelCount:"t",_handleOffsetCoord:"top",_progressPixelSize:"height",_descending:true,_isReversed:function(){return this._descending;}});}if(!dojo._hasResource["dijit.form.HorizontalRule"]){dojo._hasResource["dijit.form.HorizontalRule"]=true;dojo.provide("dijit.form.HorizontalRule");dojo.declare("dijit.form.HorizontalRule",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dijitRuleContainer dijitRuleContainerH\"></div>",count:3,container:"containerNode",ruleStyle:"",_positionPrefix:"<div class=\"dijitRuleMark dijitRuleMarkH\" style=\"left:",_positionSuffix:"%;",_suffix:"\"></div>",_genHTML:function(pos,ndx){return this._positionPrefix+pos+this._positionSuffix+this.ruleStyle+this._suffix;},_isHorizontal:true,buildRendering:function(){this.inherited(arguments);var _7b2;if(this.count==1){_7b2=this._genHTML(50,0);}else{var i;var _7b3=100/(this.count-1);if(!this._isHorizontal||this.isLeftToRight()){_7b2=this._genHTML(0,0);for(i=1;i<this.count-1;i++){_7b2+=this._genHTML(_7b3*i,i);}_7b2+=this._genHTML(100,this.count-1);}else{_7b2=this._genHTML(100,0);for(i=1;i<this.count-1;i++){_7b2+=this._genHTML(100-_7b3*i,i);}_7b2+=this._genHTML(0,this.count-1);}}this.domNode.innerHTML=_7b2;}});}if(!dojo._hasResource["dijit.form.VerticalRule"]){dojo._hasResource["dijit.form.VerticalRule"]=true;dojo.provide("dijit.form.VerticalRule");dojo.declare("dijit.form.VerticalRule",dijit.form.HorizontalRule,{templateString:"<div class=\"dijitRuleContainer dijitRuleContainerV\"></div>",_positionPrefix:"<div class=\"dijitRuleMark dijitRuleMarkV\" style=\"top:",_isHorizontal:false});}if(!dojo._hasResource["dijit.form.HorizontalRuleLabels"]){dojo._hasResource["dijit.form.HorizontalRuleLabels"]=true;dojo.provide("dijit.form.HorizontalRuleLabels");dojo.declare("dijit.form.HorizontalRuleLabels",dijit.form.HorizontalRule,{templateString:"<div class=\"dijitRuleContainer dijitRuleContainerH dijitRuleLabelsContainer dijitRuleLabelsContainerH\"></div>",labelStyle:"",labels:[],numericMargin:0,minimum:0,maximum:1,constraints:{pattern:"#%"},_positionPrefix:"<div class=\"dijitRuleLabelContainer dijitRuleLabelContainerH\" style=\"left:",_labelPrefix:"\"><div class=\"dijitRuleLabel dijitRuleLabelH\">",_suffix:"</div></div>",_calcPosition:function(pos){return pos;},_genHTML:function(pos,ndx){return this._positionPrefix+this._calcPosition(pos)+this._positionSuffix+this.labelStyle+this._labelPrefix+this.labels[ndx]+this._suffix;},getLabels:function(){var _7b4=this.labels;if(!_7b4.length){_7b4=dojo.query("> li",this.srcNodeRef).map(function(node){return String(node.innerHTML);});}this.srcNodeRef.innerHTML="";if(!_7b4.length&&this.count>1){var _7b5=this.minimum;var inc=(this.maximum-_7b5)/(this.count-1);for(var i=0;i<this.count;i++){_7b4.push((i<this.numericMargin||i>=(this.count-this.numericMargin))?"":dojo.number.format(_7b5,this.constraints));_7b5+=inc;}}return _7b4;},postMixInProperties:function(){this.inherited(arguments);this.labels=this.getLabels();this.count=this.labels.length;}});}if(!dojo._hasResource["dijit.form.VerticalRuleLabels"]){dojo._hasResource["dijit.form.VerticalRuleLabels"]=true;dojo.provide("dijit.form.VerticalRuleLabels");dojo.declare("dijit.form.VerticalRuleLabels",dijit.form.HorizontalRuleLabels,{templateString:"<div class=\"dijitRuleContainer dijitRuleContainerV dijitRuleLabelsContainer dijitRuleLabelsContainerV\"></div>",_positionPrefix:"<div class=\"dijitRuleLabelContainer dijitRuleLabelContainerV\" style=\"top:",_labelPrefix:"\"><span class=\"dijitRuleLabel dijitRuleLabelV\">",_calcPosition:function(pos){return 100-pos;},_isHorizontal:false});}if(!dojo._hasResource["dijit.form.SimpleTextarea"]){dojo._hasResource["dijit.form.SimpleTextarea"]=true;dojo.provide("dijit.form.SimpleTextarea");dojo.declare("dijit.form.SimpleTextarea",dijit.form.TextBox,{baseClass:"dijitTextBox dijitTextArea",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{rows:"textbox",cols:"textbox"}),rows:"3",cols:"20",templateString:"<textarea ${!nameAttrSetting} dojoAttachPoint='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function(){if(!this.value&&this.srcNodeRef){this.value=this.srcNodeRef.value;}this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);if(dojo.isIE&&this.cols){dojo.addClass(this.textbox,"dijitTextAreaCols");}},filter:function(_7b6){if(_7b6){_7b6=_7b6.replace(/\r/g,"");}return this.inherited(arguments);},_previousValue:"",_onInput:function(e){if(this.maxLength){var _7b7=parseInt(this.maxLength);var _7b8=this.textbox.value.replace(/\r/g,"");var _7b9=_7b8.length-_7b7;if(_7b9>0){if(e){dojo.stopEvent(e);}var _7ba=this.textbox;if(_7ba.selectionStart){var pos=_7ba.selectionStart;var cr=0;if(dojo.isOpera){cr=(this.textbox.value.substring(0,pos).match(/\r/g)||[]).length;}this.textbox.value=_7b8.substring(0,pos-_7b9-cr)+_7b8.substring(pos-cr);_7ba.setSelectionRange(pos-_7b9,pos-_7b9);}else{if(dojo.doc.selection){_7ba.focus();var _7bb=dojo.doc.selection.createRange();_7bb.moveStart("character",-_7b9);_7bb.text="";_7bb.select();}}}this._previousValue=this.textbox.value;}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form.Textarea"]){dojo._hasResource["dijit.form.Textarea"]=true;dojo.provide("dijit.form.Textarea");dojo.declare("dijit.form.Textarea",dijit.form.SimpleTextarea,{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",_previousNewlines:0,_strictMode:(dojo.doc.compatMode!="BackCompat"),_getHeight:function(_7bc){var newH=_7bc.scrollHeight;if(dojo.isIE){newH+=_7bc.offsetHeight-_7bc.clientHeight-((dojo.isIE<8&&this._strictMode)?dojo._getPadBorderExtents(_7bc).h:0);}else{if(dojo.isMoz){newH+=_7bc.offsetHeight-_7bc.clientHeight;}else{if(dojo.isWebKit){newH+=dojo._getBorderExtents(_7bc).h;}else{newH+=dojo._getPadBorderExtents(_7bc).h;}}}return newH;},_estimateHeight:function(_7bd){_7bd.style.maxHeight="";_7bd.style.height="auto";_7bd.rows=(_7bd.value.match(/\n/g)||[]).length+1;},_needsHelpShrinking:dojo.isMoz||dojo.isWebKit,_onInput:function(){this.inherited(arguments);if(this._busyResizing){return;}this._busyResizing=true;var _7be=this.textbox;if(_7be.scrollHeight&&_7be.offsetHeight&&_7be.clientHeight){var newH=this._getHeight(_7be)+"px";if(_7be.style.height!=newH){_7be.style.maxHeight=_7be.style.height=newH;}if(this._needsHelpShrinking){if(this._setTimeoutHandle){clearTimeout(this._setTimeoutHandle);}this._setTimeoutHandle=setTimeout(dojo.hitch(this,"_shrink"),0);}}else{this._estimateHeight(_7be);}this._busyResizing=false;},_busyResizing:false,_shrink:function(){this._setTimeoutHandle=null;if(this._needsHelpShrinking&&!this._busyResizing){this._busyResizing=true;var _7bf=this.textbox;var _7c0=false;if(_7bf.value==""){_7bf.value=" ";_7c0=true;}var _7c1=_7bf.scrollHeight;if(!_7c1){this._estimateHeight(_7bf);}else{var _7c2=_7bf.style.paddingBottom;var _7c3=dojo._getPadExtents(_7bf);_7c3=_7c3.h-_7c3.t;_7bf.style.paddingBottom=_7c3+1+"px";var newH=this._getHeight(_7bf)-1+"px";if(_7bf.style.maxHeight!=newH){_7bf.style.paddingBottom=_7c3+_7c1+"px";_7bf.scrollTop=0;_7bf.style.maxHeight=this._getHeight(_7bf)-_7c1+"px";}_7bf.style.paddingBottom=_7c2;}if(_7c0){_7bf.value="";}this._busyResizing=false;}},resize:function(){this._onInput();},_setValueAttr:function(){this.inherited(arguments);this.resize();},buildRendering:function(){this.inherited(arguments);dojo.style(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});},postCreate:function(){this.inherited(arguments);this.connect(this.textbox,"onscroll","_onInput");this.connect(this.textbox,"onresize","_onInput");this.connect(this.textbox,"onfocus","_onInput");this._setTimeoutHandle=setTimeout(dojo.hitch(this,"resize"),0);},uninitialize:function(){if(this._setTimeoutHandle){clearTimeout(this._setTimeoutHandle);}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.layout.StackController"]){dojo._hasResource["dijit.layout.StackController"]=true;dojo.provide("dijit.layout.StackController");dojo.declare("dijit.layout.StackController",[dijit._Widget,dijit._Templated,dijit._Container],{templateString:"<span role='tablist' dojoAttachEvent='onkeypress' class='dijitStackController'></span>",containerId:"",buttonWidget:"dijit.layout._StackButton",constructor:function(){this.pane2button={};this.pane2connects={};this.pane2watches={};},buildRendering:function(){this.inherited(arguments);dijit.setWaiRole(this.domNode,"tablist");},postCreate:function(){this.inherited(arguments);this.subscribe(this.containerId+"-startup","onStartup");this.subscribe(this.containerId+"-addChild","onAddChild");this.subscribe(this.containerId+"-removeChild","onRemoveChild");this.subscribe(this.containerId+"-selectChild","onSelectChild");this.subscribe(this.containerId+"-containerKeyPress","onContainerKeyPress");},onStartup:function(info){dojo.forEach(info.children,this.onAddChild,this);if(info.selected){this.onSelectChild(info.selected);}},destroy:function(){for(var pane in this.pane2button){this.onRemoveChild(dijit.byId(pane));}this.inherited(arguments);},onAddChild:function(page,_7c4){var cls=dojo.getObject(this.buttonWidget);var _7c5=new cls({id:this.id+"_"+page.id,label:page.title,dir:page.dir,lang:page.lang,showLabel:page.showTitle,iconClass:page.iconClass,closeButton:page.closable,title:page.tooltip});dijit.setWaiState(_7c5.focusNode,"selected","false");var _7c6=["title","showTitle","iconClass","closable","tooltip"],_7c7=["label","showLabel","iconClass","closeButton","title"];this.pane2watches[page.id]=dojo.map(_7c6,function(_7c8,idx){return page.watch(_7c8,function(name,_7c9,_7ca){_7c5.set(_7c7[idx],_7ca);});});this.pane2connects[page.id]=[this.connect(_7c5,"onClick",dojo.hitch(this,"onButtonClick",page)),this.connect(_7c5,"onClickCloseButton",dojo.hitch(this,"onCloseButtonClick",page))];this.addChild(_7c5,_7c4);this.pane2button[page.id]=_7c5;page.controlButton=_7c5;if(!this._currentChild){_7c5.focusNode.setAttribute("tabIndex","0");dijit.setWaiState(_7c5.focusNode,"selected","true");this._currentChild=page;}if(!this.isLeftToRight()&&dojo.isIE&&this._rectifyRtlTabList){this._rectifyRtlTabList();}},onRemoveChild:function(page){if(this._currentChild===page){this._currentChild=null;}dojo.forEach(this.pane2connects[page.id],dojo.hitch(this,"disconnect"));delete this.pane2connects[page.id];dojo.forEach(this.pane2watches[page.id],function(w){w.unwatch();});delete this.pane2watches[page.id];var _7cb=this.pane2button[page.id];if(_7cb){this.removeChild(_7cb);delete this.pane2button[page.id];_7cb.destroy();}delete page.controlButton;},onSelectChild:function(page){if(!page){return;}if(this._currentChild){var _7cc=this.pane2button[this._currentChild.id];_7cc.set("checked",false);dijit.setWaiState(_7cc.focusNode,"selected","false");_7cc.focusNode.setAttribute("tabIndex","-1");}var _7cd=this.pane2button[page.id];_7cd.set("checked",true);dijit.setWaiState(_7cd.focusNode,"selected","true");this._currentChild=page;_7cd.focusNode.setAttribute("tabIndex","0");var _7ce=dijit.byId(this.containerId);dijit.setWaiState(_7ce.containerNode,"labelledby",_7cd.id);},onButtonClick:function(page){var _7cf=dijit.byId(this.containerId);_7cf.selectChild(page);},onCloseButtonClick:function(page){var _7d0=dijit.byId(this.containerId);_7d0.closeChild(page);if(this._currentChild){var b=this.pane2button[this._currentChild.id];if(b){dijit.focus(b.focusNode||b.domNode);}}},adjacent:function(_7d1){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){_7d1=!_7d1;}var _7d2=this.getChildren();var _7d3=dojo.indexOf(_7d2,this.pane2button[this._currentChild.id]);var _7d4=_7d1?1:_7d2.length-1;return _7d2[(_7d3+_7d4)%_7d2.length];},onkeypress:function(e){if(this.disabled||e.altKey){return;}var _7d5=null;if(e.ctrlKey||!e._djpage){var k=dojo.keys;switch(e.charOrCode){case k.LEFT_ARROW:case k.UP_ARROW:if(!e._djpage){_7d5=false;}break;case k.PAGE_UP:if(e.ctrlKey){_7d5=false;}break;case k.RIGHT_ARROW:case k.DOWN_ARROW:if(!e._djpage){_7d5=true;}break;case k.PAGE_DOWN:if(e.ctrlKey){_7d5=true;}break;case k.HOME:case k.END:var _7d6=this.getChildren();if(_7d6&&_7d6.length){_7d6[e.charOrCode==k.HOME?0:_7d6.length-1].onClick();}dojo.stopEvent(e);break;case k.DELETE:if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}dojo.stopEvent(e);break;default:if(e.ctrlKey){if(e.charOrCode===k.TAB){this.adjacent(!e.shiftKey).onClick();dojo.stopEvent(e);}else{if(e.charOrCode=="w"){if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}dojo.stopEvent(e);}}}}if(_7d5!==null){this.adjacent(_7d5).onClick();dojo.stopEvent(e);}}},onContainerKeyPress:function(info){info.e._djpage=info.page;this.onkeypress(info.e);}});dojo.declare("dijit.layout._StackButton",dijit.form.ToggleButton,{tabIndex:"-1",buildRendering:function(evt){this.inherited(arguments);dijit.setWaiRole((this.focusNode||this.domNode),"tab");},onClick:function(evt){dijit.focus(this.focusNode);},onClickCloseButton:function(evt){evt.stopPropagation();}});}if(!dojo._hasResource["dijit.layout.StackContainer"]){dojo._hasResource["dijit.layout.StackContainer"]=true;dojo.provide("dijit.layout.StackContainer");dojo.declare("dijit.layout.StackContainer",dijit.layout._LayoutWidget,{doLayout:true,persist:false,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitLayoutContainer");dijit.setWaiRole(this.containerNode,"tabpanel");},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onkeypress",this._onKeyPress);},startup:function(){if(this._started){return;}var _7d7=this.getChildren();dojo.forEach(_7d7,this._setupChild,this);if(this.persist){this.selectedChildWidget=dijit.byId(dojo.cookie(this.id+"_selectedChild"));}else{dojo.some(_7d7,function(_7d8){if(_7d8.selected){this.selectedChildWidget=_7d8;}return _7d8.selected;},this);}var _7d9=this.selectedChildWidget;if(!_7d9&&_7d7[0]){_7d9=this.selectedChildWidget=_7d7[0];_7d9.selected=true;}dojo.publish(this.id+"-startup",[{children:_7d7,selected:_7d9}]);this.inherited(arguments);},resize:function(){var _7da=this.selectedChildWidget;if(_7da&&!this._hasBeenShown){this._hasBeenShown=true;this._showChild(_7da);}this.inherited(arguments);},_setupChild:function(_7db){this.inherited(arguments);dojo.replaceClass(_7db.domNode,"dijitHidden","dijitVisible");_7db.domNode.title="";},addChild:function(_7dc,_7dd){this.inherited(arguments);if(this._started){dojo.publish(this.id+"-addChild",[_7dc,_7dd]);this.layout();if(!this.selectedChildWidget){this.selectChild(_7dc);}}},removeChild:function(page){this.inherited(arguments);if(this._started){dojo.publish(this.id+"-removeChild",[page]);}if(this._beingDestroyed){return;}if(this.selectedChildWidget===page){this.selectedChildWidget=undefined;if(this._started){var _7de=this.getChildren();if(_7de.length){this.selectChild(_7de[0]);}}}if(this._started){this.layout();}},selectChild:function(page,_7df){page=dijit.byId(page);if(this.selectedChildWidget!=page){var d=this._transition(page,this.selectedChildWidget,_7df);this._set("selectedChildWidget",page);dojo.publish(this.id+"-selectChild",[page]);if(this.persist){dojo.cookie(this.id+"_selectedChild",this.selectedChildWidget.id);}}return d;},_transition:function(_7e0,_7e1,_7e2){if(_7e1){this._hideChild(_7e1);}var d=this._showChild(_7e0);if(_7e0.resize){if(this.doLayout){_7e0.resize(this._containerContentBox||this._contentBox);}else{_7e0.resize();}}return d;},_adjacent:function(_7e3){var _7e4=this.getChildren();var _7e5=dojo.indexOf(_7e4,this.selectedChildWidget);_7e5+=_7e3?1:_7e4.length-1;return _7e4[_7e5%_7e4.length];},forward:function(){return this.selectChild(this._adjacent(true),true);},back:function(){return this.selectChild(this._adjacent(false),true);},_onKeyPress:function(e){dojo.publish(this.id+"-containerKeyPress",[{e:e,page:this}]);},layout:function(){if(this.doLayout&&this.selectedChildWidget&&this.selectedChildWidget.resize){this.selectedChildWidget.resize(this._containerContentBox||this._contentBox);}},_showChild:function(page){var _7e6=this.getChildren();page.isFirstChild=(page==_7e6[0]);page.isLastChild=(page==_7e6[_7e6.length-1]);page._set("selected",true);dojo.replaceClass(page.domNode,"dijitVisible","dijitHidden");return page._onShow()||true;},_hideChild:function(page){page._set("selected",false);dojo.replaceClass(page.domNode,"dijitHidden","dijitVisible");page.onHide();},closeChild:function(page){var _7e7=page.onClose(this,page);if(_7e7){this.removeChild(page);page.destroyRecursive();}},destroyDescendants:function(_7e8){dojo.forEach(this.getChildren(),function(_7e9){this.removeChild(_7e9);_7e9.destroyRecursive(_7e8);},this);}});dojo.extend(dijit._Widget,{selected:false,closable:false,iconClass:"",showTitle:true});}if(!dojo._hasResource["dijit.layout.AccordionPane"]){dojo._hasResource["dijit.layout.AccordionPane"]=true;dojo.provide("dijit.layout.AccordionPane");dojo.declare("dijit.layout.AccordionPane",dijit.layout.ContentPane,{constructor:function(){dojo.deprecated("dijit.layout.AccordionPane deprecated, use ContentPane instead","","2.0");},onSelected:function(){}});}if(!dojo._hasResource["dijit.layout.AccordionContainer"]){dojo._hasResource["dijit.layout.AccordionContainer"]=true;dojo.provide("dijit.layout.AccordionContainer");dojo.declare("dijit.layout.AccordionContainer",dijit.layout.StackContainer,{duration:dijit.defaultDuration,buttonWidget:"dijit.layout._AccordionButton",baseClass:"dijitAccordionContainer",buildRendering:function(){this.inherited(arguments);this.domNode.style.overflow="hidden";dijit.setWaiRole(this.domNode,"tablist");},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.selectedChildWidget){var _7ea=this.selectedChildWidget.containerNode.style;_7ea.display="";_7ea.overflow="auto";this.selectedChildWidget._wrapperWidget.set("selected",true);}},layout:function(){var _7eb=this.selectedChildWidget;if(!_7eb){return;}var _7ec=_7eb._wrapperWidget.domNode,_7ed=dojo._getMarginExtents(_7ec),_7ee=dojo._getPadBorderExtents(_7ec),_7ef=_7eb._wrapperWidget.containerNode,_7f0=dojo._getMarginExtents(_7ef),_7f1=dojo._getPadBorderExtents(_7ef),_7f2=this._contentBox;var _7f3=0;dojo.forEach(this.getChildren(),function(_7f4){if(_7f4!=_7eb){_7f3+=dojo._getMarginSize(_7f4._wrapperWidget.domNode).h;}});this._verticalSpace=_7f2.h-_7f3-_7ed.h-_7ee.h-_7f0.h-_7f1.h-_7eb._buttonWidget.getTitleHeight();this._containerContentBox={h:this._verticalSpace,w:this._contentBox.w-_7ed.w-_7ee.w-_7f0.w-_7f1.w};if(_7eb){_7eb.resize(this._containerContentBox);}},_setupChild:function(_7f5){_7f5._wrapperWidget=new dijit.layout._AccordionInnerContainer({contentWidget:_7f5,buttonWidget:this.buttonWidget,id:_7f5.id+"_wrapper",dir:_7f5.dir,lang:_7f5.lang,parent:this});this.inherited(arguments);},addChild:function(_7f6,_7f7){if(this._started){dojo.place(_7f6.domNode,this.containerNode,_7f7);if(!_7f6._started){_7f6.startup();}this._setupChild(_7f6);dojo.publish(this.id+"-addChild",[_7f6,_7f7]);this.layout();if(!this.selectedChildWidget){this.selectChild(_7f6);}}else{this.inherited(arguments);}},removeChild:function(_7f8){if(_7f8._wrapperWidget){dojo.place(_7f8.domNode,_7f8._wrapperWidget.domNode,"after");_7f8._wrapperWidget.destroy();delete _7f8._wrapperWidget;}dojo.removeClass(_7f8.domNode,"dijitHidden");this.inherited(arguments);},getChildren:function(){return dojo.map(this.inherited(arguments),function(_7f9){return _7f9.declaredClass=="dijit.layout._AccordionInnerContainer"?_7f9.contentWidget:_7f9;},this);},destroy:function(){if(this._animation){this._animation.stop();}dojo.forEach(this.getChildren(),function(_7fa){if(_7fa._wrapperWidget){_7fa._wrapperWidget.destroy();}else{_7fa.destroyRecursive();}});this.inherited(arguments);},_showChild:function(_7fb){_7fb._wrapperWidget.containerNode.style.display="block";return this.inherited(arguments);},_hideChild:function(_7fc){_7fc._wrapperWidget.containerNode.style.display="none";this.inherited(arguments);},_transition:function(_7fd,_7fe,_7ff){if(dojo.isIE<8){_7ff=false;}if(this._animation){this._animation.stop(true);delete this._animation;}var self=this;if(_7fd){_7fd._wrapperWidget.set("selected",true);var d=this._showChild(_7fd);if(this.doLayout&&_7fd.resize){_7fd.resize(this._containerContentBox);}}if(_7fe){_7fe._wrapperWidget.set("selected",false);if(!_7ff){this._hideChild(_7fe);}}if(_7ff){var _800=_7fd._wrapperWidget.containerNode,_801=_7fe._wrapperWidget.containerNode;var _802=_7fd._wrapperWidget.containerNode,_803=dojo._getMarginExtents(_802),_804=dojo._getPadBorderExtents(_802),_805=_803.h+_804.h;_801.style.height=(self._verticalSpace-_805)+"px";this._animation=new dojo.Animation({node:_800,duration:this.duration,curve:[1,this._verticalSpace-_805-1],onAnimate:function(_806){_806=Math.floor(_806);_800.style.height=_806+"px";_801.style.height=(self._verticalSpace-_805-_806)+"px";},onEnd:function(){delete self._animation;_800.style.height="auto";_7fe._wrapperWidget.containerNode.style.display="none";_801.style.height="auto";self._hideChild(_7fe);}});this._animation.onStop=this._animation.onEnd;this._animation.play();}return d;},_onKeyPress:function(e,_807){if(this.disabled||e.altKey||!(_807||e.ctrlKey)){return;}var k=dojo.keys,c=e.charOrCode;if((_807&&(c==k.LEFT_ARROW||c==k.UP_ARROW))||(e.ctrlKey&&c==k.PAGE_UP)){this._adjacent(false)._buttonWidget._onTitleClick();dojo.stopEvent(e);}else{if((_807&&(c==k.RIGHT_ARROW||c==k.DOWN_ARROW))||(e.ctrlKey&&(c==k.PAGE_DOWN||c==k.TAB))){this._adjacent(true)._buttonWidget._onTitleClick();dojo.stopEvent(e);}}}});dojo.declare("dijit.layout._AccordionInnerContainer",[dijit._Widget,dijit._CssStateMixin],{baseClass:"dijitAccordionInnerContainer",isContainer:true,isLayoutContainer:true,buildRendering:function(){this.domNode=dojo.place("<div class='"+this.baseClass+"'>",this.contentWidget.domNode,"after");var _808=this.contentWidget,cls=dojo.getObject(this.buttonWidget);this.button=_808._buttonWidget=(new cls({contentWidget:_808,label:_808.title,title:_808.tooltip,dir:_808.dir,lang:_808.lang,iconClass:_808.iconClass,id:_808.id+"_button",parent:this.parent})).placeAt(this.domNode);this.containerNode=dojo.place("<div class='dijitAccordionChildWrapper' style='display:none'>",this.domNode);dojo.place(this.contentWidget.domNode,this.containerNode);},postCreate:function(){this.inherited(arguments);var _809=this.button;this._contentWidgetWatches=[this.contentWidget.watch("title",dojo.hitch(this,function(name,_80a,_80b){_809.set("label",_80b);})),this.contentWidget.watch("tooltip",dojo.hitch(this,function(name,_80c,_80d){_809.set("title",_80d);})),this.contentWidget.watch("iconClass",dojo.hitch(this,function(name,_80e,_80f){_809.set("iconClass",_80f);}))];},_setSelectedAttr:function(_810){this._set("selected",_810);this.button.set("selected",_810);if(_810){var cw=this.contentWidget;if(cw.onSelected){cw.onSelected();}}},startup:function(){this.contentWidget.startup();},destroy:function(){this.button.destroyRecursive();dojo.forEach(this._contentWidgetWatches||[],function(w){w.unwatch();});delete this.contentWidget._buttonWidget;delete this.contentWidget._wrapperWidget;this.inherited(arguments);},destroyDescendants:function(){this.contentWidget.destroyRecursive();}});dojo.declare("dijit.layout._AccordionButton",[dijit._Widget,dijit._Templated,dijit._CssStateMixin],{templateString:dojo.cache("dijit.layout","templates/AccordionButton.html","<div dojoAttachEvent='onclick:_onTitleClick' class='dijitAccordionTitle'>\n\t<div dojoAttachPoint='titleNode,focusNode' dojoAttachEvent='onkeypress:_onTitleKeyPress'\n\t\t\tclass='dijitAccordionTitleFocus' role=\"tab\" aria-expanded=\"false\"\n\t\t><span class='dijitInline dijitAccordionArrow' role=\"presentation\"></span\n\t\t><span class='arrowTextUp' role=\"presentation\">+</span\n\t\t><span class='arrowTextDown' role=\"presentation\">-</span\n\t\t><img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon\" dojoAttachPoint='iconNode' style=\"vertical-align: middle\" role=\"presentation\"/>\n\t\t<span role=\"presentation\" dojoAttachPoint='titleTextNode' class='dijitAccordionText'></span>\n\t</div>\n</div>\n"),attributeMap:dojo.mixin(dojo.clone(dijit.layout.ContentPane.prototype.attributeMap),{label:{node:"titleTextNode",type:"innerHTML"},title:{node:"titleTextNode",type:"attribute",attribute:"title"},iconClass:{node:"iconNode",type:"class"}}),baseClass:"dijitAccordionTitle",getParent:function(){return this.parent;},buildRendering:function(){this.inherited(arguments);var _811=this.id.replace(" ","_");dojo.attr(this.titleTextNode,"id",_811+"_title");dijit.setWaiState(this.focusNode,"labelledby",dojo.attr(this.titleTextNode,"id"));dojo.setSelectable(this.domNode,false);},getTitleHeight:function(){return dojo._getMarginSize(this.domNode).h;},_onTitleClick:function(){var _812=this.getParent();_812.selectChild(this.contentWidget,true);dijit.focus(this.focusNode);},_onTitleKeyPress:function(evt){return this.getParent()._onKeyPress(evt,this.contentWidget);},_setSelectedAttr:function(_813){this._set("selected",_813);dijit.setWaiState(this.focusNode,"expanded",_813);dijit.setWaiState(this.focusNode,"selected",_813);this.focusNode.setAttribute("tabIndex",_813?"0":"-1");}});}if(!dojo._hasResource["dijit.layout.BorderContainer"]){dojo._hasResource["dijit.layout.BorderContainer"]=true;dojo.provide("dijit.layout.BorderContainer");dojo.declare("dijit.layout.BorderContainer",dijit.layout._LayoutWidget,{design:"headline",gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:"dijit.layout._Splitter",postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(_814){var _815=_814.region;if(_815){this.inherited(arguments);dojo.addClass(_814.domNode,this.baseClass+"Pane");var ltr=this.isLeftToRight();if(_815=="leading"){_815=ltr?"left":"right";}if(_815=="trailing"){_815=ltr?"right":"left";}if(_815!="center"&&(_814.splitter||this.gutters)&&!_814._splitterWidget){var _816=dojo.getObject(_814.splitter?this._splitterClass:"dijit.layout._Gutter");var _817=new _816({id:_814.id+"_splitter",container:this,child:_814,region:_815,live:this.liveSplitters});_817.isSplitter=true;_814._splitterWidget=_817;dojo.place(_817.domNode,_814.domNode,"after");_817.startup();}_814.region=_815;}},layout:function(){this._layoutChildren();},addChild:function(_818,_819){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(_81a){var _81b=_81a.region;var _81c=_81a._splitterWidget;if(_81c){_81c.destroy();delete _81a._splitterWidget;}this.inherited(arguments);if(this._started){this._layoutChildren();}dojo.removeClass(_81a.domNode,this.baseClass+"Pane");dojo.style(_81a.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});dojo.style(_81a.domNode,_81b=="top"||_81b=="bottom"?"width":"height","auto");},getChildren:function(){return dojo.filter(this.inherited(arguments),function(_81d){return !_81d.isSplitter;});},getSplitter:function(_81e){return dojo.filter(this.getChildren(),function(_81f){return _81f.region==_81e;})[0]._splitterWidget;},resize:function(_820,_821){if(!this.cs||!this.pe){var node=this.domNode;this.cs=dojo.getComputedStyle(node);this.pe=dojo._getPadExtents(node,this.cs);this.pe.r=dojo._toPixelValue(node,this.cs.paddingRight);this.pe.b=dojo._toPixelValue(node,this.cs.paddingBottom);dojo.style(node,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_822,_823){if(!this._borderBox||!this._borderBox.h){return;}var _824=dojo.map(this.getChildren(),function(_825,idx){return {pane:_825,weight:[_825.region=="center"?Infinity:0,_825.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(_825.region)?1:-1),idx]};},this);_824.sort(function(a,b){var aw=a.weight,bw=b.weight;for(var i=0;i<aw.length;i++){if(aw[i]!=bw[i]){return aw[i]-bw[i];}}return 0;});var _826=[];dojo.forEach(_824,function(_827){var pane=_827.pane;_826.push(pane);if(pane._splitterWidget){_826.push(pane._splitterWidget);}});var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};dijit.layout.layoutChildren(this.domNode,dim,_826,_822,_823);},destroyRecursive:function(){dojo.forEach(this.getChildren(),function(_828){var _829=_828._splitterWidget;if(_829){_829.destroy();}delete _828._splitterWidget;});this.inherited(arguments);}});dojo.extend(dijit._Widget,{region:"",layoutPriority:0,splitter:false,minSize:0,maxSize:Infinity});dojo.declare("dijit.layout._Splitter",[dijit._Widget,dijit._Templated],{live:true,templateString:"<div class=\"dijitSplitter\" dojoAttachEvent=\"onkeypress:_onKeyPress,onmousedown:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;},buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var _82a=dojo.cookie(this._cookieName);if(_82a){this.child.domNode.style[this.horizontal?"height":"width"]=_82a;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_82b=dojo.marginBox(this.child.domNode)[dim],_82c=dojo.filter(this.container.getChildren(),function(_82d){return _82d.region=="center";})[0],_82e=dojo.marginBox(_82c.domNode)[dim];return Math.min(this.child.maxSize,_82b+_82e);},_startDrag:function(e){if(!this.cover){this.cover=dojo.doc.createElement("div");dojo.addClass(this.cover,"dijitSplitterCover");dojo.place(this.cover,this.child.domNode,"after");}dojo.addClass(this.cover,"dijitSplitterCoverActive");if(this.fake){dojo.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");dojo.addClass(this.domNode,"dijitSplitterShadow");dojo.place(this.fake,this.domNode,"after");}dojo.addClass(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){dojo.removeClass(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _82f=this._factor,_830=this.horizontal,axis=_830?"pageY":"pageX",_831=e[axis],_832=this.domNode.style,dim=_830?"h":"w",_833=dojo.marginBox(this.child.domNode)[dim],max=this._computeMaxSize(),min=this.child.minSize||20,_834=this.region,_835=_834=="top"||_834=="bottom"?"top":"left",_836=parseInt(_832[_835],10),_837=this._resize,_838=dojo.hitch(this.container,"_layoutChildren",this.child.id),de=dojo.doc;this._handlers=(this._handlers||[]).concat([dojo.connect(de,"onmousemove",this._drag=function(e,_839){var _83a=e[axis]-_831,_83b=_82f*_83a+_833,_83c=Math.max(Math.min(_83b,max),min);if(_837||_839){_838(_83c);}_832[_835]=_83a+_836+_82f*(_83c-_83b)+"px";}),dojo.connect(de,"ondragstart",dojo.stopEvent),dojo.connect(dojo.body(),"onselectstart",dojo.stopEvent),dojo.connect(de,"onmouseup",this,"_stopDrag")]);dojo.stopEvent(e);},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");dojo.toggleClass(this.domNode,"dijitSplitterHover",o);dojo.toggleClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){dojo.removeClass(this.cover,"dijitSplitterCoverActive");}if(this.fake){dojo.destroy(this.fake);}dojo.removeClass(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){dojo.cookie(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){dojo.forEach(this._handlers,dojo.disconnect);delete this._handlers;},_onKeyPress:function(e){this._resize=true;var _83d=this.horizontal;var tick=1;var dk=dojo.keys;switch(e.charOrCode){case _83d?dk.UP_ARROW:dk.LEFT_ARROW:tick*=-1;case _83d?dk.DOWN_ARROW:dk.RIGHT_ARROW:break;default:return;}var _83e=dojo._getMarginSize(this.child.domNode)[_83d?"h":"w"]+this._factor*tick;this.container._layoutChildren(this.child.id,Math.max(Math.min(_83e,this._computeMaxSize()),this.child.minSize));dojo.stopEvent(e);},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});dojo.declare("dijit.layout._Gutter",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dijitGutter\" role=\"presentation\"></div>",postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);},buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});}if(!dojo._hasResource["dijit.layout.LayoutContainer"]){dojo._hasResource["dijit.layout.LayoutContainer"]=true;dojo.provide("dijit.layout.LayoutContainer");dojo.declare("dijit.layout.LayoutContainer",dijit.layout._LayoutWidget,{baseClass:"dijitLayoutContainer",constructor:function(){dojo.deprecated("dijit.layout.LayoutContainer is deprecated","use BorderContainer instead",2);},layout:function(){dijit.layout.layoutChildren(this.domNode,this._contentBox,this.getChildren());},addChild:function(_83f,_840){this.inherited(arguments);if(this._started){dijit.layout.layoutChildren(this.domNode,this._contentBox,this.getChildren());}},removeChild:function(_841){this.inherited(arguments);if(this._started){dijit.layout.layoutChildren(this.domNode,this._contentBox,this.getChildren());}}});dojo.extend(dijit._Widget,{layoutAlign:"none"});}if(!dojo._hasResource["dijit.layout.LinkPane"]){dojo._hasResource["dijit.layout.LinkPane"]=true;dojo.provide("dijit.layout.LinkPane");dojo.declare("dijit.layout.LinkPane",[dijit.layout.ContentPane,dijit._Templated],{templateString:"<div class=\"dijitLinkPane\" dojoAttachPoint=\"containerNode\"></div>",postMixInProperties:function(){if(this.srcNodeRef){this.title+=this.srcNodeRef.innerHTML;}this.inherited(arguments);},_fillContent:function(_842){}});}if(!dojo._hasResource["dijit.layout.SplitContainer"]){dojo._hasResource["dijit.layout.SplitContainer"]=true;dojo.provide("dijit.layout.SplitContainer");dojo.declare("dijit.layout.SplitContainer",dijit.layout._LayoutWidget,{constructor:function(){dojo.deprecated("dijit.layout.SplitContainer is deprecated","use BorderContainer with splitter instead",2);},activeSizing:false,sizerWidth:7,orientation:"horizontal",persist:true,baseClass:"dijitSplitContainer",postMixInProperties:function(){this.inherited("postMixInProperties",arguments);this.isHorizontal=(this.orientation=="horizontal");},postCreate:function(){this.inherited(arguments);this.sizers=[];if(dojo.isMozilla){this.domNode.style.overflow="-moz-scrollbars-none";}if(typeof this.sizerWidth=="object"){try{this.sizerWidth=parseInt(this.sizerWidth.toString());}catch(e){this.sizerWidth=7;}}var _843=dojo.doc.createElement("div");this.virtualSizer=_843;_843.style.position="relative";_843.style.zIndex=10;_843.className=this.isHorizontal?"dijitSplitContainerVirtualSizerH":"dijitSplitContainerVirtualSizerV";this.domNode.appendChild(_843);dojo.setSelectable(_843,false);},destroy:function(){delete this.virtualSizer;dojo.forEach(this._ownconnects,dojo.disconnect);this.inherited(arguments);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_844,i,_845){this._setupChild(_844);if(i<_845.length-1){this._addSizer();}},this);if(this.persist){this._restoreState();}this.inherited(arguments);},_setupChild:function(_846){this.inherited(arguments);_846.domNode.style.position="absolute";dojo.addClass(_846.domNode,"dijitSplitPane");},_onSizerMouseDown:function(e){if(e.target.id){for(var i=0;i<this.sizers.length;i++){if(this.sizers[i].id==e.target.id){break;}}if(i<this.sizers.length){this.beginSizing(e,i);}}},_addSizer:function(_847){_847=_847===undefined?this.sizers.length:_847;var _848=dojo.doc.createElement("div");_848.id=dijit.getUniqueId("dijit_layout_SplitterContainer_Splitter");this.sizers.splice(_847,0,_848);this.domNode.appendChild(_848);_848.className=this.isHorizontal?"dijitSplitContainerSizerH":"dijitSplitContainerSizerV";var _849=dojo.doc.createElement("div");_849.className="thumb";_848.appendChild(_849);this.connect(_848,"onmousedown","_onSizerMouseDown");dojo.setSelectable(_848,false);},removeChild:function(_84a){if(this.sizers.length){var i=dojo.indexOf(this.getChildren(),_84a);if(i!=-1){if(i==this.sizers.length){i--;}dojo.destroy(this.sizers[i]);this.sizers.splice(i,1);}}this.inherited(arguments);if(this._started){this.layout();}},addChild:function(_84b,_84c){this.inherited(arguments);if(this._started){var _84d=this.getChildren();if(_84d.length>1){this._addSizer(_84c);}this.layout();}},layout:function(){this.paneWidth=this._contentBox.w;this.paneHeight=this._contentBox.h;var _84e=this.getChildren();if(!_84e.length){return;}var _84f=this.isHorizontal?this.paneWidth:this.paneHeight;if(_84e.length>1){_84f-=this.sizerWidth*(_84e.length-1);}var _850=0;dojo.forEach(_84e,function(_851){_850+=_851.sizeShare;});var _852=_84f/_850;var _853=0;dojo.forEach(_84e.slice(0,_84e.length-1),function(_854){var size=Math.round(_852*_854.sizeShare);_854.sizeActual=size;_853+=size;});_84e[_84e.length-1].sizeActual=_84f-_853;this._checkSizes();var pos=0;var size=_84e[0].sizeActual;this._movePanel(_84e[0],pos,size);_84e[0].position=pos;pos+=size;if(!this.sizers){return;}dojo.some(_84e.slice(1),function(_855,i){if(!this.sizers[i]){return true;}this._moveSlider(this.sizers[i],pos,this.sizerWidth);this.sizers[i].position=pos;pos+=this.sizerWidth;size=_855.sizeActual;this._movePanel(_855,pos,size);_855.position=pos;pos+=size;},this);},_movePanel:function(_856,pos,size){if(this.isHorizontal){_856.domNode.style.left=pos+"px";_856.domNode.style.top=0;var box={w:size,h:this.paneHeight};if(_856.resize){_856.resize(box);}else{dojo.marginBox(_856.domNode,box);}}else{_856.domNode.style.left=0;_856.domNode.style.top=pos+"px";var box={w:this.paneWidth,h:size};if(_856.resize){_856.resize(box);}else{dojo.marginBox(_856.domNode,box);}}},_moveSlider:function(_857,pos,size){if(this.isHorizontal){_857.style.left=pos+"px";_857.style.top=0;dojo.marginBox(_857,{w:size,h:this.paneHeight});}else{_857.style.left=0;_857.style.top=pos+"px";dojo.marginBox(_857,{w:this.paneWidth,h:size});}},_growPane:function(_858,pane){if(_858>0){if(pane.sizeActual>pane.sizeMin){if((pane.sizeActual-pane.sizeMin)>_858){pane.sizeActual=pane.sizeActual-_858;_858=0;}else{_858-=pane.sizeActual-pane.sizeMin;pane.sizeActual=pane.sizeMin;}}}return _858;},_checkSizes:function(){var _859=0;var _85a=0;var _85b=this.getChildren();dojo.forEach(_85b,function(_85c){_85a+=_85c.sizeActual;_859+=_85c.sizeMin;});if(_859<=_85a){var _85d=0;dojo.forEach(_85b,function(_85e){if(_85e.sizeActual<_85e.sizeMin){_85d+=_85e.sizeMin-_85e.sizeActual;_85e.sizeActual=_85e.sizeMin;}});if(_85d>0){var list=this.isDraggingLeft?_85b.reverse():_85b;dojo.forEach(list,function(_85f){_85d=this._growPane(_85d,_85f);},this);}}else{dojo.forEach(_85b,function(_860){_860.sizeActual=Math.round(_85a*(_860.sizeMin/_859));});}},beginSizing:function(e,i){var _861=this.getChildren();this.paneBefore=_861[i];this.paneAfter=_861[i+1];this.isSizing=true;this.sizingSplitter=this.sizers[i];if(!this.cover){this.cover=dojo.create("div",{style:{position:"absolute",zIndex:5,top:0,left:0,width:"100%",height:"100%"}},this.domNode);}else{this.cover.style.zIndex=5;}this.sizingSplitter.style.zIndex=6;this.originPos=dojo.position(_861[0].domNode,true);if(this.isHorizontal){var _862=e.layerX||e.offsetX||0;var _863=e.pageX;this.originPos=this.originPos.x;}else{var _862=e.layerY||e.offsetY||0;var _863=e.pageY;this.originPos=this.originPos.y;}this.startPoint=this.lastPoint=_863;this.screenToClientOffset=_863-_862;this.dragOffset=this.lastPoint-this.paneBefore.sizeActual-this.originPos-this.paneBefore.position;if(!this.activeSizing){this._showSizingLine();}this._ownconnects=[];this._ownconnects.push(dojo.connect(dojo.doc.documentElement,"onmousemove",this,"changeSizing"));this._ownconnects.push(dojo.connect(dojo.doc.documentElement,"onmouseup",this,"endSizing"));dojo.stopEvent(e);},changeSizing:function(e){if(!this.isSizing){return;}this.lastPoint=this.isHorizontal?e.pageX:e.pageY;this.movePoint();if(this.activeSizing){this._updateSize();}else{this._moveSizingLine();}dojo.stopEvent(e);},endSizing:function(e){if(!this.isSizing){return;}if(this.cover){this.cover.style.zIndex=-1;}if(!this.activeSizing){this._hideSizingLine();}this._updateSize();this.isSizing=false;if(this.persist){this._saveState(this);}dojo.forEach(this._ownconnects,dojo.disconnect);},movePoint:function(){var p=this.lastPoint-this.screenToClientOffset;var a=p-this.dragOffset;a=this.legaliseSplitPoint(a);p=a+this.dragOffset;this.lastPoint=p+this.screenToClientOffset;},legaliseSplitPoint:function(a){a+=this.sizingSplitter.position;this.isDraggingLeft=!!(a>0);if(!this.activeSizing){var min=this.paneBefore.position+this.paneBefore.sizeMin;if(a<min){a=min;}var max=this.paneAfter.position+(this.paneAfter.sizeActual-(this.sizerWidth+this.paneAfter.sizeMin));if(a>max){a=max;}}a-=this.sizingSplitter.position;this._checkSizes();return a;},_updateSize:function(){var pos=this.lastPoint-this.dragOffset-this.originPos;var _864=this.paneBefore.position;var _865=this.paneAfter.position+this.paneAfter.sizeActual;this.paneBefore.sizeActual=pos-_864;this.paneAfter.position=pos+this.sizerWidth;this.paneAfter.sizeActual=_865-this.paneAfter.position;dojo.forEach(this.getChildren(),function(_866){_866.sizeShare=_866.sizeActual;});if(this._started){this.layout();}},_showSizingLine:function(){this._moveSizingLine();dojo.marginBox(this.virtualSizer,this.isHorizontal?{w:this.sizerWidth,h:this.paneHeight}:{w:this.paneWidth,h:this.sizerWidth});this.virtualSizer.style.display="block";},_hideSizingLine:function(){this.virtualSizer.style.display="none";},_moveSizingLine:function(){var pos=(this.lastPoint-this.startPoint)+this.sizingSplitter.position;dojo.style(this.virtualSizer,(this.isHorizontal?"left":"top"),pos+"px");},_getCookieName:function(i){return this.id+"_"+i;},_restoreState:function(){dojo.forEach(this.getChildren(),function(_867,i){var _868=this._getCookieName(i);var _869=dojo.cookie(_868);if(_869){var pos=parseInt(_869);if(typeof pos=="number"){_867.sizeShare=pos;}}},this);},_saveState:function(){if(!this.persist){return;}dojo.forEach(this.getChildren(),function(_86a,i){dojo.cookie(this._getCookieName(i),_86a.sizeShare,{expires:365});},this);}});dojo.extend(dijit._Widget,{sizeMin:10,sizeShare:10});}if(!dojo._hasResource["dijit.layout._TabContainerBase"]){dojo._hasResource["dijit.layout._TabContainerBase"]=true;dojo.provide("dijit.layout._TabContainerBase");dojo.declare("dijit.layout._TabContainerBase",[dijit.layout.StackContainer,dijit._Templated],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:false,nested:false,templateString:dojo.cache("dijit.layout","templates/TabContainer.html","<div class=\"dijitTabContainer\">\n  <div class=\"dijitTabListWrapper\" dojoAttachPoint=\"tablistNode\"></div>\n  <div dojoAttachPoint=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\n  <div class=\"dijitTabPaneWrapper\" dojoAttachPoint=\"containerNode\"></div>\n</div>\n"),postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&dojo.style(this.srcNodeRef,"visibility","hidden");this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);if(!this.doLayout){dojo.addClass(this.domNode,"dijitTabContainerNoLayout");}if(this.nested){dojo.addClass(this.domNode,"dijitTabContainerNested");dojo.addClass(this.tablist.containerNode,"dijitTabContainerTabListNested");dojo.addClass(this.tablistSpacer,"dijitTabContainerSpacerNested");dojo.addClass(this.containerNode,"dijitTabPaneWrapperNested");}else{dojo.addClass(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"));}},_setupChild:function(tab){dojo.addClass(tab.domNode,"dijitTabPane");this.inherited(arguments);},startup:function(){if(this._started){return;}this.tablist.startup();this.inherited(arguments);},layout:function(){if(!this._contentBox||typeof (this._contentBox.l)=="undefined"){return;}var sc=this.selectedChildWidget;if(this.doLayout){var _86b=this.tabPosition.replace(/-h/,"");this.tablist.layoutAlign=_86b;var _86c=[this.tablist,{domNode:this.tablistSpacer,layoutAlign:_86b},{domNode:this.containerNode,layoutAlign:"client"}];dijit.layout.layoutChildren(this.domNode,this._contentBox,_86c);this._containerContentBox=dijit.layout.marginBox2contentBox(this.containerNode,_86c[2]);if(sc&&sc.resize){sc.resize(this._containerContentBox);}}else{if(this.tablist.resize){var s=this.tablist.domNode.style;s.width="0";var _86d=dojo.contentBox(this.domNode).w;s.width="";this.tablist.resize({w:_86d});}if(sc&&sc.resize){sc.resize();}}},destroy:function(){if(this.tablist){this.tablist.destroy();}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.layout.TabController"]){dojo._hasResource["dijit.layout.TabController"]=true;dojo.provide("dijit.layout.TabController");dojo.declare("dijit.layout.TabController",dijit.layout.StackController,{templateString:"<div role='tablist' dojoAttachEvent='onkeypress:onkeypress'></div>",tabPosition:"top",buttonWidget:"dijit.layout._TabButton",_rectifyRtlTabList:function(){if(0>=this.tabPosition.indexOf("-h")){return;}if(!this.pane2button){return;}var _86e=0;for(var pane in this.pane2button){var ow=this.pane2button[pane].innerDiv.scrollWidth;_86e=Math.max(_86e,ow);}for(pane in this.pane2button){this.pane2button[pane].innerDiv.style.width=_86e+"px";}}});dojo.declare("dijit.layout._TabButton",dijit.layout._StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:dojo.cache("dijit.layout","templates/_TabButton.html","<div role=\"presentation\" dojoAttachPoint=\"titleNode\" dojoAttachEvent='onclick:onClick' class=\"pentaho-tabWidget\">\n  <div role=\"presentation\" class='dijitTabInnerDiv' dojoAttachPoint='innerDiv'>\n    <div role=\"presentation\" class='dijitTabContent' dojoAttachPoint='tabContent'>\n      <div role=\"presentation\" dojoAttachPoint='focusNode'>\n        <img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" dojoAttachPoint='iconNode' />\n        <span dojoAttachPoint='containerNode' class='pentaho-tabWidgetLabel'></span>\n\t\t        <span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" dojoAttachPoint='closeNode'\n                  dojoAttachEvent='onclick: onClickCloseButton' role=\"presentation\">\n\t\t            <span dojoAttachPoint='closeText' class='dijitTabCloseText'>[x]</span\n                    ></span>\n      </div>\n    </div>\n  </div>\n</div>\n"),scrollOnFocus:false,buildRendering:function(){this.inherited(arguments);dojo.setSelectable(this.containerNode,false);},startup:function(){this.inherited(arguments);var n=this.domNode;setTimeout(function(){n.className=n.className;},1);},_setCloseButtonAttr:function(disp){this._set("closeButton",disp);dojo.toggleClass(this.innerDiv,"dijitClosable",disp);this.closeNode.style.display=disp?"":"none";if(disp){var _86f=dojo.i18n.getLocalization("dijit","common");if(this.closeNode){dojo.attr(this.closeNode,"title",_86f.itemClose);}var _86f=dojo.i18n.getLocalization("dijit","common");this._closeMenu=new dijit.Menu({id:this.id+"_Menu",dir:this.dir,lang:this.lang,targetNodeIds:[this.domNode]});this._closeMenu.addChild(new dijit.MenuItem({label:_86f.itemClose,dir:this.dir,lang:this.lang,onClick:dojo.hitch(this,"onClickCloseButton")}));}else{if(this._closeMenu){this._closeMenu.destroyRecursive();delete this._closeMenu;}}},_setLabelAttr:function(_870){this.inherited(arguments);if(this.showLabel==false&&!this.params.title){this.iconNode.alt=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}},destroy:function(){if(this._closeMenu){this._closeMenu.destroyRecursive();delete this._closeMenu;}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.layout.ScrollingTabController"]){dojo._hasResource["dijit.layout.ScrollingTabController"]=true;dojo.provide("dijit.layout.ScrollingTabController");dojo.declare("dijit.layout.ScrollingTabController",dijit.layout.TabController,{templateString:dojo.cache("dijit.layout","templates/ScrollingTabController.html","<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\n\t<div dojoType=\"dijit.layout._ScrollingTabControllerMenuButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_menuBtn\" containerId=\"${containerId}\" iconClass=\"dijitTabStripMenuIcon\"\n\t\t\tdropDownPosition=\"below-alt, above-alt\"\n\t\t\tdojoAttachPoint=\"_menuBtn\" showLabel=\"false\">&#9660;</div>\n\t<div dojoType=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_leftBtn\" iconClass=\"dijitTabStripSlideLeftIcon\"\n\t\t\tdojoAttachPoint=\"_leftBtn\" dojoAttachEvent=\"onClick: doSlideLeft\" showLabel=\"false\">&#9664;</div>\n\t<div dojoType=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_rightBtn\" iconClass=\"dijitTabStripSlideRightIcon\"\n\t\t\tdojoAttachPoint=\"_rightBtn\" dojoAttachEvent=\"onClick: doSlideRight\" showLabel=\"false\">&#9654;</div>\n\t<div class='dijitTabListWrapper' dojoAttachPoint='tablistWrapper'>\n\t\t<div role='tablist' dojoAttachEvent='onkeypress:onkeypress'\n\t\t\t\tdojoAttachPoint='containerNode' class='nowrapTabStrip'></div>\n\t</div>\n</div>\n"),useMenu:true,useSlider:true,tabStripClass:"",widgetsInTemplate:true,_minScroll:5,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{"class":"containerNode"}),buildRendering:function(){this.inherited(arguments);var n=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();if(!this.tabStripClass){this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"")+"None";dojo.addClass(n,"tabStrip-disabled");}dojo.addClass(this.tablistWrapper,this.tabStripClass);},onStartup:function(){this.inherited(arguments);dojo.style(this.domNode,"visibility","visible");this._postStartup=true;},onAddChild:function(page,_871){this.inherited(arguments);dojo.forEach(["label","iconClass"],function(attr){this.pane2watches[page.id].push(this.pane2button[page.id].watch(attr,dojo.hitch(this,function(name,_872,_873){if(this._postStartup&&this._dim){this.resize(this._dim);}})));},this);dojo.style(this.containerNode,"width",(dojo.style(this.containerNode,"width")+200)+"px");},onRemoveChild:function(page,_874){var _875=this.pane2button[page.id];if(this._selectedTab===_875.domNode){this._selectedTab=null;}this.inherited(arguments);},_initButtons:function(){this._btnWidth=0;this._buttons=dojo.query("> .tabStripButton",this.domNode).filter(function(btn){if((this.useMenu&&btn==this._menuBtn.domNode)||(this.useSlider&&(btn==this._rightBtn.domNode||btn==this._leftBtn.domNode))){this._btnWidth+=dojo._getMarginSize(btn).w;return true;}else{dojo.style(btn,"display","none");return false;}},this);},_getTabsWidth:function(){var _876=this.getChildren();if(_876.length){var _877=_876[this.isLeftToRight()?0:_876.length-1].domNode,_878=_876[this.isLeftToRight()?_876.length-1:0].domNode;return _878.offsetLeft+dojo.style(_878,"width")-_877.offsetLeft;}else{return 0;}},_enableBtn:function(_879){var _87a=this._getTabsWidth();_879=_879||dojo.style(this.scrollNode,"width");return _87a>0&&_879<_87a;},resize:function(dim){if(this.domNode.offsetWidth==0){return;}this._dim=dim;this.scrollNode.style.height="auto";this._contentBox=dijit.layout.marginBox2contentBox(this.domNode,{h:0,w:dim.w});this._contentBox.h=this.scrollNode.offsetHeight;dojo.contentBox(this.domNode,this._contentBox);var _87b=this._enableBtn(this._contentBox.w);this._buttons.style("display",_87b?"":"none");this._leftBtn.layoutAlign="left";this._rightBtn.layoutAlign="right";this._menuBtn.layoutAlign=this.isLeftToRight()?"right":"left";dijit.layout.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,layoutAlign:"client"}]);if(this._selectedTab){if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}var w=this.scrollNode,sl=this._convertToScrollLeft(this._getScrollForSelectedTab());w.scrollLeft=sl;}this._setButtonClass(this._getScroll());this._postResize=true;return {h:this._contentBox.h,w:dim.w};},_getScroll:function(){var sl=(this.isLeftToRight()||dojo.isIE<8||(dojo.isIE&&dojo.isQuirks)||dojo.isWebKit)?this.scrollNode.scrollLeft:dojo.style(this.containerNode,"width")-dojo.style(this.scrollNode,"width")+(dojo.isIE==8?-1:1)*this.scrollNode.scrollLeft;return sl;},_convertToScrollLeft:function(val){if(this.isLeftToRight()||dojo.isIE<8||(dojo.isIE&&dojo.isQuirks)||dojo.isWebKit){return val;}else{var _87c=dojo.style(this.containerNode,"width")-dojo.style(this.scrollNode,"width");return (dojo.isIE==8?-1:1)*(val-_87c);}},onSelectChild:function(page){var tab=this.pane2button[page.id];if(!tab||!page){return;}var node=tab.domNode;if(this._postResize&&node!=this._selectedTab){this._selectedTab=node;var sl=this._getScroll();if(sl>node.offsetLeft||sl+dojo.style(this.scrollNode,"width")<node.offsetLeft+dojo.style(node,"width")){this.createSmoothScroll().play();}}this.inherited(arguments);},_getScrollBounds:function(){var _87d=this.getChildren(),_87e=dojo.style(this.scrollNode,"width"),_87f=dojo.style(this.containerNode,"width"),_880=_87f-_87e,_881=this._getTabsWidth();if(_87d.length&&_881>_87e){return {min:this.isLeftToRight()?0:_87d[_87d.length-1].domNode.offsetLeft,max:this.isLeftToRight()?(_87d[_87d.length-1].domNode.offsetLeft+dojo.style(_87d[_87d.length-1].domNode,"width"))-_87e:_880};}else{var _882=this.isLeftToRight()?0:_880;return {min:_882,max:_882};}},_getScrollForSelectedTab:function(){var w=this.scrollNode,n=this._selectedTab,_883=dojo.style(this.scrollNode,"width"),_884=this._getScrollBounds();var pos=(n.offsetLeft+dojo.style(n,"width")/2)-_883/2;pos=Math.min(Math.max(pos,_884.min),_884.max);return pos;},createSmoothScroll:function(x){if(arguments.length>0){var _885=this._getScrollBounds();x=Math.min(Math.max(x,_885.min),_885.max);}else{x=this._getScrollForSelectedTab();}if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}var self=this,w=this.scrollNode,anim=new dojo._Animation({beforeBegin:function(){if(this.curve){delete this.curve;}var oldS=w.scrollLeft,newS=self._convertToScrollLeft(x);anim.curve=new dojo._Line(oldS,newS);},onAnimate:function(val){w.scrollLeft=val;}});this._anim=anim;this._setButtonClass(x);return anim;},_getBtnNode:function(e){var n=e.target;while(n&&!dojo.hasClass(n,"tabStripButton")){n=n.parentNode;}return n;},doSlideRight:function(e){this.doSlide(1,this._getBtnNode(e));},doSlideLeft:function(e){this.doSlide(-1,this._getBtnNode(e));},doSlide:function(_886,node){if(node&&dojo.hasClass(node,"dijitTabDisabled")){return;}var _887=dojo.style(this.scrollNode,"width");var d=(_887*0.75)*_886;var to=this._getScroll()+d;this._setButtonClass(to);this.createSmoothScroll(to).play();},_setButtonClass:function(_888){var _889=this._getScrollBounds();this._leftBtn.set("disabled",_888<=_889.min);this._rightBtn.set("disabled",_888>=_889.max);}});dojo.declare("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:dojo.cache("dijit.layout","templates/_ScrollingTabControllerButton.html","<div dojoAttachEvent=\"onclick:_onButtonClick\">\n\t<div role=\"presentation\" class=\"dijitTabInnerDiv\" dojoattachpoint=\"innerDiv,focusNode\">\n\t\t<div role=\"presentation\" class=\"dijitTabContent dijitButtonContents\" dojoattachpoint=\"tabContent\">\n\t\t\t<img role=\"presentation\" alt=\"\" src=\"${_blankGif}\" class=\"dijitTabStripIcon\" dojoAttachPoint=\"iconNode\"/>\n\t\t\t<span dojoAttachPoint=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\n\t\t</div>\n\t</div>\n</div>\n"),tabIndex:"",isFocusable:function(){return false;}});dojo.declare("dijit.layout._ScrollingTabControllerButton",[dijit.form.Button,dijit.layout._ScrollingTabControllerButtonMixin]);dojo.declare("dijit.layout._ScrollingTabControllerMenuButton",[dijit.form.Button,dijit._HasDropDown,dijit.layout._ScrollingTabControllerButtonMixin],{containerId:"",tabIndex:"-1",isLoaded:function(){return false;},loadDropDown:function(_88a){this.dropDown=new dijit.Menu({id:this.containerId+"_menu",dir:this.dir,lang:this.lang});var _88b=dijit.byId(this.containerId);dojo.forEach(_88b.getChildren(),function(page){var _88c=new dijit.MenuItem({id:page.id+"_stcMi",label:page.title,iconClass:page.iconClass,dir:page.dir,lang:page.lang,onClick:function(){_88b.selectChild(page);}});this.dropDown.addChild(_88c);},this);_88a();},closeDropDown:function(_88d){this.inherited(arguments);if(this.dropDown){this.dropDown.destroyRecursive();delete this.dropDown;}}});}if(!dojo._hasResource["dijit.layout.TabContainer"]){dojo._hasResource["dijit.layout.TabContainer"]=true;dojo.provide("dijit.layout.TabContainer");dojo.declare("dijit.layout.TabContainer",dijit.layout._TabContainerBase,{useMenu:true,useSlider:true,controllerWidget:"",_makeController:function(_88e){var cls=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout"),_88f=dojo.getObject(this.controllerWidget);return new _88f({id:this.id+"_tablist",dir:this.dir,lang:this.lang,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":cls,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},_88e);},postMixInProperties:function(){this.inherited(arguments);if(!this.controllerWidget){this.controllerWidget=(this.tabPosition=="top"||this.tabPosition=="bottom")&&!this.nested?"dijit.layout.ScrollingTabController":"dijit.layout.TabController";}}});}if(!dojo._hasResource["dijit.dijit-all"]){dojo._hasResource["dijit.dijit-all"]=true;dojo.provide("dijit.dijit-all");console.warn("dijit-all may include much more code than your application actually requires. We strongly recommend that you investigate a custom build or the web build tool");}if(!dojo._hasResource["dojo.dnd.Selector"]){dojo._hasResource["dojo.dnd.Selector"]=true;dojo.provide("dojo.dnd.Selector");dojo.declare("dojo.dnd.Selector",dojo.dnd.Container,{constructor:function(node,_890){if(!_890){_890={};}this.singular=_890.singular;this.autoSync=_890.autoSync;this.selection={};this.anchor=null;this.simpleSelection=false;this.events.push(dojo.connect(this.node,"onmousedown",this,"onMouseDown"),dojo.connect(this.node,"onmouseup",this,"onMouseUp"));},singular:false,getSelectedNodes:function(){var t=new dojo.NodeList();var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}t.push(dojo.byId(i));}return t;},selectNone:function(){return this._removeSelection()._removeAnchor();},selectAll:function(){this.forInItems(function(data,id){this._addItemClass(dojo.byId(id),"Selected");this.selection[id]=1;},this);return this._removeAnchor();},deleteSelectedNodes:function(){var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}var n=dojo.byId(i);this.delItem(i);dojo.destroy(n);}this.anchor=null;this.selection={};return this;},forInSelectedItems:function(f,o){o=o||dojo.global;var s=this.selection,e=dojo.dnd._empty;for(var i in s){if(i in e){continue;}f.call(o,this.getItem(i),i,this);}},sync:function(){dojo.dnd.Selector.superclass.sync.call(this);if(this.anchor){if(!this.getItem(this.anchor.id)){this.anchor=null;}}var t=[],e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}if(!this.getItem(i)){t.push(i);}}dojo.forEach(t,function(i){delete this.selection[i];},this);return this;},insertNodes:function(_891,data,_892,_893){var _894=this._normalizedCreator;this._normalizedCreator=function(item,hint){var t=_894.call(this,item,hint);if(_891){if(!this.anchor){this.anchor=t.node;this._removeItemClass(t.node,"Selected");this._addItemClass(this.anchor,"Anchor");}else{if(this.anchor!=t.node){this._removeItemClass(t.node,"Anchor");this._addItemClass(t.node,"Selected");}}this.selection[t.node.id]=1;}else{this._removeItemClass(t.node,"Selected");this._removeItemClass(t.node,"Anchor");}return t;};dojo.dnd.Selector.superclass.insertNodes.call(this,data,_892,_893);this._normalizedCreator=_894;return this;},destroy:function(){dojo.dnd.Selector.superclass.destroy.call(this);this.selection=this.anchor=null;},markupFactory:function(_895,node){_895._skipStartup=true;return new dojo.dnd.Selector(node,_895);},onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dojo.isCopyKey(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;if(e.button===dojo.mouseButtons.LEFT){dojo.stopEvent(e);}return;}if(!this.singular&&e.shiftKey){if(!dojo.isCopyKey(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0;for(;i<c.length;++i){var node=c[i];if(node==this.anchor||node==this.current){break;}}for(++i;i<c.length;++i){var node=c[i];if(node==this.anchor||node==this.current){break;}this._addItemClass(node,"Selected");this.selection[node.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dojo.isCopyKey(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dojo.isCopyKey(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}dojo.stopEvent(e);},onMouseUp:function(e){if(!this.simpleSelection){return;}this.simpleSelection=false;this.selectNone();if(this.current){this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}},onMouseMove:function(e){this.simpleSelection=false;},onOverEvent:function(){this.onmousemoveEvent=dojo.connect(this.node,"onmousemove",this,"onMouseMove");},onOutEvent:function(){dojo.disconnect(this.onmousemoveEvent);delete this.onmousemoveEvent;},_removeSelection:function(){var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}var node=dojo.byId(i);if(node){this._removeItemClass(node,"Selected");}}this.selection={};return this;},_removeAnchor:function(){if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this.anchor=null;}return this;}});}if(!dojo._hasResource["dojo.dnd.Avatar"]){dojo._hasResource["dojo.dnd.Avatar"]=true;dojo.provide("dojo.dnd.Avatar");dojo.declare("dojo.dnd.Avatar",null,{constructor:function(_896){this.manager=_896;this.construct();},construct:function(){this.isA11y=dojo.hasClass(dojo.body(),"dijit_a11y");var a=dojo.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_897=this.manager.source,node,b=dojo.create("tbody",null,a),tr=dojo.create("tr",null,b),td=dojo.create("td",null,tr),icon=this.isA11y?dojo.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},td):null,span=dojo.create("span",{innerHTML:_897.generateText?this._generateText():""},td),k=Math.min(5,this.manager.nodes.length),i=0;dojo.attr(tr,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});for(;i<k;++i){if(_897.creator){node=_897._normalizedCreator(_897.getItem(this.manager.nodes[i].id).data,"avatar").node;}else{node=this.manager.nodes[i].cloneNode(true);if(node.tagName.toLowerCase()=="tr"){var _898=dojo.create("table"),_899=dojo.create("tbody",null,_898);_899.appendChild(node);node=_898;}}node.id="";tr=dojo.create("tr",null,b);td=dojo.create("td",null,tr);td.appendChild(node);dojo.attr(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});}this.node=a;},destroy:function(){dojo.destroy(this.node);this.node=false;},update:function(){dojo[(this.manager.canDropFlag?"add":"remove")+"Class"](this.node,"dojoDndAvatarCanDrop");if(this.isA11y){var icon=dojo.byId("a11yIcon");var text="+";if(this.manager.canDropFlag&&!this.manager.copy){text="< ";}else{if(!this.manager.canDropFlag&&!this.manager.copy){text="o";}else{if(!this.manager.canDropFlag){text="x";}}}icon.innerHTML=text;}dojo.query(("tr.dojoDndAvatarHeader td span"+(this.isA11y?" span":"")),this.node).forEach(function(node){node.innerHTML=this._generateText();},this);},_generateText:function(){return this.manager.nodes.length.toString();}});}if(!dojo._hasResource["dojo.dnd.Manager"]){dojo._hasResource["dojo.dnd.Manager"]=true;dojo.provide("dojo.dnd.Manager");dojo.declare("dojo.dnd.Manager",null,{constructor:function(){this.avatar=null;this.source=null;this.nodes=[];this.copy=true;this.target=null;this.canDropFlag=false;this.events=[];},OFFSET_X:16,OFFSET_Y:16,overSource:function(_89a){if(this.avatar){this.target=(_89a&&_89a.targetState!="Disabled")?_89a:null;this.canDropFlag=Boolean(this.target);this.avatar.update();}dojo.publish("/dnd/source/over",[_89a]);},outSource:function(_89b){if(this.avatar){if(this.target==_89b){this.target=null;this.canDropFlag=false;this.avatar.update();dojo.publish("/dnd/source/over",[null]);}}else{dojo.publish("/dnd/source/over",[null]);}},startDrag:function(_89c,_89d,copy){this.source=_89c;this.nodes=_89d;this.copy=Boolean(copy);this.avatar=this.makeAvatar();dojo.body().appendChild(this.avatar.node);dojo.publish("/dnd/start",[_89c,_89d,this.copy]);this.events=[dojo.connect(dojo.doc,"onmousemove",this,"onMouseMove"),dojo.connect(dojo.doc,"onmouseup",this,"onMouseUp"),dojo.connect(dojo.doc,"onkeydown",this,"onKeyDown"),dojo.connect(dojo.doc,"onkeyup",this,"onKeyUp"),dojo.connect(dojo.doc,"ondragstart",dojo.stopEvent),dojo.connect(dojo.body(),"onselectstart",dojo.stopEvent)];var c="dojoDnd"+(copy?"Copy":"Move");dojo.addClass(dojo.body(),c);},canDrop:function(flag){var _89e=Boolean(this.target&&flag);if(this.canDropFlag!=_89e){this.canDropFlag=_89e;this.avatar.update();}},stopDrag:function(){dojo.removeClass(dojo.body(),["dojoDndCopy","dojoDndMove"]);dojo.forEach(this.events,dojo.disconnect);this.events=[];this.avatar.destroy();this.avatar=null;this.source=this.target=null;this.nodes=[];},makeAvatar:function(){return new dojo.dnd.Avatar(this);},updateAvatar:function(){this.avatar.update();},onMouseMove:function(e){var a=this.avatar;if(a){dojo.dnd.autoScrollNodes(e);var s=a.node.style;s.left=(e.pageX+this.OFFSET_X)+"px";s.top=(e.pageY+this.OFFSET_Y)+"px";var copy=Boolean(this.source.copyState(dojo.isCopyKey(e)));if(this.copy!=copy){this._setCopyStatus(copy);}}},onMouseUp:function(e){if(this.avatar){if(this.target&&this.canDropFlag){var copy=Boolean(this.source.copyState(dojo.isCopyKey(e))),_89f=[this.source,this.nodes,copy,this.target,e];dojo.publish("/dnd/drop/before",_89f);dojo.publish("/dnd/drop",_89f);}else{dojo.publish("/dnd/cancel");}this.stopDrag();}},onKeyDown:function(e){if(this.avatar){switch(e.keyCode){case dojo.keys.CTRL:var copy=Boolean(this.source.copyState(true));if(this.copy!=copy){this._setCopyStatus(copy);}break;case dojo.keys.ESCAPE:dojo.publish("/dnd/cancel");this.stopDrag();break;}}},onKeyUp:function(e){if(this.avatar&&e.keyCode==dojo.keys.CTRL){var copy=Boolean(this.source.copyState(false));if(this.copy!=copy){this._setCopyStatus(copy);}}},_setCopyStatus:function(copy){this.copy=copy;this.source._markDndStatus(this.copy);this.updateAvatar();dojo.replaceClass(dojo.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"));}});dojo.dnd._manager=null;dojo.dnd.manager=function(){if(!dojo.dnd._manager){dojo.dnd._manager=new dojo.dnd.Manager();}return dojo.dnd._manager;};}if(!dojo._hasResource["dojo.dnd.Source"]){dojo._hasResource["dojo.dnd.Source"]=true;dojo.provide("dojo.dnd.Source");dojo.declare("dojo.dnd.Source",dojo.dnd.Selector,{isSource:true,horizontal:false,copyOnly:false,selfCopy:false,selfAccept:true,skipForm:false,withHandles:false,autoSync:false,delay:0,accept:["text"],generateText:true,constructor:function(node,_8a0){dojo.mixin(this,dojo.mixin({},_8a0));var type=this.accept;if(type.length){this.accept={};for(var i=0;i<type.length;++i){this.accept[type[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.before=true;this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){dojo.addClass(this.node,"dojoDndSource");}this.targetState="";if(this.accept){dojo.addClass(this.node,"dojoDndTarget");}if(this.horizontal){dojo.addClass(this.node,"dojoDndHorizontal");}this.topics=[dojo.subscribe("/dnd/source/over",this,"onDndSourceOver"),dojo.subscribe("/dnd/start",this,"onDndStart"),dojo.subscribe("/dnd/drop",this,"onDndDrop"),dojo.subscribe("/dnd/cancel",this,"onDndCancel")];},checkAcceptance:function(_8a1,_8a2){if(this==_8a1){return !this.copyOnly||this.selfAccept;}for(var i=0;i<_8a2.length;++i){var type=_8a1.getItem(_8a2[i].id).type;var flag=false;for(var j=0;j<type.length;++j){if(type[j] in this.accept){flag=true;break;}}if(!flag){return false;}}return true;},copyState:function(_8a3,self){if(_8a3){return true;}if(arguments.length<2){self=this==dojo.dnd.manager().target;}if(self){if(this.copyOnly){return this.selfCopy;}}else{return this.copyOnly;}return false;},destroy:function(){dojo.dnd.Source.superclass.destroy.call(this);dojo.forEach(this.topics,dojo.unsubscribe);this.targetAnchor=null;},markupFactory:function(_8a4,node){_8a4._skipStartup=true;return new dojo.dnd.Source(node,_8a4);},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}dojo.dnd.Source.superclass.onMouseMove.call(this,e);var m=dojo.dnd.manager();if(!this.isDragging){if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)){var _8a5=this.getSelectedNodes();if(_8a5.length){m.startDrag(this,_8a5,this.copyState(dojo.isCopyKey(e),true));}}}if(this.isDragging){var _8a6=false;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current){this.targetBox=dojo.position(this.current,true);}if(this.horizontal){_8a6=(e.pageX-this.targetBox.x)<(this.targetBox.w/2);}else{_8a6=(e.pageY-this.targetBox.y)<(this.targetBox.h/2);}}if(this.current!=this.targetAnchor||_8a6!=this.before){this._markTargetAnchor(_8a6);m.canDrop(!this.current||m.source!=this||!(this.current.id in this.selection));}}},onMouseDown:function(e){if(!this.mouseDown&&this._legalMouseDown(e)&&(!this.skipForm||!dojo.dnd.isFormElement(e))){this.mouseDown=true;this._lastX=e.pageX;this._lastY=e.pageY;dojo.dnd.Source.superclass.onMouseDown.call(this,e);}},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;dojo.dnd.Source.superclass.onMouseUp.call(this,e);}},onDndSourceOver:function(_8a7){if(this!=_8a7){this.mouseDown=false;if(this.targetAnchor){this._unmarkTargetAnchor();}}else{if(this.isDragging){var m=dojo.dnd.manager();m.canDrop(this.targetState!="Disabled"&&(!this.current||m.source!=this||!(this.current.id in this.selection)));}}},onDndStart:function(_8a8,_8a9,copy){if(this.autoSync){this.sync();}if(this.isSource){this._changeState("Source",this==_8a8?(copy?"Copied":"Moved"):"");}var _8aa=this.accept&&this.checkAcceptance(_8a8,_8a9);this._changeState("Target",_8aa?"":"Disabled");if(this==_8a8){dojo.dnd.manager().overSource(this);}this.isDragging=true;},onDndDrop:function(_8ab,_8ac,copy,_8ad){if(this==_8ad){this.onDrop(_8ab,_8ac,copy);}this.onDndCancel();},onDndCancel:function(){if(this.targetAnchor){this._unmarkTargetAnchor();this.targetAnchor=null;}this.before=true;this.isDragging=false;this.mouseDown=false;this._changeState("Source","");this._changeState("Target","");},onDrop:function(_8ae,_8af,copy){if(this!=_8ae){this.onDropExternal(_8ae,_8af,copy);}else{this.onDropInternal(_8af,copy);}},onDropExternal:function(_8b0,_8b1,copy){var _8b2=this._normalizedCreator;if(this.creator){this._normalizedCreator=function(node,hint){return _8b2.call(this,_8b0.getItem(node.id).data,hint);};}else{if(copy){this._normalizedCreator=function(node,hint){var t=_8b0.getItem(node.id);var n=node.cloneNode(true);n.id=dojo.dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}else{this._normalizedCreator=function(node,hint){var t=_8b0.getItem(node.id);_8b0.delItem(node.id);return {node:node,data:t.data,type:t.type};};}}this.selectNone();if(!copy&&!this.creator){_8b0.selectNone();}this.insertNodes(true,_8b1,this.before,this.current);if(!copy&&this.creator){_8b0.deleteSelectedNodes();}this._normalizedCreator=_8b2;},onDropInternal:function(_8b3,copy){var _8b4=this._normalizedCreator;if(this.current&&this.current.id in this.selection){return;}if(copy){if(this.creator){this._normalizedCreator=function(node,hint){return _8b4.call(this,this.getItem(node.id).data,hint);};}else{this._normalizedCreator=function(node,hint){var t=this.getItem(node.id);var n=node.cloneNode(true);n.id=dojo.dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}}else{if(!this.current){return;}this._normalizedCreator=function(node,hint){var t=this.getItem(node.id);return {node:node,data:t.data,type:t.type};};}this._removeSelection();this.insertNodes(true,_8b3,this.before,this.current);this._normalizedCreator=_8b4;},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){dojo.dnd.Source.superclass.onOverEvent.call(this);dojo.dnd.manager().overSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOver();}},onOutEvent:function(){dojo.dnd.Source.superclass.onOutEvent.call(this);dojo.dnd.manager().outSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOut();}},_markTargetAnchor:function(_8b5){if(this.current==this.targetAnchor&&this.before==_8b5){return;}if(this.targetAnchor){this._removeItemClass(this.targetAnchor,this.before?"Before":"After");}this.targetAnchor=this.current;this.targetBox=null;this.before=_8b5;if(this.targetAnchor){this._addItemClass(this.targetAnchor,this.before?"Before":"After");}},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor,this.before?"Before":"After");this.targetAnchor=null;this.targetBox=null;this.before=true;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");},_legalMouseDown:function(e){if(!dojo.mouseButtons.isLeft(e)){return false;}if(!this.withHandles){return true;}for(var node=e.target;node&&node!==this.node;node=node.parentNode){if(dojo.hasClass(node,"dojoDndHandle")){return true;}if(dojo.hasClass(node,"dojoDndItem")||dojo.hasClass(node,"dojoDndIgnore")){break;}}return false;}});dojo.declare("dojo.dnd.Target",dojo.dnd.Source,{constructor:function(node,_8b6){this.isSource=false;dojo.removeClass(this.node,"dojoDndSource");},markupFactory:function(_8b7,node){_8b7._skipStartup=true;return new dojo.dnd.Target(node,_8b7);}});dojo.declare("dojo.dnd.AutoSource",dojo.dnd.Source,{constructor:function(node,_8b8){this.autoSync=true;},markupFactory:function(_8b9,node){_8b9._skipStartup=true;return new dojo.dnd.AutoSource(node,_8b9);}});}if(!dojo._hasResource["dojox.html.entities"]){dojo._hasResource["dojox.html.entities"]=true;dojo.provide("dojox.html.entities");(function(){var _8ba=function(str,map){var _8bb,_8bc;if(map._encCache&&map._encCache.regexp&&map._encCache.mapper&&map.length==map._encCache.length){_8bb=map._encCache.mapper;_8bc=map._encCache.regexp;}else{_8bb={};_8bc=["["];var i;for(i=0;i<map.length;i++){_8bb[map[i][0]]="&"+map[i][1]+";";_8bc.push(map[i][0]);}_8bc.push("]");_8bc=new RegExp(_8bc.join(""),"g");map._encCache={mapper:_8bb,regexp:_8bc,length:map.length};}str=str.replace(_8bc,function(c){return _8bb[c];});return str;};var _8bd=function(str,map){var _8be,_8bf;if(map._decCache&&map._decCache.regexp&&map._decCache.mapper&&map.length==map._decCache.length){_8be=map._decCache.mapper;_8bf=map._decCache.regexp;}else{_8be={};_8bf=["("];var i;for(i=0;i<map.length;i++){var e="&"+map[i][1]+";";if(i){_8bf.push("|");}_8be[e]=map[i][0];_8bf.push(e);}_8bf.push(")");_8bf=new RegExp(_8bf.join(""),"g");map._decCache={mapper:_8be,regexp:_8bf,length:map.length};}str=str.replace(_8bf,function(c){return _8be[c];});return str;};dojox.html.entities.html=[["&","amp"],["\"","quot"],["<","lt"],[">","gt"],["","nbsp"]];dojox.html.entities.latin=[["","iexcl"],["","cent"],["","pound"],["","euro"],["","curren"],["","yen"],["","brvbar"],["","sect"],["","uml"],["","copy"],["","ordf"],["","laquo"],["","not"],["","shy"],["","reg"],["","macr"],["","deg"],["","plusmn"],["","sup2"],["","sup3"],["","acute"],["","micro"],["","para"],["","middot"],["","cedil"],["","sup1"],["","ordm"],["","raquo"],["","frac14"],["","frac12"],["","frac34"],["","iquest"],["","Agrave"],["","Aacute"],["","Acirc"],["","Atilde"],["","Auml"],["","Aring"],["","AElig"],["","Ccedil"],["","Egrave"],["","Eacute"],["","Ecirc"],["","Euml"],["","Igrave"],["","Iacute"],["","Icirc"],["","Iuml"],["","ETH"],["","Ntilde"],["","Ograve"],["","Oacute"],["","Ocirc"],["","Otilde"],["","Ouml"],["","times"],["","Oslash"],["","Ugrave"],["","Uacute"],["","Ucirc"],["","Uuml"],["","Yacute"],["","THORN"],["","szlig"],["","agrave"],["","aacute"],["","acirc"],["","atilde"],["","auml"],["","aring"],["","aelig"],["","ccedil"],["","egrave"],["","eacute"],["","ecirc"],["","euml"],["","igrave"],["","iacute"],["","icirc"],["","iuml"],["","eth"],["","ntilde"],["","ograve"],["","oacute"],["","ocirc"],["","otilde"],["","ouml"],["","divide"],["","oslash"],["","ugrave"],["","uacute"],["","ucirc"],["","uuml"],["","yacute"],["","thorn"],["","yuml"],["","fnof"],["","Alpha"],["","Beta"],["","Gamma"],["","Delta"],["","Epsilon"],["","Zeta"],["","Eta"],["","Theta"],["","Iota"],["","Kappa"],["","Lambda"],["","Mu"],["","Nu"],["","Xi"],["","Omicron"],["","Pi"],["","Rho"],["","Sigma"],["","Tau"],["","Upsilon"],["","Phi"],["","Chi"],["","Psi"],["","Omega"],["","alpha"],["","beta"],["","gamma"],["","delta"],["","epsilon"],["","zeta"],["","eta"],["","theta"],["","iota"],["","kappa"],["","lambda"],["","mu"],["","nu"],["","xi"],["","omicron"],["","pi"],["","rho"],["","sigmaf"],["","sigma"],["","tau"],["","upsilon"],["","phi"],["","chi"],["","psi"],["","omega"],["","thetasym"],["","upsih"],["","piv"],["","bull"],["","hellip"],["","prime"],["","Prime"],["","oline"],["","frasl"],["","weierp"],["","image"],["","real"],["","trade"],["","alefsym"],["","larr"],["","uarr"],["","rarr"],["","darr"],["","harr"],["","crarr"],["","lArr"],["","uArr"],["","rArr"],["","dArr"],["","hArr"],["","forall"],["","part"],["","exist"],["","empty"],["","nabla"],["","isin"],["","notin"],["","ni"],["","prod"],["","sum"],["","minus"],["","lowast"],["","radic"],["","prop"],["","infin"],["","ang"],["","and"],["","or"],["","cap"],["","cup"],["","int"],["","there4"],["","sim"],["","cong"],["","asymp"],["","ne"],["","equiv"],["","le"],["","ge"],["","sub"],["","sup"],["","nsub"],["","sube"],["","supe"],["","oplus"],["","otimes"],["","perp"],["","sdot"],["","lceil"],["","rceil"],["","lfloor"],["","rfloor"],["","lang"],["","rang"],["","loz"],["","spades"],["","clubs"],["","hearts"],["","diams"],["","Elig"],["","oelig"],["","Scaron"],["","scaron"],["","Yuml"],["","circ"],["","tilde"],["","ensp"],["","emsp"],["","thinsp"],["","zwnj"],["","zwj"],["","lrm"],["","rlm"],["","ndash"],["","mdash"],["","lsquo"],["","rsquo"],["","sbquo"],["","ldquo"],["","rdquo"],["","bdquo"],["","dagger"],["","Dagger"],["","permil"],["","lsaquo"],["","rsaquo"]];dojox.html.entities.encode=function(str,m){if(str){if(!m){str=_8ba(str,dojox.html.entities.html);str=_8ba(str,dojox.html.entities.latin);}else{str=_8ba(str,m);}}return str;};dojox.html.entities.decode=function(str,m){if(str){if(!m){str=_8bd(str,dojox.html.entities.html);str=_8bd(str,dojox.html.entities.latin);}else{str=_8bd(str,m);}}return str;};})();}if(!dojo._hasResource["dojo.NodeList-fx"]){dojo._hasResource["dojo.NodeList-fx"]=true;dojo.provide("dojo.NodeList-fx");dojo.extend(dojo.NodeList,{_anim:function(obj,_8c0,args){args=args||{};var a=dojo.fx.combine(this.map(function(item){var _8c1={node:item};dojo.mixin(_8c1,args);return obj[_8c0](_8c1);}));return args.auto?a.play()&&this:a;},wipeIn:function(args){return this._anim(dojo.fx,"wipeIn",args);},wipeOut:function(args){return this._anim(dojo.fx,"wipeOut",args);},slideTo:function(args){return this._anim(dojo.fx,"slideTo",args);},fadeIn:function(args){return this._anim(dojo,"fadeIn",args);},fadeOut:function(args){return this._anim(dojo,"fadeOut",args);},animateProperty:function(args){return this._anim(dojo,"animateProperty",args);},anim:function(_8c2,_8c3,_8c4,_8c5,_8c6){var _8c7=dojo.fx.combine(this.map(function(item){return dojo.animateProperty({node:item,properties:_8c2,duration:_8c3||350,easing:_8c4});}));if(_8c5){dojo.connect(_8c7,"onEnd",_8c5);}return _8c7.play(_8c6||0);}});}if(!dojo._hasResource["dojox.fx.Shadow"]){dojo._hasResource["dojox.fx.Shadow"]=true;dojo.provide("dojox.fx.Shadow");dojo.experimental("dojox.fx.Shadow");dojo.declare("dojox.fx.Shadow",dijit._Widget,{shadowPng:dojo.moduleUrl("dojox.fx","resources/shadow"),shadowThickness:7,shadowOffset:3,opacity:0.75,animate:false,node:null,startup:function(){this.inherited(arguments);this.node.style.position="relative";this.pieces={};var x1=-1*this.shadowThickness;var y0=this.shadowOffset;var y1=this.shadowOffset+this.shadowThickness;this._makePiece("tl","top",y0,"left",x1);this._makePiece("l","top",y1,"left",x1,"scale");this._makePiece("tr","top",y0,"left",0);this._makePiece("r","top",y1,"left",0,"scale");this._makePiece("bl","top",0,"left",x1);this._makePiece("b","top",0,"left",0,"crop");this._makePiece("br","top",0,"left",0);this.nodeList=dojo.query(".shadowPiece",this.node);this.setOpacity(this.opacity);this.resize();},_makePiece:function(name,_8c8,_8c9,_8ca,_8cb,_8cc){var img;var url=this.shadowPng+name.toUpperCase()+".png";if(dojo.isIE<7){img=dojo.create("div");img.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+url+"'"+(_8cc?", sizingMethod='"+_8cc+"'":"")+")";}else{img=dojo.create("img",{src:url});}img.style.position="absolute";img.style[_8c8]=_8c9+"px";img.style[_8ca]=_8cb+"px";img.style.width=this.shadowThickness+"px";img.style.height=this.shadowThickness+"px";dojo.addClass(img,"shadowPiece");this.pieces[name]=img;this.node.appendChild(img);},setOpacity:function(n,_8cd){if(dojo.isIE){return;}if(!_8cd){_8cd={};}if(this.animate){var _8ce=[];this.nodeList.forEach(function(node){_8ce.push(dojo._fade(dojo.mixin(_8cd,{node:node,end:n})));});dojo.fx.combine(_8ce).play();}else{this.nodeList.style("opacity",n);}},setDisabled:function(_8cf){if(_8cf){if(this.disabled){return;}if(this.animate){this.nodeList.fadeOut().play();}else{this.nodeList.style("visibility","hidden");}this.disabled=true;}else{if(!this.disabled){return;}if(this.animate){this.nodeList.fadeIn().play();}else{this.nodeList.style("visibility","visible");}this.disabled=false;}},resize:function(args){var x;var y;if(args){x=args.x;y=args.y;}else{var co=dojo._getBorderBox(this.node);x=co.w;y=co.h;}var _8d0=y-(this.shadowOffset+this.shadowThickness);if(_8d0<0){_8d0=0;}if(y<1){y=1;}if(x<1){x=1;}with(this.pieces){l.style.height=_8d0+"px";r.style.height=_8d0+"px";b.style.width=x+"px";bl.style.top=y+"px";b.style.top=y+"px";br.style.top=y+"px";tr.style.left=x+"px";r.style.left=x+"px";br.style.left=x+"px";}}});}if(!dojo._hasResource["dojox.color._base"]){dojo._hasResource["dojox.color._base"]=true;dojo.provide("dojox.color._base");dojox.color.Color=dojo.Color;dojox.color.blend=dojo.blendColors;dojox.color.fromRgb=dojo.colorFromRgb;dojox.color.fromHex=dojo.colorFromHex;dojox.color.fromArray=dojo.colorFromArray;dojox.color.fromString=dojo.colorFromString;dojox.color.greyscale=dojo.colors.makeGrey;dojo.mixin(dojox.color,{fromCmy:function(cyan,_8d1,_8d2){if(dojo.isArray(cyan)){_8d1=cyan[1],_8d2=cyan[2],cyan=cyan[0];}else{if(dojo.isObject(cyan)){_8d1=cyan.m,_8d2=cyan.y,cyan=cyan.c;}}cyan/=100,_8d1/=100,_8d2/=100;var r=1-cyan,g=1-_8d1,b=1-_8d2;return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromCmyk:function(cyan,_8d3,_8d4,_8d5){if(dojo.isArray(cyan)){_8d3=cyan[1],_8d4=cyan[2],_8d5=cyan[3],cyan=cyan[0];}else{if(dojo.isObject(cyan)){_8d3=cyan.m,_8d4=cyan.y,_8d5=cyan.b,cyan=cyan.c;}}cyan/=100,_8d3/=100,_8d4/=100,_8d5/=100;var r,g,b;r=1-Math.min(1,cyan*(1-_8d5)+_8d5);g=1-Math.min(1,_8d3*(1-_8d5)+_8d5);b=1-Math.min(1,_8d4*(1-_8d5)+_8d5);return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsl:function(hue,_8d6,_8d7){if(dojo.isArray(hue)){_8d6=hue[1],_8d7=hue[2],hue=hue[0];}else{if(dojo.isObject(hue)){_8d6=hue.s,_8d7=hue.l,hue=hue.h;}}_8d6/=100;_8d7/=100;while(hue<0){hue+=360;}while(hue>=360){hue-=360;}var r,g,b;if(hue<120){r=(120-hue)/60,g=hue/60,b=0;}else{if(hue<240){r=0,g=(240-hue)/60,b=(hue-120)/60;}else{r=(hue-240)/60,g=0,b=(360-hue)/60;}}r=2*_8d6*Math.min(r,1)+(1-_8d6);g=2*_8d6*Math.min(g,1)+(1-_8d6);b=2*_8d6*Math.min(b,1)+(1-_8d6);if(_8d7<0.5){r*=_8d7,g*=_8d7,b*=_8d7;}else{r=(1-_8d7)*r+2*_8d7-1;g=(1-_8d7)*g+2*_8d7-1;b=(1-_8d7)*b+2*_8d7-1;}return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsv:function(hue,_8d8,_8d9){if(dojo.isArray(hue)){_8d8=hue[1],_8d9=hue[2],hue=hue[0];}else{if(dojo.isObject(hue)){_8d8=hue.s,_8d9=hue.v,hue=hue.h;}}if(hue==360){hue=0;}_8d8/=100;_8d9/=100;var r,g,b;if(_8d8==0){r=_8d9,b=_8d9,g=_8d9;}else{var _8da=hue/60,i=Math.floor(_8da),f=_8da-i;var p=_8d9*(1-_8d8);var q=_8d9*(1-(_8d8*f));var t=_8d9*(1-(_8d8*(1-f)));switch(i){case 0:r=_8d9,g=t,b=p;break;case 1:r=q,g=_8d9,b=p;break;case 2:r=p,g=_8d9,b=t;break;case 3:r=p,g=q,b=_8d9;break;case 4:r=t,g=p,b=_8d9;break;case 5:r=_8d9,g=p,b=q;break;}}return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});}});dojo.extend(dojox.color.Color,{toCmy:function(){var cyan=1-(this.r/255),_8db=1-(this.g/255),_8dc=1-(this.b/255);return {c:Math.round(cyan*100),m:Math.round(_8db*100),y:Math.round(_8dc*100)};},toCmyk:function(){var cyan,_8dd,_8de,_8df;var r=this.r/255,g=this.g/255,b=this.b/255;_8df=Math.min(1-r,1-g,1-b);cyan=(1-r-_8df)/(1-_8df);_8dd=(1-g-_8df)/(1-_8df);_8de=(1-b-_8df)/(1-_8df);return {c:Math.round(cyan*100),m:Math.round(_8dd*100),y:Math.round(_8de*100),b:Math.round(_8df*100)};},toHsl:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _8e0=max-min;var h=0,s=0,l=(min+max)/2;if(l>0&&l<1){s=_8e0/((l<0.5)?(2*l):(2-2*l));}if(_8e0>0){if(max==r&&max!=g){h+=(g-b)/_8e0;}if(max==g&&max!=b){h+=(2+(b-r)/_8e0);}if(max==b&&max!=r){h+=(4+(r-g)/_8e0);}h*=60;}return {h:h,s:Math.round(s*100),l:Math.round(l*100)};},toHsv:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _8e1=max-min;var h=null,s=(max==0)?0:(_8e1/max);if(s==0){h=0;}else{if(r==max){h=60*(g-b)/_8e1;}else{if(g==max){h=120+60*(b-r)/_8e1;}else{h=240+60*(r-g)/_8e1;}}if(h<0){h+=360;}}return {h:h,s:Math.round(s*100),v:Math.round(max*100)};}});}if(!dojo._hasResource["dojox.color"]){dojo._hasResource["dojox.color"]=true;dojo.provide("dojox.color");}if(!dojo._hasResource["dojox.widget.ColorPicker"]){dojo._hasResource["dojox.widget.ColorPicker"]=true;dojo.provide("dojox.widget.ColorPicker");dojo.experimental("dojox.widget.ColorPicker");(function(d){var _8e2=function(hex){return hex;};dojo.declare("dojox.widget.ColorPicker",dijit.form._FormWidget,{showRgb:true,showHsv:true,showHex:true,webSafe:true,animatePoint:true,slideDuration:250,liveUpdate:false,PICKER_HUE_H:150,PICKER_SAT_VAL_H:150,PICKER_SAT_VAL_W:150,PICKER_HUE_SELECTOR_H:8,PICKER_SAT_SELECTOR_H:10,PICKER_SAT_SELECTOR_W:10,value:"#ffffff",_underlay:d.moduleUrl("dojox.widget","ColorPicker/images/underlay.png"),_hueUnderlay:d.moduleUrl("dojox.widget","ColorPicker/images/hue.png"),_pickerPointer:d.moduleUrl("dojox.widget","ColorPicker/images/pickerPointer.png"),_huePickerPointer:d.moduleUrl("dojox.widget","ColorPicker/images/hueHandle.png"),_huePickerPointerAlly:d.moduleUrl("dojox.widget","ColorPicker/images/hueHandleA11y.png"),templateString:dojo.cache("dojox.widget","ColorPicker/ColorPicker.html","<table class=\"dojoxColorPicker\" dojoAttachEvent=\"onkeypress: _handleKey\" cellpadding=\"0\" cellspacing=\"0\">\n\t<tr>\n\t\t<td valign=\"top\" class=\"dojoxColorPickerRightPad\">\n\t\t\t<div class=\"dojoxColorPickerBox\">\n\t\t\t\t<!-- Forcing ABS in style attr due to dojo DND issue with not picking it up form the class. -->\n\t\t\t\t<img role=\"status\" title=\"${saturationPickerTitle}\" alt=\"${saturationPickerTitle}\" class=\"dojoxColorPickerPoint\" src=\"${_pickerPointer}\" tabIndex=\"0\" dojoAttachPoint=\"cursorNode\" style=\"position: absolute; top: 0px; left: 0px;\">\n\t\t\t\t<img role=\"presentation\" alt=\"\" dojoAttachPoint=\"colorUnderlay\" dojoAttachEvent=\"onclick: _setPoint, onmousedown: _stopDrag\" class=\"dojoxColorPickerUnderlay\" src=\"${_underlay}\" ondragstart=\"return false\">\n\t\t\t</div>\n\t\t</td>\n\t\t<td valign=\"top\" class=\"dojoxColorPickerRightPad\">\n\t\t\t<div class=\"dojoxHuePicker\">\n\t\t\t\t<!-- Forcing ABS in style attr due to dojo DND issue with not picking it up form the class. -->\n\t\t\t\t<img role=\"status\" dojoAttachPoint=\"hueCursorNode\" tabIndex=\"0\" class=\"dojoxHuePickerPoint\" title=\"${huePickerTitle}\" alt=\"${huePickerTitle}\" src=\"${_huePickerPointer}\" style=\"position: absolute; top: 0px; left: 0px;\">\n\t\t\t\t<div class=\"dojoxHuePickerUnderlay\" dojoAttachPoint=\"hueNode\">\n\t\t\t\t    <img role=\"presentation\" alt=\"\" dojoAttachEvent=\"onclick: _setHuePoint, onmousedown: _stopDrag\" src=\"${_hueUnderlay}\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</td>\n\t\t<td valign=\"top\">\n\t\t\t<table cellpadding=\"0\" cellspacing=\"0\">\n\t\t\t\t<tr>\n\t\t\t\t\t<td valign=\"top\" class=\"dojoxColorPickerPreviewContainer\">\n\t\t\t\t\t\t<table cellpadding=\"0\" cellspacing=\"0\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td valign=\"top\" class=\"dojoxColorPickerRightPad\">\n\t\t\t\t\t\t\t\t\t<div dojoAttachPoint=\"previewNode\" class=\"dojoxColorPickerPreview\"></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td valign=\"top\">\n\t\t\t\t\t\t\t\t\t<div dojoAttachPoint=\"safePreviewNode\" class=\"dojoxColorPickerWebSafePreview\"></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td valign=\"bottom\">\n\t\t\t\t\t\t<table class=\"dojoxColorPickerOptional\" cellpadding=\"0\" cellspacing=\"0\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div class=\"dijitInline dojoxColorPickerRgb\" dojoAttachPoint=\"rgbNode\">\n\t\t\t\t\t\t\t\t\t\t<table cellpadding=\"1\" cellspacing=\"1\">\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_r\">${redLabel}</label></td><td><input id=\"${_uId}_r\" dojoAttachPoint=\"Rval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"></td></tr>\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_g\">${greenLabel}</label></td><td><input id=\"${_uId}_g\" dojoAttachPoint=\"Gval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"></td></tr>\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_b\">${blueLabel}</label></td><td><input id=\"${_uId}_b\" dojoAttachPoint=\"Bval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"></td></tr>\n\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div class=\"dijitInline dojoxColorPickerHsv\" dojoAttachPoint=\"hsvNode\">\n\t\t\t\t\t\t\t\t\t\t<table cellpadding=\"1\" cellspacing=\"1\">\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_h\">${hueLabel}</label></td><td><input id=\"${_uId}_h\" dojoAttachPoint=\"Hval\"size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"> ${degLabel}</td></tr>\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_s\">${saturationLabel}</label></td><td><input id=\"${_uId}_s\" dojoAttachPoint=\"Sval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"> ${percentSign}</td></tr>\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_v\">${valueLabel}</label></td><td><input id=\"${_uId}_v\" dojoAttachPoint=\"Vval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"> ${percentSign}</td></tr>\n\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td colspan=\"2\">\n\t\t\t\t\t\t\t\t\t<div class=\"dojoxColorPickerHex\" dojoAttachPoint=\"hexNode\" aria-live=\"polite\">\t\n\t\t\t\t\t\t\t\t\t\t<label for=\"${_uId}_hex\">&nbsp;${hexLabel}&nbsp;</label><input id=\"${_uId}_hex\" dojoAttachPoint=\"hexCode, focusNode, valueNode\" size=\"6\" class=\"dojoxColorPickerHexCode\" dojoAttachEvent=\"onchange: _colorInputChange\">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</td>\n\t</tr>\n</table>\n\n"),postMixInProperties:function(){if(dojo.hasClass(dojo.body(),"dijit_a11y")){this._huePickerPointer=this._huePickerPointerAlly;}this._uId=dijit.getUniqueId(this.id);dojo.mixin(this,dojo.i18n.getLocalization("dojox.widget","ColorPicker"));dojo.mixin(this,dojo.i18n.getLocalization("dojo.cldr","number"));this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(d.isIE<7){this.colorUnderlay.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+this._underlay+"', sizingMethod='scale')";this.colorUnderlay.src=this._blankGif.toString();}if(!this.showRgb){this.rgbNode.style.visibility="hidden";}if(!this.showHsv){this.hsvNode.style.visibility="hidden";}if(!this.showHex){this.hexNode.style.visibility="hidden";}if(!this.webSafe){this.safePreviewNode.style.visibility="hidden";}},startup:function(){if(this._started){return;}this._started=true;this.set("value",this.value);this._mover=new d.dnd.move.boxConstrainedMoveable(this.cursorNode,{box:{t:-(this.PICKER_SAT_SELECTOR_H/2),l:-(this.PICKER_SAT_SELECTOR_W/2),w:this.PICKER_SAT_VAL_W,h:this.PICKER_SAT_VAL_H}});this._hueMover=new d.dnd.move.boxConstrainedMoveable(this.hueCursorNode,{box:{t:-(this.PICKER_HUE_SELECTOR_H/2),l:0,w:0,h:this.PICKER_HUE_H}});this._subs=[];this._subs.push(d.subscribe("/dnd/move/stop",d.hitch(this,"_clearTimer")));this._subs.push(d.subscribe("/dnd/move/start",d.hitch(this,"_setTimer")));this._keyListeners=[];this._connects.push(dijit.typematic.addKeyListener(this.hueCursorNode,{charOrCode:dojo.keys.UP_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,dojo.hitch(this,this._updateHueCursorNode),25,25));this._connects.push(dijit.typematic.addKeyListener(this.hueCursorNode,{charOrCode:dojo.keys.DOWN_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,dojo.hitch(this,this._updateHueCursorNode),25,25));this._connects.push(dijit.typematic.addKeyListener(this.cursorNode,{charOrCode:dojo.keys.UP_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,dojo.hitch(this,this._updateCursorNode),25,25));this._connects.push(dijit.typematic.addKeyListener(this.cursorNode,{charOrCode:dojo.keys.DOWN_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,dojo.hitch(this,this._updateCursorNode),25,25));this._connects.push(dijit.typematic.addKeyListener(this.cursorNode,{charOrCode:dojo.keys.LEFT_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,dojo.hitch(this,this._updateCursorNode),25,25));this._connects.push(dijit.typematic.addKeyListener(this.cursorNode,{charOrCode:dojo.keys.RIGHT_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,dojo.hitch(this,this._updateCursorNode),25,25));},_setValueAttr:function(_8e3){if(!this._started){return;}this.setColor(_8e3,true);},setColor:function(_8e4,_8e5){var col=dojox.color.fromString(_8e4);this._updatePickerLocations(col);this._updateColorInputs(col);this._updateValue(col,_8e5);},_setTimer:function(_8e6){dijit.focus(_8e6.node);d.setSelectable(this.domNode,false);this._timer=setInterval(d.hitch(this,"_updateColor"),45);},_clearTimer:function(_8e7){clearInterval(this._timer);this._timer=null;this.onChange(this.value);d.setSelectable(this.domNode,true);},_setHue:function(h){d.style(this.colorUnderlay,"backgroundColor",dojox.color.fromHsv(h,100,100).toHex());},_updateHueCursorNode:function(_8e8,node,e){if(_8e8!==-1){var y=dojo.style(this.hueCursorNode,"top");var _8e9=(this.PICKER_HUE_SELECTOR_H/2);y+=_8e9;var _8ea=false;if(e.charOrCode==dojo.keys.UP_ARROW){if(y>0){y-=1;_8ea=true;}}else{if(e.charOrCode==dojo.keys.DOWN_ARROW){if(y<this.PICKER_HUE_H){y+=1;_8ea=true;}}}y-=_8e9;if(_8ea){dojo.style(this.hueCursorNode,"top",y+"px");}}else{this._updateColor(true);}},_updateCursorNode:function(_8eb,node,e){var _8ec=this.PICKER_SAT_SELECTOR_H/2;var _8ed=this.PICKER_SAT_SELECTOR_W/2;if(_8eb!==-1){var y=dojo.style(this.cursorNode,"top");var x=dojo.style(this.cursorNode,"left");y+=_8ec;x+=_8ed;var _8ee=false;if(e.charOrCode==dojo.keys.UP_ARROW){if(y>0){y-=1;_8ee=true;}}else{if(e.charOrCode==dojo.keys.DOWN_ARROW){if(y<this.PICKER_SAT_VAL_H){y+=1;_8ee=true;}}else{if(e.charOrCode==dojo.keys.LEFT_ARROW){if(x>0){x-=1;_8ee=true;}}else{if(e.charOrCode==dojo.keys.RIGHT_ARROW){if(x<this.PICKER_SAT_VAL_W){x+=1;_8ee=true;}}}}}if(_8ee){y-=_8ec;x-=_8ed;dojo.style(this.cursorNode,"top",y+"px");dojo.style(this.cursorNode,"left",x+"px");}}else{this._updateColor(true);}},_updateColor:function(){var _8ef=this.PICKER_HUE_SELECTOR_H/2,_8f0=this.PICKER_SAT_SELECTOR_H/2,_8f1=this.PICKER_SAT_SELECTOR_W/2;var _8f2=d.style(this.hueCursorNode,"top")+_8ef,_8f3=d.style(this.cursorNode,"top")+_8f0,_8f4=d.style(this.cursorNode,"left")+_8f1,h=Math.round(360-(_8f2/this.PICKER_HUE_H*360)),col=dojox.color.fromHsv(h,_8f4/this.PICKER_SAT_VAL_W*100,100-(_8f3/this.PICKER_SAT_VAL_H*100));this._updateColorInputs(col);this._updateValue(col,true);if(h!=this._hue){this._setHue(h);}},_colorInputChange:function(e){var col,_8f5=false;switch(e.target){case this.hexCode:col=dojox.color.fromString(e.target.value);_8f5=true;break;case this.Rval:case this.Gval:case this.Bval:col=dojox.color.fromArray([this.Rval.value,this.Gval.value,this.Bval.value]);_8f5=true;break;case this.Hval:case this.Sval:case this.Vval:col=dojox.color.fromHsv(this.Hval.value,this.Sval.value,this.Vval.value);_8f5=true;break;}if(_8f5){this._updatePickerLocations(col);this._updateColorInputs(col);this._updateValue(col,true);}},_updateValue:function(col,_8f6){var hex=col.toHex();this.value=this.valueNode.value=hex;if(_8f6&&(!this._timer||this.liveUpdate)){this.onChange(hex);}},_updatePickerLocations:function(col){var _8f7=this.PICKER_HUE_SELECTOR_H/2,_8f8=this.PICKER_SAT_SELECTOR_H/2,_8f9=this.PICKER_SAT_SELECTOR_W/2;var hsv=col.toHsv(),ypos=Math.round(this.PICKER_HUE_H-hsv.h/360*this.PICKER_HUE_H)-_8f7,_8fa=Math.round(hsv.s/100*this.PICKER_SAT_VAL_W)-_8f9,_8fb=Math.round(this.PICKER_SAT_VAL_H-hsv.v/100*this.PICKER_SAT_VAL_H)-_8f8;if(this.animatePoint){d.fx.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:ypos,left:0}).play();d.fx.slideTo({node:this.cursorNode,duration:this.slideDuration,top:_8fb,left:_8fa}).play();}else{d.style(this.hueCursorNode,"top",ypos+"px");d.style(this.cursorNode,{left:_8fa+"px",top:_8fb+"px"});}if(hsv.h!=this._hue){this._setHue(hsv.h);}},_updateColorInputs:function(col){var hex=col.toHex();if(this.showRgb){this.Rval.value=col.r;this.Gval.value=col.g;this.Bval.value=col.b;}if(this.showHsv){var hsv=col.toHsv();this.Hval.value=Math.round((hsv.h));this.Sval.value=Math.round(hsv.s);this.Vval.value=Math.round(hsv.v);}if(this.showHex){this.hexCode.value=hex;}this.previewNode.style.backgroundColor=hex;if(this.webSafe){this.safePreviewNode.style.backgroundColor=_8e2(hex);}},_setHuePoint:function(evt){var _8fc=(this.PICKER_HUE_SELECTOR_H/2);var ypos=evt.layerY-_8fc;if(this.animatePoint){d.fx.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:ypos,left:0,onEnd:d.hitch(this,function(){this._updateColor(true);dijit.focus(this.hueCursorNode);})}).play();}else{d.style(this.hueCursorNode,"top",ypos+"px");this._updateColor(false);}},_setPoint:function(evt){var _8fd=this.PICKER_SAT_SELECTOR_H/2;var _8fe=this.PICKER_SAT_SELECTOR_W/2;var _8ff=evt.layerY-_8fd;var _900=evt.layerX-_8fe;if(evt){dijit.focus(evt.target);}if(this.animatePoint){d.fx.slideTo({node:this.cursorNode,duration:this.slideDuration,top:_8ff,left:_900,onEnd:d.hitch(this,function(){this._updateColor(true);dijit.focus(this.cursorNode);})}).play();}else{d.style(this.cursorNode,{left:_900+"px",top:_8ff+"px"});this._updateColor(false);}},_handleKey:function(e){},focus:function(){if(!this._focused){dijit.focus(this.focusNode);}},_stopDrag:function(e){dojo.stopEvent(e);},destroy:function(){this.inherited(arguments);dojo.forEach(this._subs,function(sub){dojo.unsubscribe(sub);});delete this._subs;}});})(dojo);}if(!dojo._hasResource["dojox.storage.Provider"]){dojo._hasResource["dojox.storage.Provider"]=true;dojo.provide("dojox.storage.Provider");dojo.declare("dojox.storage.Provider",null,{constructor:function(){},SUCCESS:"success",FAILED:"failed",PENDING:"pending",SIZE_NOT_AVAILABLE:"Size not available",SIZE_NO_LIMIT:"No size limit",DEFAULT_NAMESPACE:"default",onHideSettingsUI:null,initialize:function(){console.warn("dojox.storage.initialize not implemented");},isAvailable:function(){console.warn("dojox.storage.isAvailable not implemented");},put:function(key,_901,_902,_903){console.warn("dojox.storage.put not implemented");},get:function(key,_904){console.warn("dojox.storage.get not implemented");},hasKey:function(key,_905){return !!this.get(key,_905);},getKeys:function(_906){console.warn("dojox.storage.getKeys not implemented");},clear:function(_907){console.warn("dojox.storage.clear not implemented");},remove:function(key,_908){console.warn("dojox.storage.remove not implemented");},getNamespaces:function(){console.warn("dojox.storage.getNamespaces not implemented");},isPermanent:function(){console.warn("dojox.storage.isPermanent not implemented");},getMaximumSize:function(){console.warn("dojox.storage.getMaximumSize not implemented");},putMultiple:function(keys,_909,_90a,_90b){for(var i=0;i<keys.length;i++){dojox.storage.put(keys[i],_909[i],_90a,_90b);}},getMultiple:function(keys,_90c){var _90d=[];for(var i=0;i<keys.length;i++){_90d.push(dojox.storage.get(keys[i],_90c));}return _90d;},removeMultiple:function(keys,_90e){for(var i=0;i<keys.length;i++){dojox.storage.remove(keys[i],_90e);}},isValidKeyArray:function(keys){if(keys===null||keys===undefined||!dojo.isArray(keys)){return false;}return !dojo.some(keys,function(key){return !this.isValidKey(key);},this);},hasSettingsUI:function(){return false;},showSettingsUI:function(){console.warn("dojox.storage.showSettingsUI not implemented");},hideSettingsUI:function(){console.warn("dojox.storage.hideSettingsUI not implemented");},isValidKey:function(_90f){if(_90f===null||_90f===undefined){return false;}return /^[0-9A-Za-z_]*$/.test(_90f);},getResourceList:function(){return [];}});}if(!dojo._hasResource["dojox.storage.manager"]){dojo._hasResource["dojox.storage.manager"]=true;dojo.provide("dojox.storage.manager");dojox.storage.manager=new function(){this.currentProvider=null;this.available=false;this.providers=[];this._initialized=false;this._onLoadListeners=[];this.initialize=function(){this.autodetect();};this.register=function(name,_910){this.providers.push(_910);this.providers[name]=_910;};this.setProvider=function(_911){};this.autodetect=function(){if(this._initialized){return;}var _912=dojo.config["forceStorageProvider"]||false;var _913;for(var i=0;i<this.providers.length;i++){_913=this.providers[i];if(_912&&_912==_913.declaredClass){_913.isAvailable();break;}else{if(!_912&&_913.isAvailable()){break;}}}if(!_913){this._initialized=true;this.available=false;this.currentProvider=null;console.warn("No storage provider found for this platform");this.loaded();return;}this.currentProvider=_913;dojo.mixin(dojox.storage,this.currentProvider);dojox.storage.initialize();this._initialized=true;this.available=true;};this.isAvailable=function(){return this.available;};this.addOnLoad=function(func){this._onLoadListeners.push(func);if(this.isInitialized()){this._fireLoaded();}};this.removeOnLoad=function(func){for(var i=0;i<this._onLoadListeners.length;i++){if(func==this._onLoadListeners[i]){this._onLoadListeners.splice(i,1);break;}}};this.isInitialized=function(){if(this.currentProvider!=null&&this.currentProvider.declaredClass=="dojox.storage.FlashStorageProvider"&&dojox.flash.ready==false){return false;}else{return this._initialized;}};this.supportsProvider=function(_914){try{var _915=eval("new "+_914+"()");var _916=_915.isAvailable();if(!_916){return false;}return _916;}catch(e){return false;}};this.getProvider=function(){return this.currentProvider;};this.loaded=function(){this._fireLoaded();};this._fireLoaded=function(){dojo.forEach(this._onLoadListeners,function(i){try{i();}catch(e){console.debug(e);}});};this.getResourceList=function(){var _917=[];dojo.forEach(dojox.storage.manager.providers,function(_918){_917=_917.concat(_918.getResourceList());});return _917;};};}if(!dojo._hasResource["dojox.storage.LocalStorageProvider"]){dojo._hasResource["dojox.storage.LocalStorageProvider"]=true;dojo.provide("dojox.storage.LocalStorageProvider");dojo.declare("dojox.storage.LocalStorageProvider",[dojox.storage.Provider],{store:null,initialize:function(){this.store=localStorage;this.initialized=true;dojox.storage.manager.loaded();},isAvailable:function(){return typeof localStorage!="undefined";},put:function(key,_919,_91a,_91b){this._assertIsValidKey(key);_91b=_91b||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_91b);var _91c=this.getFullKey(key,_91b);_919=dojo.toJson(_919);try{this.store.setItem(_91c,_919);if(_91a){_91a(this.SUCCESS,key,null,_91b);}}catch(e){if(_91a){_91a(this.FAILED,key,e.toString(),_91b);}}},get:function(key,_91d){this._assertIsValidKey(key);_91d=_91d||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_91d);key=this.getFullKey(key,_91d);return dojo.fromJson(this.store.getItem(key));},getKeys:function(_91e){_91e=_91e||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_91e);_91e="__"+_91e+"_";var keys=[];for(var i=0;i<this.store.length;i++){var _91f=this.store.key(i);if(this._beginsWith(_91f,_91e)){_91f=_91f.substring(_91e.length);keys.push(_91f);}}return keys;},clear:function(_920){_920=_920||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_920);_920="__"+_920+"_";var keys=[];for(var i=0;i<this.store.length;i++){if(this._beginsWith(this.store.key(i),_920)){keys.push(this.store.key(i));}}dojo.forEach(keys,dojo.hitch(this.store,"removeItem"));},remove:function(key,_921){_921=_921||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_921);this.store.removeItem(this.getFullKey(key,_921));},getNamespaces:function(){var _922=[this.DEFAULT_NAMESPACE];var _923={};_923[this.DEFAULT_NAMESPACE]=true;var _924=/^__([^_]*)_/;for(var i=0;i<this.store.length;i++){var _925=this.store.key(i);if(_924.test(_925)==true){var _926=_925.match(_924)[1];if(typeof _923[_926]=="undefined"){_923[_926]=true;_922.push(_926);}}}return _922;},isPermanent:function(){return true;},getMaximumSize:function(){return dojox.storage.SIZE_NO_LIMIT;},hasSettingsUI:function(){return false;},isValidKey:function(_927){if(_927===null||_927===undefined){return false;}return /^[0-9A-Za-z_-]*$/.test(_927);},isValidNamespace:function(_928){if(_928===null||_928===undefined){return false;}return /^[0-9A-Za-z-]*$/.test(_928);},getFullKey:function(key,_929){return "__"+_929+"_"+key;},_beginsWith:function(_92a,_92b){if(_92b.length>_92a.length){return false;}return _92a.substring(0,_92b.length)===_92b;},_assertIsValidNamespace:function(_92c){if(this.isValidNamespace(_92c)===false){throw new Error("Invalid namespace given: "+_92c);}},_assertIsValidKey:function(key){if(this.isValidKey(key)===false){throw new Error("Invalid key given: "+key);}}});dojox.storage.manager.register("dojox.storage.LocalStorageProvider",new dojox.storage.LocalStorageProvider());}if(!dojo._hasResource["dojo.gears"]){dojo._hasResource["dojo.gears"]=true;dojo.provide("dojo.gears");dojo.getObject("gears",true,dojo);dojo.gears._gearsObject=function(){var _92d;var _92e;var _92f=dojo.getObject("google.gears");if(_92f){return _92f;}if(typeof GearsFactory!="undefined"){_92d=new GearsFactory();}else{if(dojo.isIE){try{_92d=new ActiveXObject("Gears.Factory");}catch(e){}}else{if(navigator.mimeTypes["application/x-googlegears"]){_92d=document.createElement("object");_92d.setAttribute("type","application/x-googlegears");_92d.setAttribute("width",0);_92d.setAttribute("height",0);_92d.style.display="none";document.documentElement.appendChild(_92d);}}}if(!_92d){return null;}dojo.setObject("google.gears.factory",_92d);return dojo.getObject("google.gears");};dojo.gears.available=(!!dojo.gears._gearsObject())||0;}if(!dojo._hasResource["dojox.sql._crypto"]){dojo._hasResource["dojox.sql._crypto"]=true;dojo.provide("dojox.sql._crypto");dojo.mixin(dojox.sql._crypto,{_POOL_SIZE:100,encrypt:function(_930,_931,_932){this._initWorkerPool();var msg={plaintext:_930,password:_931};msg=dojo.toJson(msg);msg="encr:"+String(msg);this._assignWork(msg,_932);},decrypt:function(_933,_934,_935){this._initWorkerPool();var msg={ciphertext:_933,password:_934};msg=dojo.toJson(msg);msg="decr:"+String(msg);this._assignWork(msg,_935);},_initWorkerPool:function(){if(!this._manager){try{this._manager=google.gears.factory.create("beta.workerpool","1.0");this._unemployed=[];this._employed={};this._handleMessage=[];var self=this;this._manager.onmessage=function(msg,_936){var _937=self._employed["_"+_936];self._employed["_"+_936]=undefined;self._unemployed.push("_"+_936);if(self._handleMessage.length){var _938=self._handleMessage.shift();self._assignWork(_938.msg,_938.callback);}_937(msg);};var _939="function _workerInit(){"+"gearsWorkerPool.onmessage = "+String(this._workerHandler)+";"+"}";var code=_939+" _workerInit();";for(var i=0;i<this._POOL_SIZE;i++){this._unemployed.push("_"+this._manager.createWorker(code));}}catch(exp){throw exp.message||exp;}}},_assignWork:function(msg,_93a){if(!this._handleMessage.length&&this._unemployed.length){var _93b=this._unemployed.shift().substring(1);this._employed["_"+_93b]=_93a;this._manager.sendMessage(msg,parseInt(_93b,10));}else{this._handleMessage={msg:msg,callback:_93a};}},_workerHandler:function(msg,_93c){var Sbox=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22];var Rcon=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]];function _93d(_93e,w){var Nb=4;var Nr=w.length/Nb-1;var _93f=[[],[],[],[]];for(var i=0;i<4*Nb;i++){_93f[i%4][Math.floor(i/4)]=_93e[i];}_93f=_940(_93f,w,0,Nb);for(var _941=1;_941<Nr;_941++){_93f=_942(_93f,Nb);_93f=_943(_93f,Nb);_93f=_944(_93f,Nb);_93f=_940(_93f,w,_941,Nb);}_93f=_942(_93f,Nb);_93f=_943(_93f,Nb);_93f=_940(_93f,w,Nr,Nb);var _945=new Array(4*Nb);for(var i=0;i<4*Nb;i++){_945[i]=_93f[i%4][Math.floor(i/4)];}return _945;};function _942(s,Nb){for(var r=0;r<4;r++){for(var c=0;c<Nb;c++){s[r][c]=Sbox[s[r][c]];}}return s;};function _943(s,Nb){var t=new Array(4);for(var r=1;r<4;r++){for(var c=0;c<4;c++){t[c]=s[r][(c+r)%Nb];}for(var c=0;c<4;c++){s[r][c]=t[c];}}return s;};function _944(s,Nb){for(var c=0;c<4;c++){var a=new Array(4);var b=new Array(4);for(var i=0;i<4;i++){a[i]=s[i][c];b[i]=s[i][c]&128?s[i][c]<<1^283:s[i][c]<<1;}s[0][c]=b[0]^a[1]^b[1]^a[2]^a[3];s[1][c]=a[0]^b[1]^a[2]^b[2]^a[3];s[2][c]=a[0]^a[1]^b[2]^a[3]^b[3];s[3][c]=a[0]^b[0]^a[1]^a[2]^b[3];}return s;};function _940(_946,w,rnd,Nb){for(var r=0;r<4;r++){for(var c=0;c<Nb;c++){_946[r][c]^=w[rnd*4+c][r];}}return _946;};function _947(key){var Nb=4;var Nk=key.length/4;var Nr=Nk+6;var w=new Array(Nb*(Nr+1));var temp=new Array(4);for(var i=0;i<Nk;i++){var r=[key[4*i],key[4*i+1],key[4*i+2],key[4*i+3]];w[i]=r;}for(var i=Nk;i<(Nb*(Nr+1));i++){w[i]=new Array(4);for(var t=0;t<4;t++){temp[t]=w[i-1][t];}if(i%Nk==0){temp=_948(_949(temp));for(var t=0;t<4;t++){temp[t]^=Rcon[i/Nk][t];}}else{if(Nk>6&&i%Nk==4){temp=_948(temp);}}for(var t=0;t<4;t++){w[i][t]=w[i-Nk][t]^temp[t];}}return w;};function _948(w){for(var i=0;i<4;i++){w[i]=Sbox[w[i]];}return w;};function _949(w){w[4]=w[0];for(var i=0;i<4;i++){w[i]=w[i+1];}return w;};function _94a(_94b,_94c,_94d){if(!(_94d==128||_94d==192||_94d==256)){return "";}var _94e=_94d/8;var _94f=new Array(_94e);for(var i=0;i<_94e;i++){_94f[i]=_94c.charCodeAt(i)&255;}var key=_93d(_94f,_947(_94f));key=key.concat(key.slice(0,_94e-16));var _950=16;var _951=new Array(_950);var _952=(new Date()).getTime();for(var i=0;i<4;i++){_951[i]=(_952>>>i*8)&255;}for(var i=0;i<4;i++){_951[i+4]=(_952/4294967296>>>i*8)&255;}var _953=_947(key);var _954=Math.ceil(_94b.length/_950);var _955=new Array(_954);for(var b=0;b<_954;b++){for(var c=0;c<4;c++){_951[15-c]=(b>>>c*8)&255;}for(var c=0;c<4;c++){_951[15-c-4]=(b/4294967296>>>c*8);}var _956=_93d(_951,_953);var _957=b<_954-1?_950:(_94b.length-1)%_950+1;var ct="";for(var i=0;i<_957;i++){var _958=_94b.charCodeAt(b*_950+i);var _959=_958^_956[i];ct+=String.fromCharCode(_959);}_955[b]=_95a(ct);}var _95b="";for(var i=0;i<8;i++){_95b+=String.fromCharCode(_951[i]);}_95b=_95a(_95b);return _95b+"-"+_955.join("-");};function _95c(_95d,_95e,_95f){if(!(_95f==128||_95f==192||_95f==256)){return "";}var _960=_95f/8;var _961=new Array(_960);for(var i=0;i<_960;i++){_961[i]=_95e.charCodeAt(i)&255;}var _962=_947(_961);var key=_93d(_961,_962);key=key.concat(key.slice(0,_960-16));var _963=_947(key);_95d=_95d.split("-");var _964=16;var _965=new Array(_964);var _966=_967(_95d[0]);for(var i=0;i<8;i++){_965[i]=_966.charCodeAt(i);}var _968=new Array(_95d.length-1);for(var b=1;b<_95d.length;b++){for(var c=0;c<4;c++){_965[15-c]=((b-1)>>>c*8)&255;}for(var c=0;c<4;c++){_965[15-c-4]=((b/4294967296-1)>>>c*8)&255;}var _969=_93d(_965,_963);_95d[b]=_967(_95d[b]);var pt="";for(var i=0;i<_95d[b].length;i++){var _96a=_95d[b].charCodeAt(i);var _96b=_96a^_969[i];pt+=String.fromCharCode(_96b);}_968[b-1]=pt;}return _968.join("");};function _95a(str){return str.replace(/[\0\t\n\v\f\r\xa0!-]/g,function(c){return "!"+c.charCodeAt(0)+"!";});};function _967(str){return str.replace(/!\d\d?\d?!/g,function(c){return String.fromCharCode(c.slice(1,-1));});};function _96c(_96d,_96e){return _94a(_96d,_96e,256);};function _96f(_970,_971){return _95c(_970,_971,256);};var cmd=msg.substr(0,4);var arg=msg.substr(5);if(cmd=="encr"){arg=eval("("+arg+")");var _972=arg.plaintext;var _973=arg.password;var _974=_96c(_972,_973);gearsWorkerPool.sendMessage(String(_974),_93c);}else{if(cmd=="decr"){arg=eval("("+arg+")");var _975=arg.ciphertext;var _973=arg.password;var _974=_96f(_975,_973);gearsWorkerPool.sendMessage(String(_974),_93c);}}}});}if(!dojo._hasResource["dojox.sql._base"]){dojo._hasResource["dojox.sql._base"]=true;dojo.provide("dojox.sql._base");dojo.mixin(dojox.sql,{dbName:null,debug:(dojo.exists("dojox.sql.debug")?dojox.sql.debug:false),open:function(_976){if(this._dbOpen&&(!_976||_976==this.dbName)){return;}if(!this.dbName){this.dbName="dot_store_"+window.location.href.replace(/[^0-9A-Za-z_]/g,"_");if(this.dbName.length>63){this.dbName=this.dbName.substring(0,63);}}if(!_976){_976=this.dbName;}try{this._initDb();this.db.open(_976);this._dbOpen=true;}catch(exp){throw exp.message||exp;}},close:function(_977){if(dojo.isIE){return;}if(!this._dbOpen&&(!_977||_977==this.dbName)){return;}if(!_977){_977=this.dbName;}try{this.db.close(_977);this._dbOpen=false;}catch(exp){throw exp.message||exp;}},_exec:function(_978){try{this._initDb();if(!this._dbOpen){this.open();this._autoClose=true;}var sql=null;var _979=null;var _97a=null;var args=dojo._toArray(_978);sql=args.splice(0,1)[0];if(this._needsEncrypt(sql)||this._needsDecrypt(sql)){_979=args.splice(args.length-1,1)[0];_97a=args.splice(args.length-1,1)[0];}if(this.debug){this._printDebugSQL(sql,args);}var _97b;if(this._needsEncrypt(sql)){_97b=new dojox.sql._SQLCrypto("encrypt",sql,_97a,args,_979);return null;}else{if(this._needsDecrypt(sql)){_97b=new dojox.sql._SQLCrypto("decrypt",sql,_97a,args,_979);return null;}}var rs=this.db.execute(sql,args);rs=this._normalizeResults(rs);if(this._autoClose){this.close();}return rs;}catch(exp){exp=exp.message||exp;console.debug("SQL Exception: "+exp);if(this._autoClose){try{this.close();}catch(e){console.debug("Error closing database: "+e.message||e);}}throw exp;}return null;},_initDb:function(){if(!this.db){try{this.db=google.gears.factory.create("beta.database","1.0");}catch(exp){dojo.setObject("google.gears.denied",true);if(dojox.off){dojox.off.onFrameworkEvent("coreOperationFailed");}throw "Google Gears must be allowed to run";}}},_printDebugSQL:function(sql,args){var msg="dojox.sql(\""+sql+"\"";for(var i=0;i<args.length;i++){if(typeof args[i]=="string"){msg+=", \""+args[i]+"\"";}else{msg+=", "+args[i];}}msg+=")";console.debug(msg);},_normalizeResults:function(rs){var _97c=[];if(!rs){return [];}while(rs.isValidRow()){var row={};for(var i=0;i<rs.fieldCount();i++){var _97d=rs.fieldName(i);var _97e=rs.field(i);row[_97d]=_97e;}_97c.push(row);rs.next();}rs.close();return _97c;},_needsEncrypt:function(sql){return /encrypt\([^\)]*\)/i.test(sql);},_needsDecrypt:function(sql){return /decrypt\([^\)]*\)/i.test(sql);}});dojo.declare("dojox.sql._SQLCrypto",null,{constructor:function(_97f,sql,_980,args,_981){if(_97f=="encrypt"){this._execEncryptSQL(sql,_980,args,_981);}else{this._execDecryptSQL(sql,_980,args,_981);}},_execEncryptSQL:function(sql,_982,args,_983){var _984=this._stripCryptoSQL(sql);var _985=this._flagEncryptedArgs(sql,args);var self=this;this._encrypt(_984,_982,args,_985,function(_986){var _987=false;var _988=[];var exp=null;try{_988=dojox.sql.db.execute(_984,_986);}catch(execError){_987=true;exp=execError.message||execError;}if(exp!=null){if(dojox.sql._autoClose){try{dojox.sql.close();}catch(e){}}_983(null,true,exp.toString());return;}_988=dojox.sql._normalizeResults(_988);if(dojox.sql._autoClose){dojox.sql.close();}if(dojox.sql._needsDecrypt(sql)){var _989=self._determineDecryptedColumns(sql);self._decrypt(_988,_989,_982,function(_98a){_983(_98a,false,null);});}else{_983(_988,false,null);}});},_execDecryptSQL:function(sql,_98b,args,_98c){var _98d=this._stripCryptoSQL(sql);var _98e=this._determineDecryptedColumns(sql);var _98f=false;var _990=[];var exp=null;try{_990=dojox.sql.db.execute(_98d,args);}catch(execError){_98f=true;exp=execError.message||execError;}if(exp!=null){if(dojox.sql._autoClose){try{dojox.sql.close();}catch(e){}}_98c(_990,true,exp.toString());return;}_990=dojox.sql._normalizeResults(_990);if(dojox.sql._autoClose){dojox.sql.close();}this._decrypt(_990,_98e,_98b,function(_991){_98c(_991,false,null);});},_encrypt:function(sql,_992,args,_993,_994){this._totalCrypto=0;this._finishedCrypto=0;this._finishedSpawningCrypto=false;this._finalArgs=args;for(var i=0;i<args.length;i++){if(_993[i]){var _995=args[i];var _996=i;this._totalCrypto++;dojox.sql._crypto.encrypt(_995,_992,dojo.hitch(this,function(_997){this._finalArgs[_996]=_997;this._finishedCrypto++;if(this._finishedCrypto>=this._totalCrypto&&this._finishedSpawningCrypto){_994(this._finalArgs);}}));}}this._finishedSpawningCrypto=true;},_decrypt:function(_998,_999,_99a,_99b){this._totalCrypto=0;this._finishedCrypto=0;this._finishedSpawningCrypto=false;this._finalResultSet=_998;for(var i=0;i<_998.length;i++){var row=_998[i];for(var _99c in row){if(_999=="*"||_999[_99c]){this._totalCrypto++;var _99d=row[_99c];this._decryptSingleColumn(_99c,_99d,_99a,i,function(_99e){_99b(_99e);});}}}this._finishedSpawningCrypto=true;},_stripCryptoSQL:function(sql){sql=sql.replace(/DECRYPT\(\*\)/ig,"*");var _99f=sql.match(/ENCRYPT\([^\)]*\)/ig);if(_99f!=null){for(var i=0;i<_99f.length;i++){var _9a0=_99f[i];var _9a1=_9a0.match(/ENCRYPT\(([^\)]*)\)/i)[1];sql=sql.replace(_9a0,_9a1);}}_99f=sql.match(/DECRYPT\([^\)]*\)/ig);if(_99f!=null){for(i=0;i<_99f.length;i++){var _9a2=_99f[i];var _9a3=_9a2.match(/DECRYPT\(([^\)]*)\)/i)[1];sql=sql.replace(_9a2,_9a3);}}return sql;},_flagEncryptedArgs:function(sql,args){var _9a4=new RegExp(/([\"][^\"]*\?[^\"]*[\"])|([\'][^\']*\?[^\']*[\'])|(\?)/ig);var _9a5;var _9a6=0;var _9a7=[];while((_9a5=_9a4.exec(sql))!=null){var _9a8=RegExp.lastMatch+"";if(/^[\"\']/.test(_9a8)){continue;}var _9a9=false;if(/ENCRYPT\([^\)]*$/i.test(RegExp.leftContext)){_9a9=true;}_9a7[_9a6]=_9a9;_9a6++;}return _9a7;},_determineDecryptedColumns:function(sql){var _9aa={};if(/DECRYPT\(\*\)/i.test(sql)){_9aa="*";}else{var _9ab=/DECRYPT\((?:\s*\w*\s*\,?)*\)/ig;var _9ac=_9ab.exec(sql);while(_9ac){var _9ad=new String(RegExp.lastMatch);var _9ae=_9ad.replace(/DECRYPT\(/i,"");_9ae=_9ae.replace(/\)/,"");_9ae=_9ae.split(/\s*,\s*/);dojo.forEach(_9ae,function(_9af){if(/\s*\w* AS (\w*)/i.test(_9af)){_9af=_9af.match(/\s*\w* AS (\w*)/i)[1];}_9aa[_9af]=true;});_9ac=_9ab.exec(sql);}}return _9aa;},_decryptSingleColumn:function(_9b0,_9b1,_9b2,_9b3,_9b4){dojox.sql._crypto.decrypt(_9b1,_9b2,dojo.hitch(this,function(_9b5){this._finalResultSet[_9b3][_9b0]=_9b5;this._finishedCrypto++;if(this._finishedCrypto>=this._totalCrypto&&this._finishedSpawningCrypto){_9b4(this._finalResultSet);}}));}});(function(){var _9b6=dojox.sql;dojox.sql=new Function("return dojox.sql._exec(arguments);");dojo.mixin(dojox.sql,_9b6);})();}if(!dojo._hasResource["dojox.sql"]){dojo._hasResource["dojox.sql"]=true;dojo.provide("dojox.sql");}if(!dojo._hasResource["dojox.storage.GearsStorageProvider"]){dojo._hasResource["dojox.storage.GearsStorageProvider"]=true;dojo.provide("dojox.storage.GearsStorageProvider");if(dojo.gears.available){(function(){dojo.declare("dojox.storage.GearsStorageProvider",dojox.storage.Provider,{constructor:function(){},TABLE_NAME:"__DOJO_STORAGE",initialized:false,_available:null,_storageReady:false,initialize:function(){if(dojo.config["disableGearsStorage"]==true){return;}this.TABLE_NAME="__DOJO_STORAGE";this.initialized=true;dojox.storage.manager.loaded();},isAvailable:function(){return this._available=dojo.gears.available;},put:function(key,_9b7,_9b8,_9b9){this._initStorage();if(!this.isValidKey(key)){throw new Error("Invalid key given: "+key);}_9b9=_9b9||this.DEFAULT_NAMESPACE;if(!this.isValidKey(_9b9)){throw new Error("Invalid namespace given: "+key);}if(dojo.isString(_9b7)){_9b7="string:"+_9b7;}else{_9b7=dojo.toJson(_9b7);}try{dojox.sql("DELETE FROM "+this.TABLE_NAME+" WHERE namespace = ? AND key = ?",_9b9,key);dojox.sql("INSERT INTO "+this.TABLE_NAME+" VALUES (?, ?, ?)",_9b9,key,_9b7);}catch(e){console.debug("dojox.storage.GearsStorageProvider.put:",e);_9b8(this.FAILED,key,e.toString(),_9b9);return;}if(_9b8){_9b8(dojox.storage.SUCCESS,key,null,_9b9);}},get:function(key,_9ba){this._initStorage();if(!this.isValidKey(key)){throw new Error("Invalid key given: "+key);}_9ba=_9ba||this.DEFAULT_NAMESPACE;if(!this.isValidKey(_9ba)){throw new Error("Invalid namespace given: "+key);}var _9bb=dojox.sql("SELECT * FROM "+this.TABLE_NAME+" WHERE namespace = ? AND "+" key = ?",_9ba,key);if(!_9bb.length){return null;}else{_9bb=_9bb[0].value;}if(dojo.isString(_9bb)&&(/^string:/.test(_9bb))){_9bb=_9bb.substring("string:".length);}else{_9bb=dojo.fromJson(_9bb);}return _9bb;},getNamespaces:function(){this._initStorage();var _9bc=[dojox.storage.DEFAULT_NAMESPACE];var rs=dojox.sql("SELECT namespace FROM "+this.TABLE_NAME+" DESC GROUP BY namespace");for(var i=0;i<rs.length;i++){if(rs[i].namespace!=dojox.storage.DEFAULT_NAMESPACE){_9bc.push(rs[i].namespace);}}return _9bc;},getKeys:function(_9bd){this._initStorage();_9bd=_9bd||this.DEFAULT_NAMESPACE;if(!this.isValidKey(_9bd)){throw new Error("Invalid namespace given: "+_9bd);}var rs=dojox.sql("SELECT key FROM "+this.TABLE_NAME+" WHERE namespace = ?",_9bd);var _9be=[];for(var i=0;i<rs.length;i++){_9be.push(rs[i].key);}return _9be;},clear:function(_9bf){this._initStorage();_9bf=_9bf||this.DEFAULT_NAMESPACE;if(!this.isValidKey(_9bf)){throw new Error("Invalid namespace given: "+_9bf);}dojox.sql("DELETE FROM "+this.TABLE_NAME+" WHERE namespace = ?",_9bf);},remove:function(key,_9c0){this._initStorage();if(!this.isValidKey(key)){throw new Error("Invalid key given: "+key);}_9c0=_9c0||this.DEFAULT_NAMESPACE;if(!this.isValidKey(_9c0)){throw new Error("Invalid namespace given: "+key);}dojox.sql("DELETE FROM "+this.TABLE_NAME+" WHERE namespace = ? AND"+" key = ?",_9c0,key);},putMultiple:function(keys,_9c1,_9c2,_9c3){this._initStorage();if(!this.isValidKeyArray(keys)||!_9c1 instanceof Array||keys.length!=_9c1.length){throw new Error("Invalid arguments: keys = ["+keys+"], values = ["+_9c1+"]");}if(_9c3==null||typeof _9c3=="undefined"){_9c3=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_9c3)){throw new Error("Invalid namespace given: "+_9c3);}this._statusHandler=_9c2;try{dojox.sql.open();dojox.sql.db.execute("BEGIN TRANSACTION");var _9c4="REPLACE INTO "+this.TABLE_NAME+" VALUES (?, ?, ?)";for(var i=0;i<keys.length;i++){var _9c5=_9c1[i];if(dojo.isString(_9c5)){_9c5="string:"+_9c5;}else{_9c5=dojo.toJson(_9c5);}dojox.sql.db.execute(_9c4,[_9c3,keys[i],_9c5]);}dojox.sql.db.execute("COMMIT TRANSACTION");dojox.sql.close();}catch(e){console.debug("dojox.storage.GearsStorageProvider.putMultiple:",e);if(_9c2){_9c2(this.FAILED,keys,e.toString(),_9c3);}return;}if(_9c2){_9c2(dojox.storage.SUCCESS,keys,null,_9c3);}},getMultiple:function(keys,_9c6){this._initStorage();if(!this.isValidKeyArray(keys)){throw new ("Invalid key array given: "+keys);}if(_9c6==null||typeof _9c6=="undefined"){_9c6=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_9c6)){throw new Error("Invalid namespace given: "+_9c6);}var _9c7="SELECT * FROM "+this.TABLE_NAME+" WHERE namespace = ? AND "+" key = ?";var _9c8=[];for(var i=0;i<keys.length;i++){var _9c9=dojox.sql(_9c7,_9c6,keys[i]);if(!_9c9.length){_9c8[i]=null;}else{_9c9=_9c9[0].value;if(dojo.isString(_9c9)&&(/^string:/.test(_9c9))){_9c8[i]=_9c9.substring("string:".length);}else{_9c8[i]=dojo.fromJson(_9c9);}}}return _9c8;},removeMultiple:function(keys,_9ca){this._initStorage();if(!this.isValidKeyArray(keys)){throw new Error("Invalid arguments: keys = ["+keys+"]");}if(_9ca==null||typeof _9ca=="undefined"){_9ca=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_9ca)){throw new Error("Invalid namespace given: "+_9ca);}dojox.sql.open();dojox.sql.db.execute("BEGIN TRANSACTION");var _9cb="DELETE FROM "+this.TABLE_NAME+" WHERE namespace = ? AND key = ?";for(var i=0;i<keys.length;i++){dojox.sql.db.execute(_9cb,[_9ca,keys[i]]);}dojox.sql.db.execute("COMMIT TRANSACTION");dojox.sql.close();},isPermanent:function(){return true;},getMaximumSize:function(){return this.SIZE_NO_LIMIT;},hasSettingsUI:function(){return false;},showSettingsUI:function(){throw new Error(this.declaredClass+" does not support a storage settings user-interface");},hideSettingsUI:function(){throw new Error(this.declaredClass+" does not support a storage settings user-interface");},_initStorage:function(){if(this._storageReady){return;}if(!google.gears.factory.hasPermission){var _9cc=null;var icon=null;var msg="This site would like to use Google Gears to enable "+"enhanced functionality.";var _9cd=google.gears.factory.getPermission(_9cc,icon,msg);if(!_9cd){throw new Error("You must give permission to use Gears in order to "+"store data");}}try{dojox.sql("CREATE TABLE IF NOT EXISTS "+this.TABLE_NAME+"( "+" namespace TEXT, "+" key TEXT, "+" value TEXT "+")");dojox.sql("CREATE UNIQUE INDEX IF NOT EXISTS namespace_key_index"+" ON "+this.TABLE_NAME+" (namespace, key)");}catch(e){console.debug("dojox.storage.GearsStorageProvider._createTables:",e);throw new Error("Unable to create storage tables for Gears in "+"Dojo Storage");}this._storageReady=true;}});dojox.storage.manager.register("dojox.storage.GearsStorageProvider",new dojox.storage.GearsStorageProvider());})();}}if(!dojo._hasResource["dojox.storage.WhatWGStorageProvider"]){dojo._hasResource["dojox.storage.WhatWGStorageProvider"]=true;dojo.provide("dojox.storage.WhatWGStorageProvider");dojo.declare("dojox.storage.WhatWGStorageProvider",[dojox.storage.Provider],{initialized:false,_domain:null,_available:null,_statusHandler:null,_allNamespaces:null,_storageEventListener:null,initialize:function(){if(dojo.config["disableWhatWGStorage"]==true){return;}this._domain=location.hostname;this.initialized=true;dojox.storage.manager.loaded();},isAvailable:function(){try{var _9ce=globalStorage[location.hostname];}catch(e){this._available=false;return this._available;}this._available=true;return this._available;},put:function(key,_9cf,_9d0,_9d1){if(this.isValidKey(key)==false){throw new Error("Invalid key given: "+key);}_9d1=_9d1||this.DEFAULT_NAMESPACE;key=this.getFullKey(key,_9d1);this._statusHandler=_9d0;if(dojo.isString(_9cf)){_9cf="string:"+_9cf;}else{_9cf=dojo.toJson(_9cf);}var _9d2=dojo.hitch(this,function(evt){window.removeEventListener("storage",_9d2,false);if(_9d0){_9d0.call(null,this.SUCCESS,key,null,_9d1);}});window.addEventListener("storage",_9d2,false);try{var _9d3=globalStorage[this._domain];_9d3.setItem(key,_9cf);}catch(e){this._statusHandler.call(null,this.FAILED,key,e.toString(),_9d1);}},get:function(key,_9d4){if(this.isValidKey(key)==false){throw new Error("Invalid key given: "+key);}_9d4=_9d4||this.DEFAULT_NAMESPACE;key=this.getFullKey(key,_9d4);var _9d5=globalStorage[this._domain];var _9d6=_9d5.getItem(key);if(_9d6==null||_9d6==""){return null;}_9d6=_9d6.value;if(dojo.isString(_9d6)&&(/^string:/.test(_9d6))){_9d6=_9d6.substring("string:".length);}else{_9d6=dojo.fromJson(_9d6);}return _9d6;},getNamespaces:function(){var _9d7=[this.DEFAULT_NAMESPACE];var _9d8={};var _9d9=globalStorage[this._domain];var _9da=/^__([^_]*)_/;for(var i=0;i<_9d9.length;i++){var _9db=_9d9.key(i);if(_9da.test(_9db)==true){var _9dc=_9db.match(_9da)[1];if(typeof _9d8[_9dc]=="undefined"){_9d8[_9dc]=true;_9d7.push(_9dc);}}}return _9d7;},getKeys:function(_9dd){_9dd=_9dd||this.DEFAULT_NAMESPACE;if(this.isValidKey(_9dd)==false){throw new Error("Invalid namespace given: "+_9dd);}var _9de;if(_9dd==this.DEFAULT_NAMESPACE){_9de=new RegExp("^([^_]{2}.*)$");}else{_9de=new RegExp("^__"+_9dd+"_(.*)$");}var _9df=globalStorage[this._domain];var _9e0=[];for(var i=0;i<_9df.length;i++){var _9e1=_9df.key(i);if(_9de.test(_9e1)==true){_9e1=_9e1.match(_9de)[1];_9e0.push(_9e1);}}return _9e0;},clear:function(_9e2){_9e2=_9e2||this.DEFAULT_NAMESPACE;if(this.isValidKey(_9e2)==false){throw new Error("Invalid namespace given: "+_9e2);}var _9e3;if(_9e2==this.DEFAULT_NAMESPACE){_9e3=new RegExp("^[^_]{2}");}else{_9e3=new RegExp("^__"+_9e2+"_");}var _9e4=globalStorage[this._domain];var keys=[];for(var i=0;i<_9e4.length;i++){if(_9e3.test(_9e4.key(i))==true){keys[keys.length]=_9e4.key(i);}}dojo.forEach(keys,dojo.hitch(_9e4,"removeItem"));},remove:function(key,_9e5){key=this.getFullKey(key,_9e5);var _9e6=globalStorage[this._domain];_9e6.removeItem(key);},isPermanent:function(){return true;},getMaximumSize:function(){return this.SIZE_NO_LIMIT;},hasSettingsUI:function(){return false;},showSettingsUI:function(){throw new Error(this.declaredClass+" does not support a storage settings user-interface");},hideSettingsUI:function(){throw new Error(this.declaredClass+" does not support a storage settings user-interface");},getFullKey:function(key,_9e7){_9e7=_9e7||this.DEFAULT_NAMESPACE;if(this.isValidKey(_9e7)==false){throw new Error("Invalid namespace given: "+_9e7);}if(_9e7==this.DEFAULT_NAMESPACE){return key;}else{return "__"+_9e7+"_"+key;}}});dojox.storage.manager.register("dojox.storage.WhatWGStorageProvider",new dojox.storage.WhatWGStorageProvider());}if(!dojo._hasResource["dojox.flash._base"]){dojo._hasResource["dojox.flash._base"]=true;dojo.provide("dojox.flash._base");dojo.experimental("dojox.flash");dojox.flash=function(){};dojox.flash={ready:false,url:null,_visible:true,_loadedListeners:[],_installingListeners:[],setSwf:function(url,_9e8){this.url=url;this._visible=true;if(_9e8!==null&&_9e8!==undefined){this._visible=_9e8;}this._initialize();},addLoadedListener:function(_9e9){this._loadedListeners.push(_9e9);},addInstallingListener:function(_9ea){this._installingListeners.push(_9ea);},loaded:function(){dojox.flash.ready=true;if(dojox.flash._loadedListeners.length){for(var i=0;i<dojox.flash._loadedListeners.length;i++){dojox.flash._loadedListeners[i].call(null);}}},installing:function(){if(dojox.flash._installingListeners.length){for(var i=0;i<dojox.flash._installingListeners.length;i++){dojox.flash._installingListeners[i].call(null);}}},_initialize:function(){var _9eb=new dojox.flash.Install();dojox.flash.installer=_9eb;if(_9eb.needed()){_9eb.install();}else{dojox.flash.obj=new dojox.flash.Embed(this._visible);dojox.flash.obj.write();dojox.flash.comm=new dojox.flash.Communicator();}}};dojox.flash.Info=function(){this._detectVersion();};dojox.flash.Info.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,installing:false,isVersionOrAbove:function(_9ec,_9ed,_9ee){_9ee=parseFloat("."+_9ee);if(this.versionMajor>=_9ec&&this.versionMinor>=_9ed&&this.versionRevision>=_9ee){return true;}else{return false;}},_detectVersion:function(){var _9ef;for(var _9f0=25;_9f0>0;_9f0--){if(dojo.isIE){var axo;try{if(_9f0>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+_9f0);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(_9f0==6){axo.AllowScriptAccess="always";}_9ef=axo.GetVariable("$version");}}catch(e){continue;}}else{_9ef=this._JSFlashInfo(_9f0);}if(_9ef==-1){this.capable=false;return;}else{if(_9ef!=0){var _9f1;if(dojo.isIE){var _9f2=_9ef.split(" ");var _9f3=_9f2[1];_9f1=_9f3.split(",");}else{_9f1=_9ef.split(".");}this.versionMajor=_9f1[0];this.versionMinor=_9f1[1];this.versionRevision=_9f1[2];var _9f4=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(_9f4);this.capable=true;break;}}}},_JSFlashInfo:function(_9f5){if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var _9f6=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var _9f7=navigator.plugins["Shockwave Flash"+_9f6].description;var _9f8=_9f7.split(" ");var _9f9=_9f8[2].split(".");var _9fa=_9f9[0];var _9fb=_9f9[1];var _9fc=(_9f8[3]||_9f8[4]).split("r");var _9fd=_9fc[1]>0?_9fc[1]:0;var _9fe=_9fa+"."+_9fb+"."+_9fd;return _9fe;}}return -1;}};dojox.flash.Embed=function(_9ff){this._visible=_9ff;};dojox.flash.Embed.prototype={width:215,height:138,id:"flashObject",_visible:true,protocol:function(){switch(window.location.protocol){case "https:":return "https";break;default:return "http";break;}},write:function(_a00){var _a01;var _a02=dojox.flash.url;var _a03=_a02;var _a04=_a02;var _a05=dojo.baseUrl;var _a06=document.location.protocol+"//"+document.location.host;if(_a00){var _a07=escape(window.location);document.title=document.title.slice(0,47)+" - Flash Player Installation";var _a08=escape(document.title);_a03+="?MMredirectURL="+_a07+"&MMplayerType=ActiveX"+"&MMdoctitle="+_a08+"&baseUrl="+escape(_a05)+"&xdomain="+escape(_a06);_a04+="?MMredirectURL="+_a07+"&MMplayerType=PlugIn"+"&baseUrl="+escape(_a05)+"&xdomain="+escape(_a06);}else{_a03+="?cachebust="+new Date().getTime();_a03+="&baseUrl="+escape(_a05);_a03+="&xdomain="+escape(_a06);}if(_a04.indexOf("?")==-1){_a04+="?baseUrl="+escape(_a05);}else{_a04+="&baseUrl="+escape(_a05);}_a04+="&xdomain="+escape(_a06);_a01="<object classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" "+"codebase=\""+this.protocol()+"://fpdownload.macromedia.com/pub/shockwave/cabs/flash/"+"swflash.cab#version=8,0,0,0\"\n "+"width=\""+this.width+"\"\n "+"height=\""+this.height+"\"\n "+"id=\""+this.id+"\"\n "+"name=\""+this.id+"\"\n "+"align=\"middle\">\n "+"<param name=\"allowScriptAccess\" value=\"always\"></param>\n "+"<param name=\"movie\" value=\""+_a03+"\"></param>\n "+"<param name=\"quality\" value=\"high\"></param>\n "+"<param name=\"bgcolor\" value=\"#ffffff\"></param>\n "+"<embed src=\""+_a04+"\" "+"quality=\"high\" "+"bgcolor=\"#ffffff\" "+"width=\""+this.width+"\" "+"height=\""+this.height+"\" "+"id=\""+this.id+"Embed"+"\" "+"name=\""+this.id+"\" "+"swLiveConnect=\"true\" "+"align=\"middle\" "+"allowScriptAccess=\"always\" "+"type=\"application/x-shockwave-flash\" "+"pluginspage=\""+this.protocol()+"://www.macromedia.com/go/getflashplayer\" "+"></embed>\n"+"</object>\n";dojo.connect(dojo,"loaded",dojo.hitch(this,function(){var _a09=this.id+"Container";if(dojo.byId(_a09)){return;}var div=document.createElement("div");div.id=this.id+"Container";div.style.width=this.width+"px";div.style.height=this.height+"px";if(!this._visible){div.style.position="absolute";div.style.zIndex="10000";div.style.top="-1000px";}div.innerHTML=_a01;var body=document.getElementsByTagName("body");if(!body||!body.length){throw new Error("No body tag for this page");}body=body[0];body.appendChild(div);}));},get:function(){if(dojo.isIE||dojo.isWebKit){return dojo.byId(this.id);}else{return document[this.id+"Embed"];}},setVisible:function(_a0a){var _a0b=dojo.byId(this.id+"Container");if(_a0a){_a0b.style.position="absolute";_a0b.style.visibility="visible";}else{_a0b.style.position="absolute";_a0b.style.y="-1000px";_a0b.style.visibility="hidden";}},center:function(){var _a0c=this.width;var _a0d=this.height;var _a0e=dojo.window.getBox();var x=_a0e.l+(_a0e.w-_a0c)/2;var y=_a0e.t+(_a0e.h-_a0d)/2;var _a0f=dojo.byId(this.id+"Container");_a0f.style.top=y+"px";_a0f.style.left=x+"px";}};dojox.flash.Communicator=function(){};dojox.flash.Communicator.prototype={_addExternalInterfaceCallback:function(_a10){var _a11=dojo.hitch(this,function(){var _a12=new Array(arguments.length);for(var i=0;i<arguments.length;i++){_a12[i]=this._encodeData(arguments[i]);}var _a13=this._execFlash(_a10,_a12);_a13=this._decodeData(_a13);return _a13;});this[_a10]=_a11;},_encodeData:function(data){if(!data||typeof data!="string"){return data;}data=data.replace("\\","&custom_backslash;");data=data.replace(/\0/g,"&custom_null;");return data;},_decodeData:function(data){if(data&&data.length&&typeof data!="string"){data=data[0];}if(!data||typeof data!="string"){return data;}data=data.replace(/\&custom_null\;/g,"\x00");data=data.replace(/\&custom_lt\;/g,"<").replace(/\&custom_gt\;/g,">").replace(/\&custom_backslash\;/g,"\\");return data;},_execFlash:function(_a14,_a15){var _a16=dojox.flash.obj.get();_a15=(_a15)?_a15:[];for(var i=0;i<_a15;i++){if(typeof _a15[i]=="string"){_a15[i]=this._encodeData(_a15[i]);}}var _a17=function(){return eval(_a16.CallFunction("<invoke name=\""+_a14+"\" returntype=\"javascript\">"+__flash__argumentsToXML(_a15,0)+"</invoke>"));};var _a18=_a17.call(_a15);if(typeof _a18=="string"){_a18=this._decodeData(_a18);}return _a18;}};dojox.flash.Install=function(){};dojox.flash.Install.prototype={needed:function(){if(!dojox.flash.info.capable){return true;}if(!dojox.flash.info.isVersionOrAbove(8,0,0)){return true;}return false;},install:function(){var _a19;dojox.flash.info.installing=true;dojox.flash.installing();if(dojox.flash.info.capable==false){_a19=new dojox.flash.Embed(false);_a19.write();}else{if(dojox.flash.info.isVersionOrAbove(6,0,65)){_a19=new dojox.flash.Embed(false);_a19.write(true);_a19.setVisible(true);_a19.center();}else{alert("This content requires a more recent version of the Macromedia "+" Flash Player.");window.location.href=+dojox.flash.Embed.protocol()+"://www.macromedia.com/go/getflashplayer";}}},_onInstallStatus:function(msg){if(msg=="Download.Complete"){dojox.flash._initialize();}else{if(msg=="Download.Cancelled"){alert("This content requires a more recent version of the Macromedia "+" Flash Player.");window.location.href=dojox.flash.Embed.protocol()+"://www.macromedia.com/go/getflashplayer";}else{if(msg=="Download.Failed"){alert("There was an error downloading the Flash Player update. "+"Please try again later, or visit macromedia.com to download "+"the latest version of the Flash plugin.");}}}}};dojox.flash.info=new dojox.flash.Info();}if(!dojo._hasResource["dojox.flash"]){dojo._hasResource["dojox.flash"]=true;dojo.provide("dojox.flash");}if(!dojo._hasResource["dojox.storage.FlashStorageProvider"]){dojo._hasResource["dojox.storage.FlashStorageProvider"]=true;dojo.provide("dojox.storage.FlashStorageProvider");dojo.declare("dojox.storage.FlashStorageProvider",dojox.storage.Provider,{initialized:false,_available:null,_statusHandler:null,_flashReady:false,_pageReady:false,initialize:function(){if(dojo.config["disableFlashStorage"]==true){return;}dojox.flash.addLoadedListener(dojo.hitch(this,function(){this._flashReady=true;if(this._flashReady&&this._pageReady){this._loaded();}}));var _a1a=dojo.moduleUrl("dojox","storage/Storage.swf").toString();dojox.flash.setSwf(_a1a,false);dojo.connect(dojo,"loaded",this,function(){this._pageReady=true;if(this._flashReady&&this._pageReady){this._loaded();}});},setFlushDelay:function(_a1b){if(_a1b===null||typeof _a1b==="undefined"||isNaN(_a1b)){throw new Error("Invalid argunment: "+_a1b);}dojox.flash.comm.setFlushDelay(String(_a1b));},getFlushDelay:function(){return Number(dojox.flash.comm.getFlushDelay());},flush:function(_a1c){if(_a1c==null||typeof _a1c=="undefined"){_a1c=dojox.storage.DEFAULT_NAMESPACE;}dojox.flash.comm.flush(_a1c);},isAvailable:function(){return (this._available=!dojo.config["disableFlashStorage"]);},put:function(key,_a1d,_a1e,_a1f){if(!this.isValidKey(key)){throw new Error("Invalid key given: "+key);}if(!_a1f){_a1f=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_a1f)){throw new Error("Invalid namespace given: "+_a1f);}this._statusHandler=_a1e;if(dojo.isString(_a1d)){_a1d="string:"+_a1d;}else{_a1d=dojo.toJson(_a1d);}dojox.flash.comm.put(key,_a1d,_a1f);},putMultiple:function(keys,_a20,_a21,_a22){if(!this.isValidKeyArray(keys)||!_a20 instanceof Array||keys.length!=_a20.length){throw new Error("Invalid arguments: keys = ["+keys+"], values = ["+_a20+"]");}if(!_a22){_a22=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_a22)){throw new Error("Invalid namespace given: "+_a22);}this._statusHandler=_a21;var _a23=keys.join(",");var _a24=[];for(var i=0;i<_a20.length;i++){if(dojo.isString(_a20[i])){_a20[i]="string:"+_a20[i];}else{_a20[i]=dojo.toJson(_a20[i]);}_a24[i]=_a20[i].length;}var _a25=_a20.join("");var _a26=_a24.join(",");dojox.flash.comm.putMultiple(_a23,_a25,_a26,_a22);},get:function(key,_a27){if(!this.isValidKey(key)){throw new Error("Invalid key given: "+key);}if(!_a27){_a27=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_a27)){throw new Error("Invalid namespace given: "+_a27);}var _a28=dojox.flash.comm.get(key,_a27);if(_a28==""){return null;}return this._destringify(_a28);},getMultiple:function(keys,_a29){if(!this.isValidKeyArray(keys)){throw new ("Invalid key array given: "+keys);}if(!_a29){_a29=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_a29)){throw new Error("Invalid namespace given: "+_a29);}var _a2a=keys.join(",");var _a2b=dojox.flash.comm.getMultiple(_a2a,_a29);var _a2c=eval("("+_a2b+")");for(var i=0;i<_a2c.length;i++){_a2c[i]=(_a2c[i]=="")?null:this._destringify(_a2c[i]);}return _a2c;},_destringify:function(_a2d){if(dojo.isString(_a2d)&&(/^string:/.test(_a2d))){_a2d=_a2d.substring("string:".length);}else{_a2d=dojo.fromJson(_a2d);}return _a2d;},getKeys:function(_a2e){if(!_a2e){_a2e=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_a2e)){throw new Error("Invalid namespace given: "+_a2e);}var _a2f=dojox.flash.comm.getKeys(_a2e);if(_a2f==null||_a2f=="null"){_a2f="";}_a2f=_a2f.split(",");_a2f.sort();return _a2f;},getNamespaces:function(){var _a30=dojox.flash.comm.getNamespaces();if(_a30==null||_a30=="null"){_a30=dojox.storage.DEFAULT_NAMESPACE;}_a30=_a30.split(",");_a30.sort();return _a30;},clear:function(_a31){if(!_a31){_a31=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_a31)){throw new Error("Invalid namespace given: "+_a31);}dojox.flash.comm.clear(_a31);},remove:function(key,_a32){if(!_a32){_a32=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_a32)){throw new Error("Invalid namespace given: "+_a32);}dojox.flash.comm.remove(key,_a32);},removeMultiple:function(keys,_a33){if(!this.isValidKeyArray(keys)){dojo.raise("Invalid key array given: "+keys);}if(!_a33){_a33=dojox.storage.DEFAULT_NAMESPACE;}if(!this.isValidKey(_a33)){throw new Error("Invalid namespace given: "+_a33);}var _a34=keys.join(",");dojox.flash.comm.removeMultiple(_a34,_a33);},isPermanent:function(){return true;},getMaximumSize:function(){return dojox.storage.SIZE_NO_LIMIT;},hasSettingsUI:function(){return true;},showSettingsUI:function(){dojox.flash.comm.showSettings();dojox.flash.obj.setVisible(true);dojox.flash.obj.center();},hideSettingsUI:function(){dojox.flash.obj.setVisible(false);if(dojo.isFunction(dojox.storage.onHideSettingsUI)){dojox.storage.onHideSettingsUI.call(null);}},getResourceList:function(){return [];},_loaded:function(){this._allNamespaces=this.getNamespaces();this.initialized=true;dojox.storage.manager.loaded();},_onStatus:function(_a35,key,_a36){var ds=dojox.storage;var dfo=dojox.flash.obj;if(_a35==ds.PENDING){dfo.center();dfo.setVisible(true);}else{dfo.setVisible(false);}if(ds._statusHandler){ds._statusHandler.call(null,_a35,key,null,_a36);}}});dojox.storage.manager.register("dojox.storage.FlashStorageProvider",new dojox.storage.FlashStorageProvider());}if(!dojo._hasResource["dojox.storage.BehaviorStorageProvider"]){dojo._hasResource["dojox.storage.BehaviorStorageProvider"]=true;dojo.provide("dojox.storage.BehaviorStorageProvider");dojo.declare("dojox.storage.BehaviorStorageProvider",[dojox.storage.Provider],{store:null,storeName:"__dojox_BehaviorStorage",keys:[],initialize:function(){try{this.store=this._createStore();this.store.load(this.storeName);}catch(e){throw new Error("Store is not available: "+e);}var keys=this.get("keys","dojoxSystemNS");this.keys=keys||[];this.initialized=true;dojox.storage.manager.loaded();},isAvailable:function(){return dojo.isIE&&dojo.isIE>=5;},_createStore:function(){var _a37=dojo.create("link",{id:this.storeName+"Node",style:{"display":"none"}},dojo.query("head")[0]);_a37.addBehavior("#default#userdata");return _a37;},put:function(key,_a38,_a39,_a3a){this._assertIsValidKey(key);_a3a=_a3a||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_a3a);var _a3b=this.getFullKey(key,_a3a);_a38=dojo.toJson(_a38);this.store.setAttribute(_a3b,_a38);this.store.save(this.storeName);var _a3c=this.store.getAttribute(_a3b)===_a38;if(_a3c){this._addKey(_a3b);this.store.setAttribute("__dojoxSystemNS_keys",dojo.toJson(this.keys));this.store.save(this.storeName);}if(_a39){_a39(_a3c?this.SUCCESS:this.FAILED,key,null,_a3a);}},get:function(key,_a3d){this._assertIsValidKey(key);_a3d=_a3d||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_a3d);key=this.getFullKey(key,_a3d);return dojo.fromJson(this.store.getAttribute(key));},getKeys:function(_a3e){_a3e=_a3e||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_a3e);_a3e="__"+_a3e+"_";var keys=[];for(var i=0;i<this.keys.length;i++){var _a3f=this.keys[i];if(this._beginsWith(_a3f,_a3e)){_a3f=_a3f.substring(_a3e.length);keys.push(_a3f);}}return keys;},clear:function(_a40){_a40=_a40||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_a40);_a40="__"+_a40+"_";var keys=[];for(var i=0;i<this.keys.length;i++){var _a41=this.keys[i];if(this._beginsWith(_a41,_a40)){keys.push(_a41);}}dojo.forEach(keys,function(key){this.store.removeAttribute(key);this._removeKey(key);},this);this.put("keys",this.keys,null,"dojoxSystemNS");this.store.save(this.storeName);},remove:function(key,_a42){this._assertIsValidKey(key);_a42=_a42||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_a42);key=this.getFullKey(key,_a42);this.store.removeAttribute(key);this._removeKey(key);this.put("keys",this.keys,null,"dojoxSystemNS");this.store.save(this.storeName);},getNamespaces:function(){var _a43=[this.DEFAULT_NAMESPACE];var _a44={};_a44[this.DEFAULT_NAMESPACE]=true;var _a45=/^__([^_]*)_/;for(var i=0;i<this.keys.length;i++){var _a46=this.keys[i];if(_a45.test(_a46)==true){var _a47=_a46.match(_a45)[1];if(typeof _a44[_a47]=="undefined"){_a44[_a47]=true;_a43.push(_a47);}}}return _a43;},isPermanent:function(){return true;},getMaximumSize:function(){return 64;},hasSettingsUI:function(){return false;},isValidKey:function(_a48){if(_a48===null||_a48===undefined){return false;}return /^[0-9A-Za-z_-]*$/.test(_a48);},isValidNamespace:function(_a49){if(_a49===null||_a49===undefined){return false;}return /^[0-9A-Za-z-]*$/.test(_a49);},getFullKey:function(key,_a4a){return "__"+_a4a+"_"+key;},_beginsWith:function(_a4b,_a4c){if(_a4c.length>_a4b.length){return false;}return _a4b.substring(0,_a4c.length)===_a4c;},_assertIsValidNamespace:function(_a4d){if(this.isValidNamespace(_a4d)===false){throw new Error("Invalid namespace given: "+_a4d);}},_assertIsValidKey:function(key){if(this.isValidKey(key)===false){throw new Error("Invalid key given: "+key);}},_addKey:function(key){this._removeKey(key);this.keys.push(key);},_removeKey:function(key){this.keys=dojo.filter(this.keys,function(item){return item!==key;},this);}});dojox.storage.manager.register("dojox.storage.BehaviorStorageProvider",new dojox.storage.BehaviorStorageProvider());}if(!dojo._hasResource["dojox.storage.CookieStorageProvider"]){dojo._hasResource["dojox.storage.CookieStorageProvider"]=true;dojo.provide("dojox.storage.CookieStorageProvider");dojo.declare("dojox.storage.CookieStorageProvider",[dojox.storage.Provider],{store:null,cookieName:"dojoxStorageCookie",storageLife:730,initialize:function(){this.store=dojo.fromJson(dojo.cookie(this.cookieName))||{};this.initialized=true;dojox.storage.manager.loaded();},isAvailable:function(){return dojo.cookie.isSupported();},put:function(key,_a4e,_a4f,_a50){this._assertIsValidKey(key);_a50=_a50||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_a50);fullKey=this.getFullKey(key,_a50);this.store[fullKey]=dojo.toJson(_a4e);this._save();var _a51=dojo.toJson(this.store)===dojo.cookie(this.cookieName);if(!_a51){this.remove(key,_a50);}if(_a4f){_a4f(_a51?this.SUCCESS:this.FAILED,key,null,_a50);}},get:function(key,_a52){this._assertIsValidKey(key);_a52=_a52||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_a52);key=this.getFullKey(key,_a52);return this.store[key]?dojo.fromJson(this.store[key]):null;},getKeys:function(_a53){_a53=_a53||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_a53);_a53="__"+_a53+"_";var keys=[];for(var _a54 in this.store){if(this._beginsWith(_a54,_a53)){_a54=_a54.substring(_a53.length);keys.push(_a54);}}return keys;},clear:function(_a55){_a55=_a55||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_a55);_a55="__"+_a55+"_";for(var _a56 in this.store){if(this._beginsWith(_a56,_a55)){delete (this.store[_a56]);}}this._save();},remove:function(key,_a57){_a57=_a57||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_a57);this._assertIsValidKey(key);key=this.getFullKey(key,_a57);delete this.store[key];this._save();},getNamespaces:function(){var _a58=[this.DEFAULT_NAMESPACE];var _a59={};_a59[this.DEFAULT_NAMESPACE]=true;var _a5a=/^__([^_]*)_/;for(var _a5b in this.store){if(_a5a.test(_a5b)==true){var _a5c=_a5b.match(_a5a)[1];if(typeof _a59[_a5c]=="undefined"){_a59[_a5c]=true;_a58.push(_a5c);}}}return _a58;},isPermanent:function(){return true;},getMaximumSize:function(){return 4;},hasSettingsUI:function(){return false;},isValidKey:function(_a5d){if(_a5d===null||_a5d===undefined){return false;}return /^[0-9A-Za-z_-]*$/.test(_a5d);},isValidNamespace:function(_a5e){if(_a5e===null||_a5e===undefined){return false;}return /^[0-9A-Za-z-]*$/.test(_a5e);},getFullKey:function(key,_a5f){return "__"+_a5f+"_"+key;},_save:function(){dojo.cookie(this.cookieName,dojo.toJson(this.store),{expires:this.storageLife});},_beginsWith:function(_a60,_a61){if(_a61.length>_a60.length){return false;}return _a60.substring(0,_a61.length)===_a61;},_assertIsValidNamespace:function(_a62){if(this.isValidNamespace(_a62)===false){throw new Error("Invalid namespace given: "+_a62);}},_assertIsValidKey:function(key){if(this.isValidKey(key)===false){throw new Error("Invalid key given: "+key);}}});dojox.storage.manager.register("dojox.storage.CookieStorageProvider",new dojox.storage.CookieStorageProvider());}if(!dojo._hasResource["dojox.storage._common"]){dojo._hasResource["dojox.storage._common"]=true;dojo.provide("dojox.storage._common");dojox.storage.manager.initialize();}if(!dojo._hasResource["dojox.storage"]){dojo._hasResource["dojox.storage"]=true;dojo.provide("dojox.storage");}if(!dojo._hasResource["dojox.xml.parser"]){dojo._hasResource["dojox.xml.parser"]=true;dojo.provide("dojox.xml.parser");dojox.xml.parser.parse=function(str,_a63){var _a64=dojo.doc;var doc;_a63=_a63||"text/xml";if(str&&dojo.trim(str)&&"DOMParser" in dojo.global){var _a65=new DOMParser();doc=_a65.parseFromString(str,_a63);var de=doc.documentElement;var _a66="http://www.mozilla.org/newlayout/xml/parsererror.xml";if(de.nodeName=="parsererror"&&de.namespaceURI==_a66){var _a67=de.getElementsByTagNameNS(_a66,"sourcetext")[0];if(_a67){_a67=_a67.firstChild.data;}throw new Error("Error parsing text "+de.firstChild.data+" \n"+_a67);}return doc;}else{if("ActiveXObject" in dojo.global){var ms=function(n){return "MSXML"+n+".DOMDocument";};var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];dojo.some(dp,function(p){try{doc=new ActiveXObject(p);}catch(e){return false;}return true;});if(str&&doc){doc.async=false;doc.loadXML(str);var pe=doc.parseError;if(pe.errorCode!==0){throw new Error("Line: "+pe.line+"\n"+"Col: "+pe.linepos+"\n"+"Reason: "+pe.reason+"\n"+"Error Code: "+pe.errorCode+"\n"+"Source: "+pe.srcText);}}if(doc){return doc;}}else{if(_a64.implementation&&_a64.implementation.createDocument){if(str&&dojo.trim(str)&&_a64.createElement){var tmp=_a64.createElement("xml");tmp.innerHTML=str;var _a68=_a64.implementation.createDocument("foo","",null);dojo.forEach(tmp.childNodes,function(_a69){_a68.importNode(_a69,true);});return _a68;}else{return _a64.implementation.createDocument("","",null);}}}}return null;};dojox.xml.parser.textContent=function(node,text){if(arguments.length>1){var _a6a=node.ownerDocument||dojo.doc;dojox.xml.parser.replaceChildren(node,_a6a.createTextNode(text));return text;}else{if(node.textContent!==undefined){return node.textContent;}var _a6b="";if(node){dojo.forEach(node.childNodes,function(_a6c){switch(_a6c.nodeType){case 1:case 5:_a6b+=dojox.xml.parser.textContent(_a6c);break;case 3:case 2:case 4:_a6b+=_a6c.nodeValue;}});}return _a6b;}};dojox.xml.parser.replaceChildren=function(node,_a6d){var _a6e=[];if(dojo.isIE){dojo.forEach(node.childNodes,function(_a6f){_a6e.push(_a6f);});}dojox.xml.parser.removeChildren(node);dojo.forEach(_a6e,dojo.destroy);if(!dojo.isArray(_a6d)){node.appendChild(_a6d);}else{dojo.forEach(_a6d,function(_a70){node.appendChild(_a70);});}};dojox.xml.parser.removeChildren=function(node){var _a71=node.childNodes.length;while(node.hasChildNodes()){node.removeChild(node.firstChild);}return _a71;};dojox.xml.parser.innerXML=function(node){if(node.innerXML){return node.innerXML;}else{if(node.xml){return node.xml;}else{if(typeof XMLSerializer!="undefined"){return (new XMLSerializer()).serializeToString(node);}}}return null;};}if(!dojo._hasResource["dojox.fx._base"]){dojo._hasResource["dojox.fx._base"]=true;dojo.provide("dojox.fx._base");dojo.mixin(dojox.fx,{anim:dojo.anim,animateProperty:dojo.animateProperty,fadeTo:dojo._fade,fadeIn:dojo.fadeIn,fadeOut:dojo.fadeOut,combine:dojo.fx.combine,chain:dojo.fx.chain,slideTo:dojo.fx.slideTo,wipeIn:dojo.fx.wipeIn,wipeOut:dojo.fx.wipeOut});dojox.fx.sizeTo=function(args){var node=args.node=dojo.byId(args.node),abs="absolute";var _a72=args.method||"chain";if(!args.duration){args.duration=500;}if(_a72=="chain"){args.duration=Math.floor(args.duration/2);}var top,_a73,left,_a74,_a75,_a76=null;var init=(function(n){return function(){var cs=dojo.getComputedStyle(n),pos=cs.position,w=cs.width,h=cs.height;top=(pos==abs?n.offsetTop:parseInt(cs.top)||0);left=(pos==abs?n.offsetLeft:parseInt(cs.left)||0);_a75=(w=="auto"?0:parseInt(w));_a76=(h=="auto"?0:parseInt(h));_a74=left-Math.floor((args.width-_a75)/2);_a73=top-Math.floor((args.height-_a76)/2);if(pos!=abs&&pos!="relative"){var ret=dojo.coords(n,true);top=ret.y;left=ret.x;n.style.position=abs;n.style.top=top+"px";n.style.left=left+"px";}};})(node);var _a77=dojo.animateProperty(dojo.mixin({properties:{height:function(){init();return {end:args.height||0,start:_a76};},top:function(){return {start:top,end:_a73};}}},args));var _a78=dojo.animateProperty(dojo.mixin({properties:{width:function(){return {start:_a75,end:args.width||0};},left:function(){return {start:left,end:_a74};}}},args));var anim=dojo.fx[(args.method=="combine"?"combine":"chain")]([_a77,_a78]);return anim;};dojox.fx.slideBy=function(args){var node=args.node=dojo.byId(args.node),top,left;var init=(function(n){return function(){var cs=dojo.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=dojo.coords(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var _a79=dojo.animateProperty(dojo.mixin({properties:{top:top+(args.top||0),left:left+(args.left||0)}},args));dojo.connect(_a79,"beforeBegin",_a79,init);return _a79;};dojox.fx.crossFade=function(args){var _a7a=args.nodes[0]=dojo.byId(args.nodes[0]),op1=dojo.style(_a7a,"opacity"),_a7b=args.nodes[1]=dojo.byId(args.nodes[1]),op2=dojo.style(_a7b,"opacity");var _a7c=dojo.fx.combine([dojo[(op1==0?"fadeIn":"fadeOut")](dojo.mixin({node:_a7a},args)),dojo[(op1==0?"fadeOut":"fadeIn")](dojo.mixin({node:_a7b},args))]);return _a7c;};dojox.fx.highlight=function(args){var node=args.node=dojo.byId(args.node);args.duration=args.duration||400;var _a7d=args.color||"#ffff99",_a7e=dojo.style(node,"backgroundColor");if(_a7e=="rgba(0, 0, 0, 0)"){_a7e="transparent";}var anim=dojo.animateProperty(dojo.mixin({properties:{backgroundColor:{start:_a7d,end:_a7e}}},args));if(_a7e=="transparent"){dojo.connect(anim,"onEnd",anim,function(){node.style.backgroundColor=_a7e;});}return anim;};dojox.fx.wipeTo=function(args){args.node=dojo.byId(args.node);var node=args.node,s=node.style;var dir=(args.width?"width":"height"),_a7f=args[dir],_a80={};_a80[dir]={start:function(){s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s[dir]="1px";s.display="";s.visibility="";return 1;}else{var now=dojo.style(node,dir);return Math.max(now,1);}},end:_a7f};var anim=dojo.animateProperty(dojo.mixin({properties:_a80},args));return anim;};}if(!dojo._hasResource["dojox.fx"]){dojo._hasResource["dojox.fx"]=true;dojo.provide("dojox.fx");}if(!dojo._hasResource["dojox.collections._base"]){dojo._hasResource["dojox.collections._base"]=true;dojo.provide("dojox.collections._base");dojox.collections.DictionaryEntry=function(k,v){this.key=k;this.value=v;this.valueOf=function(){return this.value;};this.toString=function(){return String(this.value);};};dojox.collections.Iterator=function(arr){var a=arr;var _a81=0;this.element=a[_a81]||null;this.atEnd=function(){return (_a81>=a.length);};this.get=function(){if(this.atEnd()){return null;}this.element=a[_a81++];return this.element;};this.map=function(fn,_a82){return dojo.map(a,fn,_a82);};this.reset=function(){_a81=0;this.element=a[_a81];};};dojox.collections.DictionaryIterator=function(obj){var a=[];var _a83={};for(var p in obj){if(!_a83[p]){a.push(obj[p]);}}var _a84=0;this.element=a[_a84]||null;this.atEnd=function(){return (_a84>=a.length);};this.get=function(){if(this.atEnd()){return null;}this.element=a[_a84++];return this.element;};this.map=function(fn,_a85){return dojo.map(a,fn,_a85);};this.reset=function(){_a84=0;this.element=a[_a84];};};}if(!dojo._hasResource["dojox.collections.Dictionary"]){dojo._hasResource["dojox.collections.Dictionary"]=true;dojo.provide("dojox.collections.Dictionary");dojox.collections.Dictionary=function(_a86){var _a87={};this.count=0;var _a88={};this.add=function(k,v){var b=(k in _a87);_a87[k]=new dojox.collections.DictionaryEntry(k,v);if(!b){this.count++;}};this.clear=function(){_a87={};this.count=0;};this.clone=function(){return new dojox.collections.Dictionary(this);};this.contains=this.containsKey=function(k){if(_a88[k]){return false;}return (_a87[k]!=null);};this.containsValue=function(v){var e=this.getIterator();while(e.get()){if(e.element.value==v){return true;}}return false;};this.entry=function(k){return _a87[k];};this.forEach=function(fn,_a89){var a=[];for(var p in _a87){if(!_a88[p]){a.push(_a87[p]);}}dojo.forEach(a,fn,_a89);};this.getKeyList=function(){return (this.getIterator()).map(function(_a8a){return _a8a.key;});};this.getValueList=function(){return (this.getIterator()).map(function(_a8b){return _a8b.value;});};this.item=function(k){if(k in _a87){return _a87[k].valueOf();}return undefined;};this.getIterator=function(){return new dojox.collections.DictionaryIterator(_a87);};this.remove=function(k){if(k in _a87&&!_a88[k]){delete _a87[k];this.count--;return true;}return false;};if(_a86){var e=_a86.getIterator();while(e.get()){this.add(e.element.key,e.element.value);}}};}if(!dojo._hasResource["dojox.collections.Stack"]){dojo._hasResource["dojox.collections.Stack"]=true;dojo.provide("dojox.collections.Stack");dojox.collections.Stack=function(arr){var q=[];if(arr){q=q.concat(arr);}this.count=q.length;this.clear=function(){q=[];this.count=q.length;};this.clone=function(){return new dojox.collections.Stack(q);};this.contains=function(o){for(var i=0;i<q.length;i++){if(q[i]==o){return true;}}return false;};this.copyTo=function(arr,i){arr.splice(i,0,q);};this.forEach=function(fn,_a8c){dojo.forEach(q,fn,_a8c);};this.getIterator=function(){return new dojox.collections.Iterator(q);};this.peek=function(){return q[(q.length-1)];};this.pop=function(){var r=q.pop();this.count=q.length;return r;};this.push=function(o){this.count=q.push(o);};this.toArray=function(){return [].concat(q);};};}if(!dojo._hasResource["dojox.collections.ArrayList"]){dojo._hasResource["dojox.collections.ArrayList"]=true;dojo.provide("dojox.collections.ArrayList");dojox.collections.ArrayList=function(arr){var _a8d=[];if(arr){_a8d=_a8d.concat(arr);}this.count=_a8d.length;this.add=function(obj){_a8d.push(obj);this.count=_a8d.length;};this.addRange=function(a){if(a.getIterator){var e=a.getIterator();while(!e.atEnd()){this.add(e.get());}this.count=_a8d.length;}else{for(var i=0;i<a.length;i++){_a8d.push(a[i]);}this.count=_a8d.length;}};this.clear=function(){_a8d.splice(0,_a8d.length);this.count=0;};this.clone=function(){return new dojox.collections.ArrayList(_a8d);};this.contains=function(obj){for(var i=0;i<_a8d.length;i++){if(_a8d[i]==obj){return true;}}return false;};this.forEach=function(fn,_a8e){dojo.forEach(_a8d,fn,_a8e);};this.getIterator=function(){return new dojox.collections.Iterator(_a8d);};this.indexOf=function(obj){for(var i=0;i<_a8d.length;i++){if(_a8d[i]==obj){return i;}}return -1;};this.insert=function(i,obj){_a8d.splice(i,0,obj);this.count=_a8d.length;};this.item=function(i){return _a8d[i];};this.remove=function(obj){var i=this.indexOf(obj);if(i>=0){_a8d.splice(i,1);}this.count=_a8d.length;};this.removeAt=function(i){_a8d.splice(i,1);this.count=_a8d.length;};this.reverse=function(){_a8d.reverse();};this.sort=function(fn){if(fn){_a8d.sort(fn);}else{_a8d.sort();}};this.setByIndex=function(i,obj){_a8d[i]=obj;this.count=_a8d.length;};this.toArray=function(){return [].concat(_a8d);};this.toString=function(_a8f){return _a8d.join((_a8f||","));};};}if(!dojo._hasResource["dojox.gfx.matrix"]){dojo._hasResource["dojox.gfx.matrix"]=true;dojo.provide("dojox.gfx.matrix");(function(){var m=dojox.gfx.matrix;var _a90={};m._degToRad=function(_a91){return _a90[_a91]||(_a90[_a91]=(Math.PI*_a91/180));};m._radToDeg=function(_a92){return _a92/Math.PI*180;};m.Matrix2D=function(arg){if(arg){if(typeof arg=="number"){this.xx=this.yy=arg;}else{if(arg instanceof Array){if(arg.length>0){var _a93=m.normalize(arg[0]);for(var i=1;i<arg.length;++i){var l=_a93,r=dojox.gfx.matrix.normalize(arg[i]);_a93=new m.Matrix2D();_a93.xx=l.xx*r.xx+l.xy*r.yx;_a93.xy=l.xx*r.xy+l.xy*r.yy;_a93.yx=l.yx*r.xx+l.yy*r.yx;_a93.yy=l.yx*r.xy+l.yy*r.yy;_a93.dx=l.xx*r.dx+l.xy*r.dy+l.dx;_a93.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}dojo.mixin(this,_a93);}}else{dojo.mixin(this,arg);}}}};dojo.extend(m.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});dojo.mixin(m,{identity:new m.Matrix2D(),flipX:new m.Matrix2D({xx:-1}),flipY:new m.Matrix2D({yy:-1}),flipXY:new m.Matrix2D({xx:-1,yy:-1}),translate:function(a,b){if(arguments.length>1){return new m.Matrix2D({dx:a,dy:b});}return new m.Matrix2D({dx:a.x,dy:a.y});},scale:function(a,b){if(arguments.length>1){return new m.Matrix2D({xx:a,yy:b});}if(typeof a=="number"){return new m.Matrix2D({xx:a,yy:a});}return new m.Matrix2D({xx:a.x,yy:a.y});},rotate:function(_a94){var c=Math.cos(_a94);var s=Math.sin(_a94);return new m.Matrix2D({xx:c,xy:-s,yx:s,yy:c});},rotateg:function(_a95){return m.rotate(m._degToRad(_a95));},skewX:function(_a96){return new m.Matrix2D({xy:Math.tan(_a96)});},skewXg:function(_a97){return m.skewX(m._degToRad(_a97));},skewY:function(_a98){return new m.Matrix2D({yx:Math.tan(_a98)});},skewYg:function(_a99){return m.skewY(m._degToRad(_a99));},reflect:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=2*a*b/n2;return new m.Matrix2D({xx:2*a2/n2-1,xy:xy,yx:xy,yy:2*b2/n2-1});},project:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=a*b/n2;return new m.Matrix2D({xx:a2/n2,xy:xy,yx:xy,yy:b2/n2});},normalize:function(_a9a){return (_a9a instanceof m.Matrix2D)?_a9a:new m.Matrix2D(_a9a);},clone:function(_a9b){var obj=new m.Matrix2D();for(var i in _a9b){if(typeof (_a9b[i])=="number"&&typeof (obj[i])=="number"&&obj[i]!=_a9b[i]){obj[i]=_a9b[i];}}return obj;},invert:function(_a9c){var M=m.normalize(_a9c),D=M.xx*M.yy-M.xy*M.yx,M=new m.Matrix2D({xx:M.yy/D,xy:-M.xy/D,yx:-M.yx/D,yy:M.xx/D,dx:(M.xy*M.dy-M.yy*M.dx)/D,dy:(M.yx*M.dx-M.xx*M.dy)/D});return M;},_multiplyPoint:function(_a9d,x,y){return {x:_a9d.xx*x+_a9d.xy*y+_a9d.dx,y:_a9d.yx*x+_a9d.yy*y+_a9d.dy};},multiplyPoint:function(_a9e,a,b){var M=m.normalize(_a9e);if(typeof a=="number"&&typeof b=="number"){return m._multiplyPoint(M,a,b);}return m._multiplyPoint(M,a.x,a.y);},multiply:function(_a9f){var M=m.normalize(_a9f);for(var i=1;i<arguments.length;++i){var l=M,r=m.normalize(arguments[i]);M=new m.Matrix2D();M.xx=l.xx*r.xx+l.xy*r.yx;M.xy=l.xx*r.xy+l.xy*r.yy;M.yx=l.yx*r.xx+l.yy*r.yx;M.yy=l.yx*r.xy+l.yy*r.yy;M.dx=l.xx*r.dx+l.xy*r.dy+l.dx;M.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}return M;},_sandwich:function(_aa0,x,y){return m.multiply(m.translate(x,y),_aa0,m.translate(-x,-y));},scaleAt:function(a,b,c,d){switch(arguments.length){case 4:return m._sandwich(m.scale(a,b),c,d);case 3:if(typeof c=="number"){return m._sandwich(m.scale(a),b,c);}return m._sandwich(m.scale(a,b),c.x,c.y);}return m._sandwich(m.scale(a),b.x,b.y);},rotateAt:function(_aa1,a,b){if(arguments.length>2){return m._sandwich(m.rotate(_aa1),a,b);}return m._sandwich(m.rotate(_aa1),a.x,a.y);},rotategAt:function(_aa2,a,b){if(arguments.length>2){return m._sandwich(m.rotateg(_aa2),a,b);}return m._sandwich(m.rotateg(_aa2),a.x,a.y);},skewXAt:function(_aa3,a,b){if(arguments.length>2){return m._sandwich(m.skewX(_aa3),a,b);}return m._sandwich(m.skewX(_aa3),a.x,a.y);},skewXgAt:function(_aa4,a,b){if(arguments.length>2){return m._sandwich(m.skewXg(_aa4),a,b);}return m._sandwich(m.skewXg(_aa4),a.x,a.y);},skewYAt:function(_aa5,a,b){if(arguments.length>2){return m._sandwich(m.skewY(_aa5),a,b);}return m._sandwich(m.skewY(_aa5),a.x,a.y);},skewYgAt:function(_aa6,a,b){if(arguments.length>2){return m._sandwich(m.skewYg(_aa6),a,b);}return m._sandwich(m.skewYg(_aa6),a.x,a.y);}});})();dojox.gfx.Matrix2D=dojox.gfx.matrix.Matrix2D;}if(!dojo._hasResource["dojox.gfx._base"]){dojo._hasResource["dojox.gfx._base"]=true;dojo.provide("dojox.gfx._base");(function(){var g=dojox.gfx,b=g._base;g._hasClass=function(node,_aa7){var cls=node.getAttribute("className");return cls&&(" "+cls+" ").indexOf(" "+_aa7+" ")>=0;};g._addClass=function(node,_aa8){var cls=node.getAttribute("className")||"";if(!cls||(" "+cls+" ").indexOf(" "+_aa8+" ")<0){node.setAttribute("className",cls+(cls?" ":"")+_aa8);}};g._removeClass=function(node,_aa9){var cls=node.getAttribute("className");if(cls){node.setAttribute("className",cls.replace(new RegExp("(^|\\s+)"+_aa9+"(\\s+|$)"),"$1$2"));}};b._getFontMeasurements=function(){var _aaa={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};if(dojo.isIE){dojo.doc.documentElement.style.fontSize="100%";}var div=dojo.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},dojo.body());for(var p in _aaa){div.style.fontSize=p;_aaa[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}dojo.body().removeChild(div);return _aaa;};var _aab=null;b._getCachedFontMeasurements=function(_aac){if(_aac||!_aab){_aab=b._getFontMeasurements();}return _aab;};var _aad=null,_aae={};b._getTextBox=function(text,_aaf,_ab0){var m,s,al=arguments.length;if(!_aad){_aad=dojo.create("div",{style:{position:"absolute",top:"-10000px",left:"0"}},dojo.body());}m=_aad;m.className="";s=m.style;s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";if(al>1&&_aaf){for(var i in _aaf){if(i in _aae){continue;}s[i]=_aaf[i];}}if(al>2&&_ab0){m.className=_ab0;}m.innerHTML=text;if(m["getBoundingClientRect"]){var bcr=m.getBoundingClientRect();return {l:bcr.left,t:bcr.top,w:bcr.width||(bcr.right-bcr.left),h:bcr.height||(bcr.bottom-bcr.top)};}else{return dojo.marginBox(m);}};var _ab1=0;b._getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++_ab1);}while(dojo.byId(id));return id;};})();dojo.mixin(dojox.gfx,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:(function(){var _ab2={};return function(type){var t=_ab2[type];if(t){return new t();}t=_ab2[type]=new Function;t.prototype=dojox.gfx["default"+type];return new t();};})(),normalizeColor:function(_ab3){return (_ab3 instanceof dojo.Color)?_ab3:new dojo.Color(_ab3);},normalizeParameters:function(_ab4,_ab5){if(_ab5){var _ab6={};for(var x in _ab4){if(x in _ab5&&!(x in _ab6)){_ab4[x]=_ab5[x];}}}return _ab4;},makeParameters:function(_ab7,_ab8){if(!_ab8){return dojo.delegate(_ab7);}var _ab9={};for(var i in _ab7){if(!(i in _ab9)){_ab9[i]=dojo.clone((i in _ab8)?_ab8[i]:_ab7[i]);}}return _ab9;},formatNumber:function(x,_aba){var val=x.toString();if(val.indexOf("e")>=0){val=x.toFixed(4);}else{var _abb=val.indexOf(".");if(_abb>=0&&val.length-_abb>5){val=x.toFixed(4);}}if(x<0){return val;}return _aba?" "+val:val;},makeFontString:function(font){return font.style+" "+font.variant+" "+font.weight+" "+font.size+" "+font.family;},splitFontString:function(str){var font=dojox.gfx.getDefault("Font");var t=str.split(/\s+/);do{if(t.length<5){break;}font.style=t[0];font.variant=t[1];font.weight=t[2];var i=t[3].indexOf("/");font.size=i<0?t[3]:t[3].substring(0,i);var j=4;if(i<0){if(t[4]=="/"){j=6;}else{if(t[4].charAt(0)=="/"){j=5;}}}if(j<t.length){font.family=t.slice(j).join(" ");}}while(false);return font;},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return dojox.gfx._base._getCachedFontMeasurements()["12pt"]/12;},pt2px:function(len){return len*dojox.gfx.px_in_pt();},px2pt:function(len){return len/dojox.gfx.px_in_pt();},normalizedLength:function(len){if(len.length==0){return 0;}if(len.length>2){var _abc=dojox.gfx.px_in_pt();var val=parseFloat(len);switch(len.slice(-2)){case "px":return val;case "pt":return val*_abc;case "in":return val*72*_abc;case "pc":return val*12*_abc;case "mm":return val*dojox.gfx.mm_in_pt*_abc;case "cm":return val*dojox.gfx.cm_in_pt*_abc;}}return parseFloat(len);},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a==b;},switchTo:function(_abd){var ns=dojox.gfx[_abd];if(ns){dojo.forEach(["Group","Rect","Ellipse","Circle","Line","Polyline","Image","Text","Path","TextPath","Surface","createSurface"],function(name){dojox.gfx[name]=ns[name];});}}});}if(!dojo._hasResource["dojox.gfx"]){dojo._hasResource["dojox.gfx"]=true;dojo.provide("dojox.gfx");dojo.loadInit(function(){var gfx=dojo.getObject("dojox.gfx",true),sl,flag,_abe;while(!gfx.renderer){if(dojo.config.forceGfxRenderer){dojox.gfx.renderer=dojo.config.forceGfxRenderer;break;}var _abf=(typeof dojo.config.gfxRenderer=="string"?dojo.config.gfxRenderer:"svg,vml,canvas,silverlight").split(",");for(var i=0;i<_abf.length;++i){switch(_abf[i]){case "svg":if("SVGAngle" in dojo.global){dojox.gfx.renderer="svg";}break;case "vml":if(dojo.isIE){dojox.gfx.renderer="vml";}break;case "silverlight":try{if(dojo.isIE){sl=new ActiveXObject("AgControl.AgControl");if(sl&&sl.IsVersionSupported("1.0")){flag=true;}}else{if(navigator.plugins["Silverlight Plug-In"]){flag=true;}}}catch(e){flag=false;}finally{sl=null;}if(flag){dojox.gfx.renderer="silverlight";}break;case "canvas":if(dojo.global.CanvasRenderingContext2D){dojox.gfx.renderer="canvas";}break;}if(gfx.renderer){break;}}break;}if(dojo.config.isDebug){console.log("gfx renderer = "+gfx.renderer);}if(gfx[gfx.renderer]){gfx.switchTo(gfx.renderer);}else{gfx.loadAndSwitch=gfx.renderer;dojo["require"]("dojox.gfx."+gfx.renderer);}});}if(!dojo._hasResource["dojox.gfx.shape"]){dojo._hasResource["dojox.gfx.shape"]=true;dojo.provide("dojox.gfx.shape");dojo.declare("dojox.gfx.shape.Shape",null,{constructor:function(){this.rawNode=null;this.shape=null;this.matrix=null;this.fillStyle=null;this.strokeStyle=null;this.bbox=null;this.parent=null;this.parentMatrix=null;},getNode:function(){return this.rawNode;},getShape:function(){return this.shape;},getTransform:function(){return this.matrix;},getFill:function(){return this.fillStyle;},getStroke:function(){return this.strokeStyle;},getParent:function(){return this.parent;},getBoundingBox:function(){return this.bbox;},getTransformedBoundingBox:function(){var b=this.getBoundingBox();if(!b){return null;}var m=this._getRealMatrix();gm=dojox.gfx.matrix;return [gm.multiplyPoint(m,b.x,b.y),gm.multiplyPoint(m,b.x+b.width,b.y),gm.multiplyPoint(m,b.x+b.width,b.y+b.height),gm.multiplyPoint(m,b.x,b.y+b.height)];},getEventSource:function(){return this.rawNode;},setShape:function(_ac0){this.shape=dojox.gfx.makeParameters(this.shape,_ac0);this.bbox=null;return this;},setFill:function(fill){if(!fill){this.fillStyle=null;return this;}var f=null;if(typeof (fill)=="object"&&"type" in fill){switch(fill.type){case "linear":f=dojox.gfx.makeParameters(dojox.gfx.defaultLinearGradient,fill);break;case "radial":f=dojox.gfx.makeParameters(dojox.gfx.defaultRadialGradient,fill);break;case "pattern":f=dojox.gfx.makeParameters(dojox.gfx.defaultPattern,fill);break;}}else{f=dojox.gfx.normalizeColor(fill);}this.fillStyle=f;return this;},setStroke:function(_ac1){if(!_ac1){this.strokeStyle=null;return this;}if(typeof _ac1=="string"||dojo.isArray(_ac1)||_ac1 instanceof dojo.Color){_ac1={color:_ac1};}var s=this.strokeStyle=dojox.gfx.makeParameters(dojox.gfx.defaultStroke,_ac1);s.color=dojox.gfx.normalizeColor(s.color);return this;},setTransform:function(_ac2){this.matrix=dojox.gfx.matrix.clone(_ac2?dojox.gfx.matrix.normalize(_ac2):dojox.gfx.matrix.identity);return this._applyTransform();},_applyTransform:function(){return this;},moveToFront:function(){var p=this.getParent();if(p){p._moveChildToFront(this);this._moveToFront();}return this;},moveToBack:function(){var p=this.getParent();if(p){p._moveChildToBack(this);this._moveToBack();}return this;},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(_ac3){return _ac3?this.setTransform([this.matrix,_ac3]):this;},applyLeftTransform:function(_ac4){return _ac4?this.setTransform([_ac4,this.matrix]):this;},applyTransform:function(_ac5){return _ac5?this.setTransform([this.matrix,_ac5]):this;},removeShape:function(_ac6){if(this.parent){this.parent.remove(this,_ac6);}return this;},_setParent:function(_ac7,_ac8){this.parent=_ac7;return this._updateParentMatrix(_ac8);},_updateParentMatrix:function(_ac9){this.parentMatrix=_ac9?dojox.gfx.matrix.clone(_ac9):null;return this._applyTransform();},_getRealMatrix:function(){var m=this.matrix;var p=this.parent;while(p){if(p.matrix){m=dojox.gfx.matrix.multiply(p.matrix,m);}p=p.parent;}return m;}});dojox.gfx.shape._eventsProcessing={connect:function(name,_aca,_acb){return arguments.length>2?dojo.connect(this.getEventSource(),name,_aca,_acb):dojo.connect(this.getEventSource(),name,_aca);},disconnect:function(_acc){dojo.disconnect(_acc);}};dojo.extend(dojox.gfx.shape.Shape,dojox.gfx.shape._eventsProcessing);dojox.gfx.shape.Container={_init:function(){this.children=[];},openBatch:function(){},closeBatch:function(){},add:function(_acd){var _ace=_acd.getParent();if(_ace){_ace.remove(_acd,true);}this.children.push(_acd);return _acd._setParent(this,this._getRealMatrix());},remove:function(_acf,_ad0){for(var i=0;i<this.children.length;++i){if(this.children[i]==_acf){if(_ad0){}else{_acf.parent=null;_acf.parentMatrix=null;}this.children.splice(i,1);break;}}return this;},clear:function(){this.children=[];return this;},_moveChildToFront:function(_ad1){for(var i=0;i<this.children.length;++i){if(this.children[i]==_ad1){this.children.splice(i,1);this.children.push(_ad1);break;}}return this;},_moveChildToBack:function(_ad2){for(var i=0;i<this.children.length;++i){if(this.children[i]==_ad2){this.children.splice(i,1);this.children.unshift(_ad2);break;}}return this;}};dojo.declare("dojox.gfx.shape.Surface",null,{constructor:function(){this.rawNode=null;this._parent=null;this._nodes=[];this._events=[];},destroy:function(){dojo.forEach(this._nodes,dojo.destroy);this._nodes=[];dojo.forEach(this._events,dojo.disconnect);this._events=[];this.rawNode=null;if(dojo.isIE){while(this._parent.lastChild){dojo.destroy(this._parent.lastChild);}}else{this._parent.innerHTML="";}this._parent=null;},getEventSource:function(){return this.rawNode;},_getRealMatrix:function(){return null;},isLoaded:true,onLoad:function(_ad3){},whenLoaded:function(_ad4,_ad5){var f=dojo.hitch(_ad4,_ad5);if(this.isLoaded){f(this);}else{var h=dojo.connect(this,"onLoad",function(_ad6){dojo.disconnect(h);f(_ad6);});}}});dojo.extend(dojox.gfx.shape.Surface,dojox.gfx.shape._eventsProcessing);dojo.declare("dojox.gfx.Point",null,{});dojo.declare("dojox.gfx.Rectangle",null,{});dojo.declare("dojox.gfx.shape.Rect",dojox.gfx.shape.Shape,{constructor:function(_ad7){this.shape=dojox.gfx.getDefault("Rect");this.rawNode=_ad7;},getBoundingBox:function(){return this.shape;}});dojo.declare("dojox.gfx.shape.Ellipse",dojox.gfx.shape.Shape,{constructor:function(_ad8){this.shape=dojox.gfx.getDefault("Ellipse");this.rawNode=_ad8;},getBoundingBox:function(){if(!this.bbox){var _ad9=this.shape;this.bbox={x:_ad9.cx-_ad9.rx,y:_ad9.cy-_ad9.ry,width:2*_ad9.rx,height:2*_ad9.ry};}return this.bbox;}});dojo.declare("dojox.gfx.shape.Circle",dojox.gfx.shape.Shape,{constructor:function(_ada){this.shape=dojox.gfx.getDefault("Circle");this.rawNode=_ada;},getBoundingBox:function(){if(!this.bbox){var _adb=this.shape;this.bbox={x:_adb.cx-_adb.r,y:_adb.cy-_adb.r,width:2*_adb.r,height:2*_adb.r};}return this.bbox;}});dojo.declare("dojox.gfx.shape.Line",dojox.gfx.shape.Shape,{constructor:function(_adc){this.shape=dojox.gfx.getDefault("Line");this.rawNode=_adc;},getBoundingBox:function(){if(!this.bbox){var _add=this.shape;this.bbox={x:Math.min(_add.x1,_add.x2),y:Math.min(_add.y1,_add.y2),width:Math.abs(_add.x2-_add.x1),height:Math.abs(_add.y2-_add.y1)};}return this.bbox;}});dojo.declare("dojox.gfx.shape.Polyline",dojox.gfx.shape.Shape,{constructor:function(_ade){this.shape=dojox.gfx.getDefault("Polyline");this.rawNode=_ade;},setShape:function(_adf,_ae0){if(_adf&&_adf instanceof Array){this.inherited(arguments,[{points:_adf}]);if(_ae0&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.inherited(arguments,[_adf]);}return this;},_normalizePoints:function(){var p=this.shape.points,l=p&&p.length;if(l&&typeof p[0]=="number"){var _ae1=[];for(var i=0;i<l;i+=2){_ae1.push({x:p[i],y:p[i+1]});}this.shape.points=_ae1;}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){var p=this.shape.points;var l=p.length;var t=p[0];var bbox={l:t.x,t:t.y,r:t.x,b:t.y};for(var i=1;i<l;++i){t=p[i];if(bbox.l>t.x){bbox.l=t.x;}if(bbox.r<t.x){bbox.r=t.x;}if(bbox.t>t.y){bbox.t=t.y;}if(bbox.b<t.y){bbox.b=t.y;}}this.bbox={x:bbox.l,y:bbox.t,width:bbox.r-bbox.l,height:bbox.b-bbox.t};}return this.bbox;}});dojo.declare("dojox.gfx.shape.Image",dojox.gfx.shape.Shape,{constructor:function(_ae2){this.shape=dojox.gfx.getDefault("Image");this.rawNode=_ae2;},getBoundingBox:function(){return this.shape;},setStroke:function(){return this;},setFill:function(){return this;}});dojo.declare("dojox.gfx.shape.Text",dojox.gfx.shape.Shape,{constructor:function(_ae3){this.fontStyle=null;this.shape=dojox.gfx.getDefault("Text");this.rawNode=_ae3;},getFont:function(){return this.fontStyle;},setFont:function(_ae4){this.fontStyle=typeof _ae4=="string"?dojox.gfx.splitFontString(_ae4):dojox.gfx.makeParameters(dojox.gfx.defaultFont,_ae4);this._setFont();return this;}});dojox.gfx.shape.Creator={createShape:function(_ae5){var gfx=dojox.gfx;switch(_ae5.type){case gfx.defaultPath.type:return this.createPath(_ae5);case gfx.defaultRect.type:return this.createRect(_ae5);case gfx.defaultCircle.type:return this.createCircle(_ae5);case gfx.defaultEllipse.type:return this.createEllipse(_ae5);case gfx.defaultLine.type:return this.createLine(_ae5);case gfx.defaultPolyline.type:return this.createPolyline(_ae5);case gfx.defaultImage.type:return this.createImage(_ae5);case gfx.defaultText.type:return this.createText(_ae5);case gfx.defaultTextPath.type:return this.createTextPath(_ae5);}return null;},createGroup:function(){return this.createObject(dojox.gfx.Group);},createRect:function(rect){return this.createObject(dojox.gfx.Rect,rect);},createEllipse:function(_ae6){return this.createObject(dojox.gfx.Ellipse,_ae6);},createCircle:function(_ae7){return this.createObject(dojox.gfx.Circle,_ae7);},createLine:function(line){return this.createObject(dojox.gfx.Line,line);},createPolyline:function(_ae8){return this.createObject(dojox.gfx.Polyline,_ae8);},createImage:function(_ae9){return this.createObject(dojox.gfx.Image,_ae9);},createText:function(text){return this.createObject(dojox.gfx.Text,text);},createPath:function(path){return this.createObject(dojox.gfx.Path,path);},createTextPath:function(text){return this.createObject(dojox.gfx.TextPath,{}).setText(text);},createObject:function(_aea,_aeb){return null;}};}if(!dojo._hasResource["dojox.gfx.path"]){dojo._hasResource["dojox.gfx.path"]=true;dojo.provide("dojox.gfx.path");dojo.declare("dojox.gfx.path.Path",dojox.gfx.shape.Shape,{constructor:function(_aec){this.shape=dojo.clone(dojox.gfx.defaultPath);this.segments=[];this.tbbox=null;this.absolute=true;this.last={};this.rawNode=_aec;this.segmented=false;},setAbsoluteMode:function(mode){this._confirmSegmented();this.absolute=typeof mode=="string"?(mode=="absolute"):mode;return this;},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute;},getBoundingBox:function(){this._confirmSegmented();return (this.bbox&&("l" in this.bbox))?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null;},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox){return this.tbbox;}var bbox=this.bbox,_aed=this._getRealMatrix();this.bbox=null;for(var i=0,len=this.segments.length;i<len;++i){this._updateWithSegment(this.segments[i],_aed);}var t=this.bbox;this.bbox=bbox;this.tbbox=t?[{x:t.l,y:t.t},{x:t.r,y:t.t},{x:t.r,y:t.b},{x:t.l,y:t.b}]:null;return this.tbbox;},getLastPosition:function(){this._confirmSegmented();return "x" in this.last?this.last:null;},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments);},_updateBBox:function(x,y,_aee){if(_aee){var t=dojox.gfx.matrix.multiplyPoint(_aee,x,y);x=t.x;y=t.y;}if(this.bbox&&("l" in this.bbox)){if(this.bbox.l>x){this.bbox.l=x;}if(this.bbox.r<x){this.bbox.r=x;}if(this.bbox.t>y){this.bbox.t=y;}if(this.bbox.b<y){this.bbox.b=y;}}else{this.bbox={l:x,b:y,r:x,t:y};}},_updateWithSegment:function(_aef,_af0){var n=_aef.args,l=n.length;switch(_aef.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(var i=0;i<l;i+=2){this._updateBBox(n[i],n[i+1],_af0);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case "H":for(var i=0;i<l;++i){this._updateBBox(n[i],this.last.y,_af0);}this.last.x=n[l-1];this.absolute=true;break;case "V":for(var i=0;i<l;++i){this._updateBBox(this.last.x,n[i],_af0);}this.last.y=n[l-1];this.absolute=true;break;case "m":var _af1=0;if(!("x" in this.last)){this._updateBBox(this.last.x=n[0],this.last.y=n[1],_af0);_af1=2;}for(var i=_af1;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1],_af0);}this.absolute=false;break;case "l":case "t":for(var i=0;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1],_af0);}this.absolute=false;break;case "h":for(var i=0;i<l;++i){this._updateBBox(this.last.x+=n[i],this.last.y,_af0);}this.absolute=false;break;case "v":for(var i=0;i<l;++i){this._updateBBox(this.last.x,this.last.y+=n[i],_af0);}this.absolute=false;break;case "c":for(var i=0;i<l;i+=6){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1],_af0);this._updateBBox(this.last.x+n[i+2],this.last.y+n[i+3],_af0);this._updateBBox(this.last.x+=n[i+4],this.last.y+=n[i+5],_af0);}this.absolute=false;break;case "s":case "q":for(var i=0;i<l;i+=4){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1],_af0);this._updateBBox(this.last.x+=n[i+2],this.last.y+=n[i+3],_af0);}this.absolute=false;break;case "A":for(var i=0;i<l;i+=7){this._updateBBox(n[i+5],n[i+6],_af0);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case "a":for(var i=0;i<l;i+=7){this._updateBBox(this.last.x+=n[i+5],this.last.y+=n[i+6],_af0);}this.absolute=false;break;}var path=[_aef.action];for(var i=0;i<l;++i){path.push(dojox.gfx.formatNumber(n[i],true));}if(typeof this.shape.path=="string"){this.shape.path+=path.join("");}else{Array.prototype.push.apply(this.shape.path,path);}},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(_af2,args){this.tbbox=null;var _af3=this._validSegments[_af2.toLowerCase()];if(typeof _af3=="number"){if(_af3){if(args.length>=_af3){var _af4={action:_af2,args:args.slice(0,args.length-args.length%_af3)};this.segments.push(_af4);this._updateWithSegment(_af4);}}else{var _af4={action:_af2,args:[]};this.segments.push(_af4);this._updateWithSegment(_af4);}}},_collectArgs:function(_af5,args){for(var i=0;i<args.length;++i){var t=args[i];if(typeof t=="boolean"){_af5.push(t?1:0);}else{if(typeof t=="number"){_af5.push(t);}else{if(t instanceof Array){this._collectArgs(_af5,t);}else{if("x" in t&&"y" in t){_af5.push(t.x,t.y);}}}}}},moveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"M":"m",args);return this;},lineTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"L":"l",args);return this;},hLineTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"H":"h",args);return this;},vLineTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"V":"v",args);return this;},curveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"C":"c",args);return this;},smoothCurveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"S":"s",args);return this;},qCurveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"Q":"q",args);return this;},qSmoothCurveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"T":"t",args);return this;},arcTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"A":"a",args);return this;},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this;},_confirmSegmented:function(){if(!this.segmented){var path=this.shape.path;this.shape.path=[];this._setPath(path);this.shape.path=this.shape.path.join("");this.segmented=true;}},_setPath:function(path){var p=dojo.isArray(path)?path:path.match(dojox.gfx.pathSvgRegExp);this.segments=[];this.absolute=true;this.bbox={};this.last={};if(!p){return;}var _af6="",args=[],l=p.length;for(var i=0;i<l;++i){var t=p[i],x=parseFloat(t);if(isNaN(x)){if(_af6){this._pushSegment(_af6,args);}args=[];_af6=t;}else{args.push(x);}}this._pushSegment(_af6,args);},setShape:function(_af7){this.inherited(arguments,[typeof _af7=="string"?{path:_af7}:_af7]);this.segmented=false;this.segments=[];if(!dojox.gfx.lazyPathSegmentation){this._confirmSegmented();}return this;},_2PI:Math.PI*2});dojo.declare("dojox.gfx.path.TextPath",dojox.gfx.path.Path,{constructor:function(_af8){if(!("text" in this)){this.text=dojo.clone(dojox.gfx.defaultTextPath);}if(!("fontStyle" in this)){this.fontStyle=dojo.clone(dojox.gfx.defaultFont);}},getText:function(){return this.text;},setText:function(_af9){this.text=dojox.gfx.makeParameters(this.text,typeof _af9=="string"?{text:_af9}:_af9);this._setText();return this;},getFont:function(){return this.fontStyle;},setFont:function(_afa){this.fontStyle=typeof _afa=="string"?dojox.gfx.splitFontString(_afa):dojox.gfx.makeParameters(dojox.gfx.defaultFont,_afa);this._setFont();return this;}});}if(!dojo._hasResource["dojox.gfx.svg"]){dojo._hasResource["dojox.gfx.svg"]=true;dojo.provide("dojox.gfx.svg");(function(){var d=dojo,g=dojox.gfx,gs=g.shape,svg=g.svg;svg.useSvgWeb=(typeof window.svgweb!="undefined");function _afb(ns,_afc){if(dojo.doc.createElementNS){return dojo.doc.createElementNS(ns,_afc);}else{return dojo.doc.createElement(_afc);}};function _afd(text){if(svg.useSvgWeb){return dojo.doc.createTextNode(text,true);}else{return dojo.doc.createTextNode(text);}};function _afe(){if(svg.useSvgWeb){return dojo.doc.createDocumentFragment(true);}else{return dojo.doc.createDocumentFragment();}};svg.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};svg.getRef=function(name){if(!name||name=="none"){return null;}if(name.match(/^url\(#.+\)$/)){return d.byId(name.slice(5,-1));}if(name.match(/^#dojoUnique\d+$/)){return d.byId(name.slice(1));}return null;};svg.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};d.declare("dojox.gfx.svg.Shape",gs.Shape,{setFill:function(fill){if(!fill){this.fillStyle=null;this.rawNode.setAttribute("fill","none");this.rawNode.setAttribute("fill-opacity",0);return this;}var f;var _aff=function(x){this.setAttribute(x,f[x].toFixed(8));};if(typeof (fill)=="object"&&"type" in fill){switch(fill.type){case "linear":f=g.makeParameters(g.defaultLinearGradient,fill);var _b00=this._setFillObject(f,"linearGradient");d.forEach(["x1","y1","x2","y2"],_aff,_b00);break;case "radial":f=g.makeParameters(g.defaultRadialGradient,fill);var _b00=this._setFillObject(f,"radialGradient");d.forEach(["cx","cy","r"],_aff,_b00);break;case "pattern":f=g.makeParameters(g.defaultPattern,fill);var _b01=this._setFillObject(f,"pattern");d.forEach(["x","y","width","height"],_aff,_b01);break;}this.fillStyle=f;return this;}var f=g.normalizeColor(fill);this.fillStyle=f;this.rawNode.setAttribute("fill",f.toCss());this.rawNode.setAttribute("fill-opacity",f.a);this.rawNode.setAttribute("fill-rule","evenodd");return this;},setStroke:function(_b02){var rn=this.rawNode;if(!_b02){this.strokeStyle=null;rn.setAttribute("stroke","none");rn.setAttribute("stroke-opacity",0);return this;}if(typeof _b02=="string"||d.isArray(_b02)||_b02 instanceof d.Color){_b02={color:_b02};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_b02);s.color=g.normalizeColor(s.color);if(s){rn.setAttribute("stroke",s.color.toCss());rn.setAttribute("stroke-opacity",s.color.a);rn.setAttribute("stroke-width",s.width);rn.setAttribute("stroke-linecap",s.cap);if(typeof s.join=="number"){rn.setAttribute("stroke-linejoin","miter");rn.setAttribute("stroke-miterlimit",s.join);}else{rn.setAttribute("stroke-linejoin",s.join);}var da=s.style.toLowerCase();if(da in svg.dasharray){da=svg.dasharray[da];}if(da instanceof Array){da=d._toArray(da);for(var i=0;i<da.length;++i){da[i]*=s.width;}if(s.cap!="butt"){for(var i=0;i<da.length;i+=2){da[i]-=s.width;if(da[i]<1){da[i]=1;}}for(var i=1;i<da.length;i+=2){da[i]+=s.width;}}da=da.join(",");}rn.setAttribute("stroke-dasharray",da);rn.setAttribute("dojoGfxStrokeStyle",s.style);}return this;},_getParentSurface:function(){var _b03=this.parent;for(;_b03&&!(_b03 instanceof g.Surface);_b03=_b03.parent){}return _b03;},_setFillObject:function(f,_b04){var _b05=svg.xmlns.svg;this.fillStyle=f;var _b06=this._getParentSurface(),defs=_b06.defNode,fill=this.rawNode.getAttribute("fill"),ref=svg.getRef(fill);if(ref){fill=ref;if(fill.tagName.toLowerCase()!=_b04.toLowerCase()){var id=fill.id;fill.parentNode.removeChild(fill);fill=_afb(_b05,_b04);fill.setAttribute("id",id);defs.appendChild(fill);}else{while(fill.childNodes.length){fill.removeChild(fill.lastChild);}}}else{fill=_afb(_b05,_b04);fill.setAttribute("id",g._base._getUniqueId());defs.appendChild(fill);}if(_b04=="pattern"){fill.setAttribute("patternUnits","userSpaceOnUse");var img=_afb(_b05,"image");img.setAttribute("x",0);img.setAttribute("y",0);img.setAttribute("width",f.width.toFixed(8));img.setAttribute("height",f.height.toFixed(8));img.setAttributeNS(svg.xmlns.xlink,"xlink:href",f.src);fill.appendChild(img);}else{fill.setAttribute("gradientUnits","userSpaceOnUse");for(var i=0;i<f.colors.length;++i){var c=f.colors[i],t=_afb(_b05,"stop"),cc=c.color=g.normalizeColor(c.color);t.setAttribute("offset",c.offset.toFixed(8));t.setAttribute("stop-color",cc.toCss());t.setAttribute("stop-opacity",cc.a);fill.appendChild(t);}}this.rawNode.setAttribute("fill","url(#"+fill.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule","evenodd");return fill;},_applyTransform:function(){var _b07=this.matrix;if(_b07){var tm=this.matrix;this.rawNode.setAttribute("transform","matrix("+tm.xx.toFixed(8)+","+tm.yx.toFixed(8)+","+tm.xy.toFixed(8)+","+tm.yy.toFixed(8)+","+tm.dx.toFixed(8)+","+tm.dy.toFixed(8)+")");}else{this.rawNode.removeAttribute("transform");}return this;},setRawNode:function(_b08){var r=this.rawNode=_b08;if(this.shape.type!="image"){r.setAttribute("fill","none");}r.setAttribute("fill-opacity",0);r.setAttribute("stroke","none");r.setAttribute("stroke-opacity",0);r.setAttribute("stroke-width",1);r.setAttribute("stroke-linecap","butt");r.setAttribute("stroke-linejoin","miter");r.setAttribute("stroke-miterlimit",4);},setShape:function(_b09){this.shape=g.makeParameters(this.shape,_b09);for(var i in this.shape){if(i!="type"){this.rawNode.setAttribute(i,this.shape[i]);}}this.bbox=null;return this;},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this;},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,this.rawNode.parentNode.firstChild);return this;}});dojo.declare("dojox.gfx.svg.Group",svg.Shape,{constructor:function(){gs.Container._init.call(this);},setRawNode:function(_b0a){this.rawNode=_b0a;}});svg.Group.nodeType="g";dojo.declare("dojox.gfx.svg.Rect",[svg.Shape,gs.Rect],{setShape:function(_b0b){this.shape=g.makeParameters(this.shape,_b0b);this.bbox=null;for(var i in this.shape){if(i!="type"&&i!="r"){this.rawNode.setAttribute(i,this.shape[i]);}}if(this.shape.r){this.rawNode.setAttribute("ry",this.shape.r);this.rawNode.setAttribute("rx",this.shape.r);}return this;}});svg.Rect.nodeType="rect";dojo.declare("dojox.gfx.svg.Ellipse",[svg.Shape,gs.Ellipse],{});svg.Ellipse.nodeType="ellipse";dojo.declare("dojox.gfx.svg.Circle",[svg.Shape,gs.Circle],{});svg.Circle.nodeType="circle";dojo.declare("dojox.gfx.svg.Line",[svg.Shape,gs.Line],{});svg.Line.nodeType="line";dojo.declare("dojox.gfx.svg.Polyline",[svg.Shape,gs.Polyline],{setShape:function(_b0c,_b0d){if(_b0c&&_b0c instanceof Array){this.shape=g.makeParameters(this.shape,{points:_b0c});if(_b0d&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.shape=g.makeParameters(this.shape,_b0c);}this.bbox=null;this._normalizePoints();var attr=[],p=this.shape.points;for(var i=0;i<p.length;++i){attr.push(p[i].x.toFixed(8),p[i].y.toFixed(8));}this.rawNode.setAttribute("points",attr.join(" "));return this;}});svg.Polyline.nodeType="polyline";dojo.declare("dojox.gfx.svg.Image",[svg.Shape,gs.Image],{setShape:function(_b0e){this.shape=g.makeParameters(this.shape,_b0e);this.bbox=null;var _b0f=this.rawNode;for(var i in this.shape){if(i!="type"&&i!="src"){_b0f.setAttribute(i,this.shape[i]);}}_b0f.setAttribute("preserveAspectRatio","none");_b0f.setAttributeNS(svg.xmlns.xlink,"xlink:href",this.shape.src);return this;}});svg.Image.nodeType="image";dojo.declare("dojox.gfx.svg.Text",[svg.Shape,gs.Text],{setShape:function(_b10){this.shape=g.makeParameters(this.shape,_b10);this.bbox=null;var r=this.rawNode,s=this.shape;r.setAttribute("x",s.x);r.setAttribute("y",s.y);r.setAttribute("text-anchor",s.align);r.setAttribute("text-decoration",s.decoration);r.setAttribute("rotate",s.rotated?90:0);r.setAttribute("kerning",s.kerning?"auto":0);r.setAttribute("text-rendering","optimizeLegibility");if(r.firstChild){r.firstChild.nodeValue=s.text;}else{r.appendChild(_afd(s.text));}return this;},getTextWidth:function(){var _b11=this.rawNode,_b12=_b11.parentNode,_b13=_b11.cloneNode(true);_b13.style.visibility="hidden";var _b14=0,_b15=_b13.firstChild.nodeValue;_b12.appendChild(_b13);if(_b15!=""){while(!_b14){if(_b13.getBBox){_b14=parseInt(_b13.getBBox().width);}else{_b14=68;}}}_b12.removeChild(_b13);return _b14;}});svg.Text.nodeType="text";dojo.declare("dojox.gfx.svg.Path",[svg.Shape,g.path.Path],{_updateWithSegment:function(_b16){this.inherited(arguments);if(typeof (this.shape.path)=="string"){this.rawNode.setAttribute("d",this.shape.path);}},setShape:function(_b17){this.inherited(arguments);if(this.shape.path){this.rawNode.setAttribute("d",this.shape.path);}else{this.rawNode.removeAttribute("d");}return this;}});svg.Path.nodeType="path";dojo.declare("dojox.gfx.svg.TextPath",[svg.Shape,g.path.TextPath],{_updateWithSegment:function(_b18){this.inherited(arguments);this._setTextPath();},setShape:function(_b19){this.inherited(arguments);this._setTextPath();return this;},_setTextPath:function(){if(typeof this.shape.path!="string"){return;}var r=this.rawNode;if(!r.firstChild){var tp=_afb(svg.xmlns.svg,"textPath"),tx=_afd("");tp.appendChild(tx);r.appendChild(tp);}var ref=r.firstChild.getAttributeNS(svg.xmlns.xlink,"href"),path=ref&&svg.getRef(ref);if(!path){var _b1a=this._getParentSurface();if(_b1a){var defs=_b1a.defNode;path=_afb(svg.xmlns.svg,"path");var id=g._base._getUniqueId();path.setAttribute("id",id);defs.appendChild(path);r.firstChild.setAttributeNS(svg.xmlns.xlink,"xlink:href","#"+id);}}if(path){path.setAttribute("d",this.shape.path);}},_setText:function(){var r=this.rawNode;if(!r.firstChild){var tp=_afb(svg.xmlns.svg,"textPath"),tx=_afd("");tp.appendChild(tx);r.appendChild(tp);}r=r.firstChild;var t=this.text;r.setAttribute("alignment-baseline","middle");switch(t.align){case "middle":r.setAttribute("text-anchor","middle");r.setAttribute("startOffset","50%");break;case "end":r.setAttribute("text-anchor","end");r.setAttribute("startOffset","100%");break;default:r.setAttribute("text-anchor","start");r.setAttribute("startOffset","0%");break;}r.setAttribute("baseline-shift","0.5ex");r.setAttribute("text-decoration",t.decoration);r.setAttribute("rotate",t.rotated?90:0);r.setAttribute("kerning",t.kerning?"auto":0);r.firstChild.data=t.text;}});svg.TextPath.nodeType="text";dojo.declare("dojox.gfx.svg.Surface",gs.Surface,{constructor:function(){gs.Container._init.call(this);},destroy:function(){this.defNode=null;this.inherited(arguments);},setDimensions:function(_b1b,_b1c){if(!this.rawNode){return this;}this.rawNode.setAttribute("width",_b1b);this.rawNode.setAttribute("height",_b1c);return this;},getDimensions:function(){var t=this.rawNode?{width:g.normalizedLength(this.rawNode.getAttribute("width")),height:g.normalizedLength(this.rawNode.getAttribute("height"))}:null;return t;}});svg.createSurface=function(_b1d,_b1e,_b1f){var s=new svg.Surface();s.rawNode=_afb(svg.xmlns.svg,"svg");if(_b1e){s.rawNode.setAttribute("width",_b1e);}if(_b1f){s.rawNode.setAttribute("height",_b1f);}var _b20=_afb(svg.xmlns.svg,"defs");s.rawNode.appendChild(_b20);s.defNode=_b20;s._parent=d.byId(_b1d);s._parent.appendChild(s.rawNode);return s;};var Font={_setFont:function(){var f=this.fontStyle;this.rawNode.setAttribute("font-style",f.style);this.rawNode.setAttribute("font-variant",f.variant);this.rawNode.setAttribute("font-weight",f.weight);this.rawNode.setAttribute("font-size",f.size);this.rawNode.setAttribute("font-family",f.family);}};var C=gs.Container,_b21={openBatch:function(){this.fragment=_afe();},closeBatch:function(){if(this.fragment){this.rawNode.appendChild(this.fragment);delete this.fragment;}},add:function(_b22){if(this!=_b22.getParent()){if(this.fragment){this.fragment.appendChild(_b22.rawNode);}else{this.rawNode.appendChild(_b22.rawNode);}C.add.apply(this,arguments);}return this;},remove:function(_b23,_b24){if(this==_b23.getParent()){if(this.rawNode==_b23.rawNode.parentNode){this.rawNode.removeChild(_b23.rawNode);}if(this.fragment&&this.fragment==_b23.rawNode.parentNode){this.fragment.removeChild(_b23.rawNode);}C.remove.apply(this,arguments);}return this;},clear:function(){var r=this.rawNode;while(r.lastChild){r.removeChild(r.lastChild);}var _b25=this.defNode;if(_b25){while(_b25.lastChild){_b25.removeChild(_b25.lastChild);}r.appendChild(_b25);}return C.clear.apply(this,arguments);},_moveChildToFront:C._moveChildToFront,_moveChildToBack:C._moveChildToBack};var _b26={createObject:function(_b27,_b28){if(!this.rawNode){return null;}var _b29=new _b27(),node=_afb(svg.xmlns.svg,_b27.nodeType);_b29.setRawNode(node);_b29.setShape(_b28);this.add(_b29);return _b29;}};d.extend(svg.Text,Font);d.extend(svg.TextPath,Font);d.extend(svg.Group,_b21);d.extend(svg.Group,gs.Creator);d.extend(svg.Group,_b26);d.extend(svg.Surface,_b21);d.extend(svg.Surface,gs.Creator);d.extend(svg.Surface,_b26);if(svg.useSvgWeb){svg.createSurface=function(_b2a,_b2b,_b2c){var s=new svg.Surface();if(!_b2b||!_b2c){var pos=d.position(_b2a);_b2b=_b2b||pos.w;_b2c=_b2c||pos.h;}_b2a=d.byId(_b2a);var id=_b2a.id?_b2a.id+"_svgweb":g._base._getUniqueId();var _b2d=_afb(svg.xmlns.svg,"svg");_b2d.id=id;_b2d.setAttribute("width",_b2b);_b2d.setAttribute("height",_b2c);svgweb.appendChild(_b2d,_b2a);_b2d.addEventListener("SVGLoad",function(){s.rawNode=this;s.isLoaded=true;var _b2e=_afb(svg.xmlns.svg,"defs");s.rawNode.appendChild(_b2e);s.defNode=_b2e;if(s.onLoad){s.onLoad(s);}},false);s.isLoaded=false;return s;};svg.Surface.extend({destroy:function(){var _b2f=this.rawNode;svgweb.removeChild(_b2f,_b2f.parentNode);}});var _b30={connect:function(name,_b31,_b32){if(name.substring(0,2)==="on"){name=name.substring(2);}if(arguments.length==2){_b32=_b31;}else{_b32=d.hitch(_b31,_b32);}this.getEventSource().addEventListener(name,_b32,false);return [this,name,_b32];},disconnect:function(_b33){this.getEventSource().removeEventListener(_b33[1],_b33[2],false);delete _b33[0];}};dojo.extend(svg.Shape,_b30);dojo.extend(svg.Surface,_b30);}if(g.loadAndSwitch==="svg"){g.switchTo("svg");delete g.loadAndSwitch;}})();}if(!dojo._hasResource["dojox.gfx3d.matrix"]){dojo._hasResource["dojox.gfx3d.matrix"]=true;dojo.provide("dojox.gfx3d.matrix");dojox.gfx3d.matrix._degToRad=function(_b34){return Math.PI*_b34/180;};dojox.gfx3d.matrix._radToDeg=function(_b35){return _b35/Math.PI*180;};dojox.gfx3d.matrix.Matrix3D=function(arg){if(arg){if(typeof arg=="number"){this.xx=this.yy=this.zz=arg;}else{if(arg instanceof Array){if(arg.length>0){var m=dojox.gfx3d.matrix.normalize(arg[0]);for(var i=1;i<arg.length;++i){var l=m;var r=dojox.gfx3d.matrix.normalize(arg[i]);m=new dojox.gfx3d.matrix.Matrix3D();m.xx=l.xx*r.xx+l.xy*r.yx+l.xz*r.zx;m.xy=l.xx*r.xy+l.xy*r.yy+l.xz*r.zy;m.xz=l.xx*r.xz+l.xy*r.yz+l.xz*r.zz;m.yx=l.yx*r.xx+l.yy*r.yx+l.yz*r.zx;m.yy=l.yx*r.xy+l.yy*r.yy+l.yz*r.zy;m.yz=l.yx*r.xz+l.yy*r.yz+l.yz*r.zz;m.zx=l.zx*r.xx+l.zy*r.yx+l.zz*r.zx;m.zy=l.zx*r.xy+l.zy*r.yy+l.zz*r.zy;m.zz=l.zx*r.xz+l.zy*r.yz+l.zz*r.zz;m.dx=l.xx*r.dx+l.xy*r.dy+l.xz*r.dz+l.dx;m.dy=l.yx*r.dx+l.yy*r.dy+l.yz*r.dz+l.dy;m.dz=l.zx*r.dx+l.zy*r.dy+l.zz*r.dz+l.dz;}dojo.mixin(this,m);}}else{dojo.mixin(this,arg);}}}};dojo.extend(dojox.gfx3d.matrix.Matrix3D,{xx:1,xy:0,xz:0,yx:0,yy:1,yz:0,zx:0,zy:0,zz:1,dx:0,dy:0,dz:0});dojo.mixin(dojox.gfx3d.matrix,{identity:new dojox.gfx3d.matrix.Matrix3D(),translate:function(a,b,c){if(arguments.length>1){return new dojox.gfx3d.matrix.Matrix3D({dx:a,dy:b,dz:c});}return new dojox.gfx3d.matrix.Matrix3D({dx:a.x,dy:a.y,dz:a.z});},scale:function(a,b,c){if(arguments.length>1){return new dojox.gfx3d.matrix.Matrix3D({xx:a,yy:b,zz:c});}if(typeof a=="number"){return new dojox.gfx3d.matrix.Matrix3D({xx:a,yy:a,zz:a});}return new dojox.gfx3d.matrix.Matrix3D({xx:a.x,yy:a.y,zz:a.z});},rotateX:function(_b36){var c=Math.cos(_b36);var s=Math.sin(_b36);return new dojox.gfx3d.matrix.Matrix3D({yy:c,yz:-s,zy:s,zz:c});},rotateXg:function(_b37){return dojox.gfx3d.matrix.rotateX(dojox.gfx3d.matrix._degToRad(_b37));},rotateY:function(_b38){var c=Math.cos(_b38);var s=Math.sin(_b38);return new dojox.gfx3d.matrix.Matrix3D({xx:c,xz:s,zx:-s,zz:c});},rotateYg:function(_b39){return dojox.gfx3d.matrix.rotateY(dojox.gfx3d.matrix._degToRad(_b39));},rotateZ:function(_b3a){var c=Math.cos(_b3a);var s=Math.sin(_b3a);return new dojox.gfx3d.matrix.Matrix3D({xx:c,xy:-s,yx:s,yy:c});},rotateZg:function(_b3b){return dojox.gfx3d.matrix.rotateZ(dojox.gfx3d.matrix._degToRad(_b3b));},cameraTranslate:function(a,b,c){if(arguments.length>1){return new dojox.gfx3d.matrix.Matrix3D({dx:-a,dy:-b,dz:-c});}return new dojox.gfx3d.matrix.Matrix3D({dx:-a.x,dy:-a.y,dz:-a.z});},cameraRotateX:function(_b3c){var c=Math.cos(-_b3c);var s=Math.sin(-_b3c);return new dojox.gfx3d.matrix.Matrix3D({yy:c,yz:-s,zy:s,zz:c});},cameraRotateXg:function(_b3d){return dojox.gfx3d.matrix.rotateX(dojox.gfx3d.matrix._degToRad(_b3d));},cameraRotateY:function(_b3e){var c=Math.cos(-_b3e);var s=Math.sin(-_b3e);return new dojox.gfx3d.matrix.Matrix3D({xx:c,xz:s,zx:-s,zz:c});},cameraRotateYg:function(_b3f){return dojox.gfx3d.matrix.rotateY(dojox.gfx3d.matrix._degToRad(_b3f));},cameraRotateZ:function(_b40){var c=Math.cos(-_b40);var s=Math.sin(-_b40);return new dojox.gfx3d.matrix.Matrix3D({xx:c,xy:-s,yx:s,yy:c});},cameraRotateZg:function(_b41){return dojox.gfx3d.matrix.rotateZ(dojox.gfx3d.matrix._degToRad(_b41));},normalize:function(_b42){return (_b42 instanceof dojox.gfx3d.matrix.Matrix3D)?_b42:new dojox.gfx3d.matrix.Matrix3D(_b42);},clone:function(_b43){var obj=new dojox.gfx3d.matrix.Matrix3D();for(var i in _b43){if(typeof (_b43[i])=="number"&&typeof (obj[i])=="number"&&obj[i]!=_b43[i]){obj[i]=_b43[i];}}return obj;},invert:function(_b44){var m=dojox.gfx3d.matrix.normalize(_b44);var D=m.xx*m.yy*m.zz+m.xy*m.yz*m.zx+m.xz*m.yx*m.zy-m.xx*m.yz*m.zy-m.xy*m.yx*m.zz-m.xz*m.yy*m.zx;var M=new dojox.gfx3d.matrix.Matrix3D({xx:(m.yy*m.zz-m.yz*m.zy)/D,xy:(m.xz*m.zy-m.xy*m.zz)/D,xz:(m.xy*m.yz-m.xz*m.yy)/D,yx:(m.yz*m.zx-m.yx*m.zz)/D,yy:(m.xx*m.zz-m.xz*m.zx)/D,yz:(m.xz*m.yx-m.xx*m.yz)/D,zx:(m.yx*m.zy-m.yy*m.zx)/D,zy:(m.xy*m.zx-m.xx*m.zy)/D,zz:(m.xx*m.yy-m.xy*m.yx)/D,dx:-1*(m.xy*m.yz*m.dz+m.xz*m.dy*m.zy+m.dx*m.yy*m.zz-m.xy*m.dy*m.zz-m.xz*m.yy*m.dz-m.dx*m.yz*m.zy)/D,dy:(m.xx*m.yz*m.dz+m.xz*m.dy*m.zx+m.dx*m.yx*m.zz-m.xx*m.dy*m.zz-m.xz*m.yx*m.dz-m.dx*m.yz*m.zx)/D,dz:-1*(m.xx*m.yy*m.dz+m.xy*m.dy*m.zx+m.dx*m.yx*m.zy-m.xx*m.dy*m.zy-m.xy*m.yx*m.dz-m.dx*m.yy*m.zx)/D});return M;},_multiplyPoint:function(m,x,y,z){return {x:m.xx*x+m.xy*y+m.xz*z+m.dx,y:m.yx*x+m.yy*y+m.yz*z+m.dy,z:m.zx*x+m.zy*y+m.zz*z+m.dz};},multiplyPoint:function(_b45,a,b,c){var m=dojox.gfx3d.matrix.normalize(_b45);if(typeof a=="number"&&typeof b=="number"&&typeof c=="number"){return dojox.gfx3d.matrix._multiplyPoint(m,a,b,c);}return dojox.gfx3d.matrix._multiplyPoint(m,a.x,a.y,a.z);},multiply:function(_b46){var m=dojox.gfx3d.matrix.normalize(_b46);for(var i=1;i<arguments.length;++i){var l=m;var r=dojox.gfx3d.matrix.normalize(arguments[i]);m=new dojox.gfx3d.matrix.Matrix3D();m.xx=l.xx*r.xx+l.xy*r.yx+l.xz*r.zx;m.xy=l.xx*r.xy+l.xy*r.yy+l.xz*r.zy;m.xz=l.xx*r.xz+l.xy*r.yz+l.xz*r.zz;m.yx=l.yx*r.xx+l.yy*r.yx+l.yz*r.zx;m.yy=l.yx*r.xy+l.yy*r.yy+l.yz*r.zy;m.yz=l.yx*r.xz+l.yy*r.yz+l.yz*r.zz;m.zx=l.zx*r.xx+l.zy*r.yx+l.zz*r.zx;m.zy=l.zx*r.xy+l.zy*r.yy+l.zz*r.zy;m.zz=l.zx*r.xz+l.zy*r.yz+l.zz*r.zz;m.dx=l.xx*r.dx+l.xy*r.dy+l.xz*r.dz+l.dx;m.dy=l.yx*r.dx+l.yy*r.dy+l.yz*r.dz+l.dy;m.dz=l.zx*r.dx+l.zy*r.dy+l.zz*r.dz+l.dz;}return m;},_project:function(m,x,y,z){return {x:m.xx*x+m.xy*y+m.xz*z+m.dx,y:m.yx*x+m.yy*y+m.yz*z+m.dy,z:m.zx*x+m.zy*y+m.zz*z+m.dz};},project:function(_b47,a,b,c){var m=dojox.gfx3d.matrix.normalize(_b47);if(typeof a=="number"&&typeof b=="number"&&typeof c=="number"){return dojox.gfx3d.matrix._project(m,a,b,c);}return dojox.gfx3d.matrix._project(m,a.x,a.y,a.z);}});dojox.gfx3d.Matrix3D=dojox.gfx3d.matrix.Matrix3D;}if(!dojo._hasResource["dojox.gfx3d._base"]){dojo._hasResource["dojox.gfx3d._base"]=true;dojo.provide("dojox.gfx3d._base");dojo.mixin(dojox.gfx3d,{defaultEdges:{type:"edges",style:null,points:[]},defaultTriangles:{type:"triangles",style:null,points:[]},defaultQuads:{type:"quads",style:null,points:[]},defaultOrbit:{type:"orbit",center:{x:0,y:0,z:0},radius:50},defaultPath3d:{type:"path3d",path:[]},defaultPolygon:{type:"polygon",path:[]},defaultCube:{type:"cube",bottom:{x:0,y:0,z:0},top:{x:100,y:100,z:100}},defaultCylinder:{type:"cylinder",center:{x:0,y:0,z:0},height:100,radius:50}});}if(!dojo._hasResource["dojox.gfx3d.lighting"]){dojo._hasResource["dojox.gfx3d.lighting"]=true;dojo.provide("dojox.gfx3d.lighting");(function(){var lite=dojox.gfx3d.lighting;dojo.mixin(dojox.gfx3d.lighting,{black:function(){return {r:0,g:0,b:0,a:1};},white:function(){return {r:1,g:1,b:1,a:1};},toStdColor:function(c){c=dojox.gfx.normalizeColor(c);return {r:c.r/255,g:c.g/255,b:c.b/255,a:c.a};},fromStdColor:function(c){return new dojo.Color([Math.round(255*c.r),Math.round(255*c.g),Math.round(255*c.b),c.a]);},scaleColor:function(s,c){return {r:s*c.r,g:s*c.g,b:s*c.b,a:s*c.a};},addColor:function(a,b){return {r:a.r+b.r,g:a.g+b.g,b:a.b+b.b,a:a.a+b.a};},multiplyColor:function(a,b){return {r:a.r*b.r,g:a.g*b.g,b:a.b*b.b,a:a.a*b.a};},saturateColor:function(c){return {r:c.r<0?0:c.r>1?1:c.r,g:c.g<0?0:c.g>1?1:c.g,b:c.b<0?0:c.b>1?1:c.b,a:c.a<0?0:c.a>1?1:c.a};},mixColor:function(c1,c2,s){return lite.addColor(lite.scaleColor(s,c1),lite.scaleColor(1-s,c2));},diff2Color:function(c1,c2){var r=c1.r-c2.r;var g=c1.g-c2.g;var b=c1.b-c2.b;var a=c1.a-c2.a;return r*r+g*g+b*b+a*a;},length2Color:function(c){return c.r*c.r+c.g*c.g+c.b*c.b+c.a*c.a;},dot:function(a,b){return a.x*b.x+a.y*b.y+a.z*b.z;},scale:function(s,v){return {x:s*v.x,y:s*v.y,z:s*v.z};},add:function(a,b){return {x:a.x+b.x,y:a.y+b.y,z:a.z+b.z};},saturate:function(v){return Math.min(Math.max(v,0),1);},length:function(v){return Math.sqrt(dojox.gfx3d.lighting.dot(v,v));},normalize:function(v){return lite.scale(1/lite.length(v),v);},faceforward:function(n,i){var p=dojox.gfx3d.lighting;var s=p.dot(i,n)<0?1:-1;return p.scale(s,n);},reflect:function(i,n){var p=dojox.gfx3d.lighting;return p.add(i,p.scale(-2*p.dot(i,n),n));},diffuse:function(_b48,_b49){var c=lite.black();for(var i=0;i<_b49.length;++i){var l=_b49[i],d=lite.dot(lite.normalize(l.direction),_b48);c=lite.addColor(c,lite.scaleColor(d,l.color));}return lite.saturateColor(c);},specular:function(_b4a,v,_b4b,_b4c){var c=lite.black();for(var i=0;i<_b4c.length;++i){var l=_b4c[i],h=lite.normalize(lite.add(lite.normalize(l.direction),v)),s=Math.pow(Math.max(0,lite.dot(_b4a,h)),1/_b4b);c=lite.addColor(c,lite.scaleColor(s,l.color));}return lite.saturateColor(c);},phong:function(_b4d,v,size,_b4e){_b4d=lite.normalize(_b4d);var c=lite.black();for(var i=0;i<_b4e.length;++i){var l=_b4e[i],r=lite.reflect(lite.scale(-1,lite.normalize(v)),_b4d),s=Math.pow(Math.max(0,lite.dot(r,lite.normalize(l.direction))),size);c=lite.addColor(c,lite.scaleColor(s,l.color));}return lite.saturateColor(c);}});dojo.declare("dojox.gfx3d.lighting.Model",null,{constructor:function(_b4f,_b50,_b51,_b52){this.incident=lite.normalize(_b4f);this.lights=[];for(var i=0;i<_b50.length;++i){var l=_b50[i];this.lights.push({direction:lite.normalize(l.direction),color:lite.toStdColor(l.color)});}this.ambient=lite.toStdColor(_b51.color?_b51.color:"white");this.ambient=lite.scaleColor(_b51.intensity,this.ambient);this.ambient=lite.scaleColor(this.ambient.a,this.ambient);this.ambient.a=1;this.specular=lite.toStdColor(_b52?_b52:"white");this.specular=lite.scaleColor(this.specular.a,this.specular);this.specular.a=1;this.npr_cool={r:0,g:0,b:0.4,a:1};this.npr_warm={r:0.4,g:0.4,b:0.2,a:1};this.npr_alpha=0.2;this.npr_beta=0.6;this.npr_scale=0.6;},constant:function(_b53,_b54,_b55){_b55=lite.toStdColor(_b55);var _b56=_b55.a,_b57=lite.scaleColor(_b56,_b55);_b57.a=_b56;return lite.fromStdColor(lite.saturateColor(_b57));},matte:function(_b58,_b59,_b5a){if(typeof _b59=="string"){_b59=lite.finish[_b59];}_b5a=lite.toStdColor(_b5a);_b58=lite.faceforward(lite.normalize(_b58),this.incident);var _b5b=lite.scaleColor(_b59.Ka,this.ambient),_b5c=lite.saturate(-4*lite.dot(_b58,this.incident)),_b5d=lite.scaleColor(_b5c*_b59.Kd,lite.diffuse(_b58,this.lights)),_b5e=lite.scaleColor(_b5a.a,lite.multiplyColor(_b5a,lite.addColor(_b5b,_b5d)));_b5e.a=_b5a.a;return lite.fromStdColor(lite.saturateColor(_b5e));},metal:function(_b5f,_b60,_b61){if(typeof _b60=="string"){_b60=lite.finish[_b60];}_b61=lite.toStdColor(_b61);_b5f=lite.faceforward(lite.normalize(_b5f),this.incident);var v=lite.scale(-1,this.incident),_b62,_b63,_b64=lite.scaleColor(_b60.Ka,this.ambient),_b65=lite.saturate(-4*lite.dot(_b5f,this.incident));if("phong" in _b60){_b62=lite.scaleColor(_b65*_b60.Ks*_b60.phong,lite.phong(_b5f,v,_b60.phong_size,this.lights));}else{_b62=lite.scaleColor(_b65*_b60.Ks,lite.specular(_b5f,v,_b60.roughness,this.lights));}_b63=lite.scaleColor(_b61.a,lite.addColor(lite.multiplyColor(_b61,_b64),lite.multiplyColor(this.specular,_b62)));_b63.a=_b61.a;return lite.fromStdColor(lite.saturateColor(_b63));},plastic:function(_b66,_b67,_b68){if(typeof _b67=="string"){_b67=lite.finish[_b67];}_b68=lite.toStdColor(_b68);_b66=lite.faceforward(lite.normalize(_b66),this.incident);var v=lite.scale(-1,this.incident),_b69,_b6a,_b6b=lite.scaleColor(_b67.Ka,this.ambient),_b6c=lite.saturate(-4*lite.dot(_b66,this.incident)),_b6d=lite.scaleColor(_b6c*_b67.Kd,lite.diffuse(_b66,this.lights));if("phong" in _b67){_b69=lite.scaleColor(_b6c*_b67.Ks*_b67.phong,lite.phong(_b66,v,_b67.phong_size,this.lights));}else{_b69=lite.scaleColor(_b6c*_b67.Ks,lite.specular(_b66,v,_b67.roughness,this.lights));}_b6a=lite.scaleColor(_b68.a,lite.addColor(lite.multiplyColor(_b68,lite.addColor(_b6b,_b6d)),lite.multiplyColor(this.specular,_b69)));_b6a.a=_b68.a;return lite.fromStdColor(lite.saturateColor(_b6a));},npr:function(_b6e,_b6f,_b70){if(typeof _b6f=="string"){_b6f=lite.finish[_b6f];}_b70=lite.toStdColor(_b70);_b6e=lite.faceforward(lite.normalize(_b6e),this.incident);var _b71=lite.scaleColor(_b6f.Ka,this.ambient),_b72=lite.saturate(-4*lite.dot(_b6e,this.incident)),_b73=lite.scaleColor(_b72*_b6f.Kd,lite.diffuse(_b6e,this.lights)),_b74=lite.scaleColor(_b70.a,lite.multiplyColor(_b70,lite.addColor(_b71,_b73))),cool=lite.addColor(this.npr_cool,lite.scaleColor(this.npr_alpha,_b74)),warm=lite.addColor(this.npr_warm,lite.scaleColor(this.npr_beta,_b74)),d=(1+lite.dot(this.incident,_b6e))/2,_b74=lite.scaleColor(this.npr_scale,lite.addColor(_b74,lite.mixColor(cool,warm,d)));_b74.a=_b70.a;return lite.fromStdColor(lite.saturateColor(_b74));}});})();dojox.gfx3d.lighting.finish={defaults:{Ka:0.1,Kd:0.6,Ks:0,roughness:0.05},dull:{Ka:0.1,Kd:0.6,Ks:0.5,roughness:0.15},shiny:{Ka:0.1,Kd:0.6,Ks:1,roughness:0.001},glossy:{Ka:0.1,Kd:0.6,Ks:1,roughness:0.0001},phong_dull:{Ka:0.1,Kd:0.6,Ks:0.5,phong:0.5,phong_size:1},phong_shiny:{Ka:0.1,Kd:0.6,Ks:1,phong:1,phong_size:200},phong_glossy:{Ka:0.1,Kd:0.6,Ks:1,phong:1,phong_size:300},luminous:{Ka:1,Kd:0,Ks:0,roughness:0.05},metalA:{Ka:0.35,Kd:0.3,Ks:0.8,roughness:1/20},metalB:{Ka:0.3,Kd:0.4,Ks:0.7,roughness:1/60},metalC:{Ka:0.25,Kd:0.5,Ks:0.8,roughness:1/80},metalD:{Ka:0.15,Kd:0.6,Ks:0.8,roughness:1/100},metalE:{Ka:0.1,Kd:0.7,Ks:0.8,roughness:1/120}};}if(!dojo._hasResource["dojox.gfx3d.vector"]){dojo._hasResource["dojox.gfx3d.vector"]=true;dojo.provide("dojox.gfx3d.vector");dojo.mixin(dojox.gfx3d.vector,{sum:function(){var v={x:0,y:0,z:0};dojo.forEach(arguments,function(item){v.x+=item.x;v.y+=item.y;v.z+=item.z;});return v;},center:function(){var l=arguments.length;if(l==0){return {x:0,y:0,z:0};}var v=dojox.gfx3d.vector.sum(arguments);return {x:v.x/l,y:v.y/l,z:v.z/l};},substract:function(a,b){return {x:a.x-b.x,y:a.y-b.y,z:a.z-b.z};},_crossProduct:function(x,y,z,u,v,w){return {x:y*w-z*v,y:z*u-x*w,z:x*v-y*u};},crossProduct:function(a,b,c,d,e,f){if(arguments.length==6&&dojo.every(arguments,function(item){return typeof item=="number";})){return dojox.gfx3d.vector._crossProduct(a,b,c,d,e,f);}return dojox.gfx3d.vector._crossProduct(a.x,a.y,a.z,b.x,b.y,b.z);},_dotProduct:function(x,y,z,u,v,w){return x*u+y*v+z*w;},dotProduct:function(a,b,c,d,e,f){if(arguments.length==6&&dojo.every(arguments,function(item){return typeof item=="number";})){return dojox.gfx3d.vector._dotProduct(a,b,c,d,e,f);}return dojox.gfx3d.vector._dotProduct(a.x,a.y,a.z,b.x,b.y,b.z);},normalize:function(a,b,c){var l,m,n;if(a instanceof Array){l=a[0];m=a[1];n=a[2];}else{l=a;m=b;n=c;}var u=dojox.gfx3d.vector.substract(m,l);var v=dojox.gfx3d.vector.substract(n,l);return dojox.gfx3d.vector.crossProduct(u,v);}});}if(!dojo._hasResource["dojox.gfx3d.scheduler"]){dojo._hasResource["dojox.gfx3d.scheduler"]=true;dojo.provide("dojox.gfx3d.scheduler");dojo.provide("dojox.gfx3d.drawer");dojo.mixin(dojox.gfx3d.scheduler,{zOrder:function(_b75,_b76){_b76=_b76?_b76:dojox.gfx3d.scheduler.order;_b75.sort(function(a,b){return _b76(b)-_b76(a);});return _b75;},bsp:function(_b77,_b78){_b78=_b78?_b78:dojox.gfx3d.scheduler.outline;var p=new dojox.gfx3d.scheduler.BinarySearchTree(_b77[0],_b78);dojo.forEach(_b77.slice(1),function(item){p.add(item,_b78);});return p.iterate(_b78);},order:function(it){return it.getZOrder();},outline:function(it){return it.getOutline();}});dojo.declare("dojox.gfx3d.scheduler.BinarySearchTree",null,{constructor:function(obj,_b79){this.plus=null;this.minus=null;this.object=obj;var o=_b79(obj);this.orient=o[0];this.normal=dojox.gfx3d.vector.normalize(o);},add:function(obj,_b7a){var _b7b=0.5,o=_b7a(obj),v=dojox.gfx3d.vector,n=this.normal,a=this.orient,BST=dojox.gfx3d.scheduler.BinarySearchTree;if(dojo.every(o,function(item){return Math.floor(_b7b+v.dotProduct(n,v.substract(item,a)))<=0;})){if(this.minus){this.minus.add(obj,_b7a);}else{this.minus=new BST(obj,_b7a);}}else{if(dojo.every(o,function(item){return Math.floor(_b7b+v.dotProduct(n,v.substract(item,a)))>=0;})){if(this.plus){this.plus.add(obj,_b7a);}else{this.plus=new BST(obj,_b7a);}}else{throw "The case: polygon cross siblings' plate is not implemneted yet";}}},iterate:function(_b7c){var _b7d=0.5;var v=dojox.gfx3d.vector;var _b7e=[];var subs=null;var view={x:0,y:0,z:-10000};if(Math.floor(_b7d+v.dotProduct(this.normal,v.substract(view,this.orient)))<=0){subs=[this.plus,this.minus];}else{subs=[this.minus,this.plus];}if(subs[0]){_b7e=_b7e.concat(subs[0].iterate());}_b7e.push(this.object);if(subs[1]){_b7e=_b7e.concat(subs[1].iterate());}return _b7e;}});dojo.mixin(dojox.gfx3d.drawer,{conservative:function(_b7f,_b80,_b81){dojo.forEach(this.objects,function(item){item.destroy();});dojo.forEach(_b80,function(item){item.draw(_b81.lighting);});},chart:function(_b82,_b83,_b84){dojo.forEach(this.todos,function(item){item.draw(_b84.lighting);});}});}if(!dojo._hasResource["dojox.gfx3d.gradient"]){dojo._hasResource["dojox.gfx3d.gradient"]=true;dojo.provide("dojox.gfx3d.gradient");(function(){var dist=function(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2));};var N=32;dojox.gfx3d.gradient=function(_b85,_b86,_b87,_b88,from,to,_b89){var m=dojox.gfx3d.matrix,v=dojox.gfx3d.vector,mx=m.normalize(_b89),f=m.multiplyPoint(mx,_b88*Math.cos(from)+_b87.x,_b88*Math.sin(from)+_b87.y,_b87.z),t=m.multiplyPoint(mx,_b88*Math.cos(to)+_b87.x,_b88*Math.sin(to)+_b87.y,_b87.z),c=m.multiplyPoint(mx,_b87.x,_b87.y,_b87.z),step=(to-from)/N,r=dist(f,t)/2,mod=_b85[_b86.type],fin=_b86.finish,pmt=_b86.color,_b8a=[{offset:0,color:mod.call(_b85,v.substract(f,c),fin,pmt)}];for(var a=from+step;a<to;a+=step){var p=m.multiplyPoint(mx,_b88*Math.cos(a)+_b87.x,_b88*Math.sin(a)+_b87.y,_b87.z),df=dist(f,p),dt=dist(t,p);_b8a.push({offset:df/(df+dt),color:mod.call(_b85,v.substract(p,c),fin,pmt)});}_b8a.push({offset:1,color:mod.call(_b85,v.substract(t,c),fin,pmt)});return {type:"linear",x1:0,y1:-r,x2:0,y2:r,colors:_b8a};};})();}if(!dojo._hasResource["dojox.gfx3d.object"]){dojo._hasResource["dojox.gfx3d.object"]=true;dojo.provide("dojox.gfx3d.object");var out=function(o,x){if(arguments.length>1){o=x;}var e={};for(var i in o){if(i in e){continue;}}};dojo.declare("dojox.gfx3d.Object",null,{constructor:function(){this.object=null;this.matrix=null;this.cache=null;this.renderer=null;this.parent=null;this.strokeStyle=null;this.fillStyle=null;this.shape=null;},setObject:function(_b8b){this.object=dojox.gfx.makeParameters(this.object,_b8b);return this;},setTransform:function(_b8c){this.matrix=dojox.gfx3d.matrix.clone(_b8c?dojox.gfx3d.matrix.normalize(_b8c):dojox.gfx3d.identity,true);return this;},applyRightTransform:function(_b8d){return _b8d?this.setTransform([this.matrix,_b8d]):this;},applyLeftTransform:function(_b8e){return _b8e?this.setTransform([_b8e,this.matrix]):this;},applyTransform:function(_b8f){return _b8f?this.setTransform([this.matrix,_b8f]):this;},setFill:function(fill){this.fillStyle=fill;return this;},setStroke:function(_b90){this.strokeStyle=_b90;return this;},toStdFill:function(_b91,_b92){return (this.fillStyle&&typeof this.fillStyle["type"]!="undefined")?_b91[this.fillStyle.type](_b92,this.fillStyle.finish,this.fillStyle.color):this.fillStyle;},invalidate:function(){this.renderer.addTodo(this);},destroy:function(){if(this.shape){var p=this.shape.getParent();if(p){p.remove(this.shape);}this.shape=null;}},render:function(_b93){throw "Pure virtual function, not implemented";},draw:function(_b94){throw "Pure virtual function, not implemented";},getZOrder:function(){return 0;},getOutline:function(){return null;}});dojo.declare("dojox.gfx3d.Scene",dojox.gfx3d.Object,{constructor:function(){this.objects=[];this.todos=[];this.schedule=dojox.gfx3d.scheduler.zOrder;this._draw=dojox.gfx3d.drawer.conservative;},setFill:function(fill){this.fillStyle=fill;dojo.forEach(this.objects,function(item){item.setFill(fill);});return this;},setStroke:function(_b95){this.strokeStyle=_b95;dojo.forEach(this.objects,function(item){item.setStroke(_b95);});return this;},render:function(_b96,deep){var m=dojox.gfx3d.matrix.multiply(_b96,this.matrix);if(deep){this.todos=this.objects;}dojo.forEach(this.todos,function(item){item.render(m,deep);});},draw:function(_b97){this.objects=this.schedule(this.objects);this._draw(this.todos,this.objects,this.renderer);},addTodo:function(_b98){if(dojo.every(this.todos,function(item){return item!=_b98;})){this.todos.push(_b98);this.invalidate();}},invalidate:function(){this.parent.addTodo(this);},getZOrder:function(){var _b99=0;dojo.forEach(this.objects,function(item){_b99+=item.getZOrder();});return (this.objects.length>1)?_b99/this.objects.length:0;}});dojo.declare("dojox.gfx3d.Edges",dojox.gfx3d.Object,{constructor:function(){this.object=dojo.clone(dojox.gfx3d.defaultEdges);},setObject:function(_b9a,_b9b){this.object=dojox.gfx.makeParameters(this.object,(_b9a instanceof Array)?{points:_b9a,style:_b9b}:_b9a);return this;},getZOrder:function(){var _b9c=0;dojo.forEach(this.cache,function(item){_b9c+=item.z;});return (this.cache.length>1)?_b9c/this.cache.length:0;},render:function(_b9d){var m=dojox.gfx3d.matrix.multiply(_b9d,this.matrix);this.cache=dojo.map(this.object.points,function(item){return dojox.gfx3d.matrix.multiplyPoint(m,item);});},draw:function(){var c=this.cache;if(this.shape){this.shape.setShape("");}else{this.shape=this.renderer.createPath();}var p=this.shape.setAbsoluteMode("absolute");if(this.object.style=="strip"||this.object.style=="loop"){p.moveTo(c[0].x,c[0].y);dojo.forEach(c.slice(1),function(item){p.lineTo(item.x,item.y);});if(this.object.style=="loop"){p.closePath();}}else{for(var i=0;i<this.cache.length;){p.moveTo(c[i].x,c[i].y);i++;p.lineTo(c[i].x,c[i].y);i++;}}p.setStroke(this.strokeStyle);}});dojo.declare("dojox.gfx3d.Orbit",dojox.gfx3d.Object,{constructor:function(){this.object=dojo.clone(dojox.gfx3d.defaultOrbit);},render:function(_b9e){var m=dojox.gfx3d.matrix.multiply(_b9e,this.matrix);var _b9f=[0,Math.PI/4,Math.PI/3];var _ba0=dojox.gfx3d.matrix.multiplyPoint(m,this.object.center);var _ba1=dojo.map(_b9f,function(item){return {x:this.center.x+this.radius*Math.cos(item),y:this.center.y+this.radius*Math.sin(item),z:this.center.z};},this.object);_ba1=dojo.map(_ba1,function(item){return dojox.gfx3d.matrix.multiplyPoint(m,item);});var _ba2=dojox.gfx3d.vector.normalize(_ba1);_ba1=dojo.map(_ba1,function(item){return dojox.gfx3d.vector.substract(item,_ba0);});var A={xx:_ba1[0].x*_ba1[0].y,xy:_ba1[0].y*_ba1[0].y,xz:1,yx:_ba1[1].x*_ba1[1].y,yy:_ba1[1].y*_ba1[1].y,yz:1,zx:_ba1[2].x*_ba1[2].y,zy:_ba1[2].y*_ba1[2].y,zz:1,dx:0,dy:0,dz:0};var B=dojo.map(_ba1,function(item){return -Math.pow(item.x,2);});var X=dojox.gfx3d.matrix.multiplyPoint(dojox.gfx3d.matrix.invert(A),B[0],B[1],B[2]);var _ba3=Math.atan2(X.x,1-X.y)/2;var _ba4=dojo.map(_ba1,function(item){return dojox.gfx.matrix.multiplyPoint(dojox.gfx.matrix.rotate(-_ba3),item.x,item.y);});var a=Math.pow(_ba4[0].x,2);var b=Math.pow(_ba4[0].y,2);var c=Math.pow(_ba4[1].x,2);var d=Math.pow(_ba4[1].y,2);var rx=Math.sqrt((a*d-b*c)/(d-b));var ry=Math.sqrt((a*d-b*c)/(a-c));this.cache={cx:_ba0.x,cy:_ba0.y,rx:rx,ry:ry,theta:_ba3,normal:_ba2};},draw:function(_ba5){if(this.shape){this.shape.setShape(this.cache);}else{this.shape=this.renderer.createEllipse(this.cache);}this.shape.applyTransform(dojox.gfx.matrix.rotateAt(this.cache.theta,this.cache.cx,this.cache.cy)).setStroke(this.strokeStyle).setFill(this.toStdFill(_ba5,this.cache.normal));}});dojo.declare("dojox.gfx3d.Path3d",dojox.gfx3d.Object,{constructor:function(){this.object=dojo.clone(dojox.gfx3d.defaultPath3d);this.segments=[];this.absolute=true;this.last={};this.path="";},_collectArgs:function(_ba6,args){for(var i=0;i<args.length;++i){var t=args[i];if(typeof (t)=="boolean"){_ba6.push(t?1:0);}else{if(typeof (t)=="number"){_ba6.push(t);}else{if(t instanceof Array){this._collectArgs(_ba6,t);}else{if("x" in t&&"y" in t){_ba6.push(t.x);_ba6.push(t.y);}}}}}},_validSegments:{m:3,l:3,z:0},_pushSegment:function(_ba7,args){var _ba8=this._validSegments[_ba7.toLowerCase()],_ba9;if(typeof (_ba8)=="number"){if(_ba8){if(args.length>=_ba8){_ba9={action:_ba7,args:args.slice(0,args.length-args.length%_ba8)};this.segments.push(_ba9);}}else{_ba9={action:_ba7,args:[]};this.segments.push(_ba9);}}},moveTo:function(){var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"M":"m",args);return this;},lineTo:function(){var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"L":"l",args);return this;},closePath:function(){this._pushSegment("Z",[]);return this;},render:function(_baa){var m=dojox.gfx3d.matrix.multiply(_baa,this.matrix);var path="";var _bab=this._validSegments;dojo.forEach(this.segments,function(item){path+=item.action;for(var i=0;i<item.args.length;i+=_bab[item.action.toLowerCase()]){var pt=dojox.gfx3d.matrix.multiplyPoint(m,item.args[i],item.args[i+1],item.args[i+2]);path+=" "+pt.x+" "+pt.y;}});this.cache=path;},_draw:function(){return this.parent.createPath(this.cache);}});dojo.declare("dojox.gfx3d.Triangles",dojox.gfx3d.Object,{constructor:function(){this.object=dojo.clone(dojox.gfx3d.defaultTriangles);},setObject:function(_bac,_bad){if(_bac instanceof Array){this.object=dojox.gfx.makeParameters(this.object,{points:_bac,style:_bad});}else{this.object=dojox.gfx.makeParameters(this.object,_bac);}return this;},render:function(_bae){var m=dojox.gfx3d.matrix.multiply(_bae,this.matrix);var c=dojo.map(this.object.points,function(item){return dojox.gfx3d.matrix.multiplyPoint(m,item);});this.cache=[];var pool=c.slice(0,2);var _baf=c[0];if(this.object.style=="strip"){dojo.forEach(c.slice(2),function(item){pool.push(item);pool.push(pool[0]);this.cache.push(pool);pool=pool.slice(1,3);},this);}else{if(this.object.style=="fan"){dojo.forEach(c.slice(2),function(item){pool.push(item);pool.push(_baf);this.cache.push(pool);pool=[_baf,item];},this);}else{for(var i=0;i<c.length;){this.cache.push([c[i],c[i+1],c[i+2],c[i]]);i+=3;}}}},draw:function(_bb0){this.cache=dojox.gfx3d.scheduler.bsp(this.cache,function(it){return it;});if(this.shape){this.shape.clear();}else{this.shape=this.renderer.createGroup();}dojo.forEach(this.cache,function(item){this.shape.createPolyline(item).setStroke(this.strokeStyle).setFill(this.toStdFill(_bb0,dojox.gfx3d.vector.normalize(item)));},this);},getZOrder:function(){var _bb1=0;dojo.forEach(this.cache,function(item){_bb1+=(item[0].z+item[1].z+item[2].z)/3;});return (this.cache.length>1)?_bb1/this.cache.length:0;}});dojo.declare("dojox.gfx3d.Quads",dojox.gfx3d.Object,{constructor:function(){this.object=dojo.clone(dojox.gfx3d.defaultQuads);},setObject:function(_bb2,_bb3){this.object=dojox.gfx.makeParameters(this.object,(_bb2 instanceof Array)?{points:_bb2,style:_bb3}:_bb2);return this;},render:function(_bb4){var m=dojox.gfx3d.matrix.multiply(_bb4,this.matrix),i;var c=dojo.map(this.object.points,function(item){return dojox.gfx3d.matrix.multiplyPoint(m,item);});this.cache=[];if(this.object.style=="strip"){var pool=c.slice(0,2);for(i=2;i<c.length;){pool=pool.concat([c[i],c[i+1],pool[0]]);this.cache.push(pool);pool=pool.slice(2,4);i+=2;}}else{for(i=0;i<c.length;){this.cache.push([c[i],c[i+1],c[i+2],c[i+3],c[i]]);i+=4;}}},draw:function(_bb5){this.cache=dojox.gfx3d.scheduler.bsp(this.cache,function(it){return it;});if(this.shape){this.shape.clear();}else{this.shape=this.renderer.createGroup();}for(var x=0;x<this.cache.length;x++){this.shape.createPolyline(this.cache[x]).setStroke(this.strokeStyle).setFill(this.toStdFill(_bb5,dojox.gfx3d.vector.normalize(this.cache[x])));}},getZOrder:function(){var _bb6=0;for(var x=0;x<this.cache.length;x++){var i=this.cache[x];_bb6+=(i[0].z+i[1].z+i[2].z+i[3].z)/4;}return (this.cache.length>1)?_bb6/this.cache.length:0;}});dojo.declare("dojox.gfx3d.Polygon",dojox.gfx3d.Object,{constructor:function(){this.object=dojo.clone(dojox.gfx3d.defaultPolygon);},setObject:function(_bb7){this.object=dojox.gfx.makeParameters(this.object,(_bb7 instanceof Array)?{path:_bb7}:_bb7);return this;},render:function(_bb8){var m=dojox.gfx3d.matrix.multiply(_bb8,this.matrix);this.cache=dojo.map(this.object.path,function(item){return dojox.gfx3d.matrix.multiplyPoint(m,item);});this.cache.push(this.cache[0]);},draw:function(_bb9){if(this.shape){this.shape.setShape({points:this.cache});}else{this.shape=this.renderer.createPolyline({points:this.cache});}this.shape.setStroke(this.strokeStyle).setFill(this.toStdFill(_bb9,dojox.gfx3d.matrix.normalize(this.cache)));},getZOrder:function(){var _bba=0;for(var x=0;x<this.cache.length;x++){_bba+=this.cache[x].z;}return (this.cache.length>1)?_bba/this.cache.length:0;},getOutline:function(){return this.cache.slice(0,3);}});dojo.declare("dojox.gfx3d.Cube",dojox.gfx3d.Object,{constructor:function(){this.object=dojo.clone(dojox.gfx3d.defaultCube);this.polygons=[];},setObject:function(_bbb){this.object=dojox.gfx.makeParameters(this.object,_bbb);},render:function(_bbc){var a=this.object.top;var g=this.object.bottom;var b={x:g.x,y:a.y,z:a.z};var c={x:g.x,y:g.y,z:a.z};var d={x:a.x,y:g.y,z:a.z};var e={x:a.x,y:a.y,z:g.z};var f={x:g.x,y:a.y,z:g.z};var h={x:a.x,y:g.y,z:g.z};var _bbd=[a,b,c,d,e,f,g,h];var m=dojox.gfx3d.matrix.multiply(_bbc,this.matrix);var p=dojo.map(_bbd,function(item){return dojox.gfx3d.matrix.multiplyPoint(m,item);});a=p[0];b=p[1];c=p[2];d=p[3];e=p[4];f=p[5];g=p[6];h=p[7];this.cache=[[a,b,c,d,a],[e,f,g,h,e],[a,d,h,e,a],[d,c,g,h,d],[c,b,f,g,c],[b,a,e,f,b]];},draw:function(_bbe){this.cache=dojox.gfx3d.scheduler.bsp(this.cache,function(it){return it;});var _bbf=this.cache.slice(3);if(this.shape){this.shape.clear();}else{this.shape=this.renderer.createGroup();}for(var x=0;x<_bbf.length;x++){this.shape.createPolyline(_bbf[x]).setStroke(this.strokeStyle).setFill(this.toStdFill(_bbe,dojox.gfx3d.vector.normalize(_bbf[x])));}},getZOrder:function(){var top=this.cache[0][0];var _bc0=this.cache[1][2];return (top.z+_bc0.z)/2;}});dojo.declare("dojox.gfx3d.Cylinder",dojox.gfx3d.Object,{constructor:function(){this.object=dojo.clone(dojox.gfx3d.defaultCylinder);},render:function(_bc1){var m=dojox.gfx3d.matrix.multiply(_bc1,this.matrix);var _bc2=[0,Math.PI/4,Math.PI/3];var _bc3=dojox.gfx3d.matrix.multiplyPoint(m,this.object.center);var _bc4=dojo.map(_bc2,function(item){return {x:this.center.x+this.radius*Math.cos(item),y:this.center.y+this.radius*Math.sin(item),z:this.center.z};},this.object);_bc4=dojo.map(_bc4,function(item){return dojox.gfx3d.vector.substract(dojox.gfx3d.matrix.multiplyPoint(m,item),_bc3);});var A={xx:_bc4[0].x*_bc4[0].y,xy:_bc4[0].y*_bc4[0].y,xz:1,yx:_bc4[1].x*_bc4[1].y,yy:_bc4[1].y*_bc4[1].y,yz:1,zx:_bc4[2].x*_bc4[2].y,zy:_bc4[2].y*_bc4[2].y,zz:1,dx:0,dy:0,dz:0};var B=dojo.map(_bc4,function(item){return -Math.pow(item.x,2);});var X=dojox.gfx3d.matrix.multiplyPoint(dojox.gfx3d.matrix.invert(A),B[0],B[1],B[2]);var _bc5=Math.atan2(X.x,1-X.y)/2;var _bc6=dojo.map(_bc4,function(item){return dojox.gfx.matrix.multiplyPoint(dojox.gfx.matrix.rotate(-_bc5),item.x,item.y);});var a=Math.pow(_bc6[0].x,2);var b=Math.pow(_bc6[0].y,2);var c=Math.pow(_bc6[1].x,2);var d=Math.pow(_bc6[1].y,2);var rx=Math.sqrt((a*d-b*c)/(d-b));var ry=Math.sqrt((a*d-b*c)/(a-c));if(rx<ry){var t=rx;rx=ry;ry=t;_bc5-=Math.PI/2;}var top=dojox.gfx3d.matrix.multiplyPoint(m,dojox.gfx3d.vector.sum(this.object.center,{x:0,y:0,z:this.object.height}));var _bc7=this.fillStyle.type=="constant"?this.fillStyle.color:dojox.gfx3d.gradient(this.renderer.lighting,this.fillStyle,this.object.center,this.object.radius,Math.PI,2*Math.PI,m);if(isNaN(rx)||isNaN(ry)||isNaN(_bc5)){rx=this.object.radius,ry=0,_bc5=0;}this.cache={center:_bc3,top:top,rx:rx,ry:ry,theta:_bc5,gradient:_bc7};},draw:function(){var c=this.cache,v=dojox.gfx3d.vector,m=dojox.gfx.matrix,_bc8=[c.center,c.top],_bc9=v.substract(c.top,c.center);if(v.dotProduct(_bc9,this.renderer.lighting.incident)>0){_bc8=[c.top,c.center];_bc9=v.substract(c.center,c.top);}var _bca=this.renderer.lighting[this.fillStyle.type](_bc9,this.fillStyle.finish,this.fillStyle.color),d=Math.sqrt(Math.pow(c.center.x-c.top.x,2)+Math.pow(c.center.y-c.top.y,2));if(this.shape){this.shape.clear();}else{this.shape=this.renderer.createGroup();}this.shape.createPath("").moveTo(0,-c.rx).lineTo(d,-c.rx).lineTo(d,c.rx).lineTo(0,c.rx).arcTo(c.ry,c.rx,0,true,true,0,-c.rx).setFill(c.gradient).setStroke(this.strokeStyle).setTransform([m.translate(_bc8[0]),m.rotate(Math.atan2(_bc8[1].y-_bc8[0].y,_bc8[1].x-_bc8[0].x))]);if(c.rx>0&&c.ry>0){this.shape.createEllipse({cx:_bc8[1].x,cy:_bc8[1].y,rx:c.rx,ry:c.ry}).setFill(_bca).setStroke(this.strokeStyle).applyTransform(m.rotateAt(c.theta,_bc8[1]));}}});dojo.declare("dojox.gfx3d.Viewport",dojox.gfx.Group,{constructor:function(){this.dimension=null;this.objects=[];this.todos=[];this.renderer=this;this.schedule=dojox.gfx3d.scheduler.zOrder;this.draw=dojox.gfx3d.drawer.conservative;this.deep=false;this.lights=[];this.lighting=null;},setCameraTransform:function(_bcb){this.camera=dojox.gfx3d.matrix.clone(_bcb?dojox.gfx3d.matrix.normalize(_bcb):dojox.gfx3d.identity,true);this.invalidate();return this;},applyCameraRightTransform:function(_bcc){return _bcc?this.setCameraTransform([this.camera,_bcc]):this;},applyCameraLeftTransform:function(_bcd){return _bcd?this.setCameraTransform([_bcd,this.camera]):this;},applyCameraTransform:function(_bce){return this.applyCameraRightTransform(_bce);},setLights:function(_bcf,_bd0,_bd1){this.lights=(_bcf instanceof Array)?{sources:_bcf,ambient:_bd0,specular:_bd1}:_bcf;var view={x:0,y:0,z:1};this.lighting=new dojox.gfx3d.lighting.Model(view,this.lights.sources,this.lights.ambient,this.lights.specular);this.invalidate();return this;},addLights:function(_bd2){return this.setLights(this.lights.sources.concat(_bd2));},addTodo:function(_bd3){if(dojo.every(this.todos,function(item){return item!=_bd3;})){this.todos.push(_bd3);}},invalidate:function(){this.deep=true;this.todos=this.objects;},setDimensions:function(dim){if(dim){var w=dojo.isString(dim.width)?parseInt(dim.width):dim.width;var h=dojo.isString(dim.height)?parseInt(dim.height):dim.height;if(this.rawNode){var trs=this.rawNode.style;trs.height=h;trs.width=w;}this.dimension={width:w,height:h};}else{this.dimension=null;}},render:function(){if(!this.todos.length){return;}var m=dojox.gfx3d.matrix;for(var x=0;x<this.todos.length;x++){this.todos[x].render(dojox.gfx3d.matrix.normalize([m.cameraRotateXg(180),m.cameraTranslate(0,this.dimension.height,0),this.camera]),this.deep);}this.objects=this.schedule(this.objects);this.draw(this.todos,this.objects,this);this.todos=[];this.deep=false;}});dojox.gfx3d.Viewport.nodeType=dojox.gfx.Group.nodeType;dojox.gfx3d._creators={createEdges:function(_bd4,_bd5){return this.create3DObject(dojox.gfx3d.Edges,_bd4,_bd5);},createTriangles:function(tris,_bd6){return this.create3DObject(dojox.gfx3d.Triangles,tris,_bd6);},createQuads:function(_bd7,_bd8){return this.create3DObject(dojox.gfx3d.Quads,_bd7,_bd8);},createPolygon:function(_bd9){return this.create3DObject(dojox.gfx3d.Polygon,_bd9);},createOrbit:function(_bda){return this.create3DObject(dojox.gfx3d.Orbit,_bda);},createCube:function(cube){return this.create3DObject(dojox.gfx3d.Cube,cube);},createCylinder:function(_bdb){return this.create3DObject(dojox.gfx3d.Cylinder,_bdb);},createPath3d:function(path){return this.create3DObject(dojox.gfx3d.Path3d,path);},createScene:function(){return this.create3DObject(dojox.gfx3d.Scene);},create3DObject:function(_bdc,_bdd,_bde){var obj=new _bdc();this.adopt(obj);if(_bdd){obj.setObject(_bdd,_bde);}return obj;},adopt:function(obj){obj.renderer=this.renderer;obj.parent=this;this.objects.push(obj);this.addTodo(obj);return this;},abandon:function(obj,_bdf){for(var i=0;i<this.objects.length;++i){if(this.objects[i]==obj){this.objects.splice(i,1);}}obj.parent=null;return this;},setScheduler:function(_be0){this.schedule=_be0;},setDrawer:function(_be1){this.draw=_be1;}};dojo.extend(dojox.gfx3d.Viewport,dojox.gfx3d._creators);dojo.extend(dojox.gfx3d.Scene,dojox.gfx3d._creators);delete dojox.gfx3d._creators;dojo.extend(dojox.gfx.Surface,{createViewport:function(){var _be2=this.createObject(dojox.gfx3d.Viewport,null,true);_be2.setDimensions(this.getDimensions());return _be2;}});}if(!dojo._hasResource["dojox.gfx3d"]){dojo._hasResource["dojox.gfx3d"]=true;dojo.provide("dojox.gfx3d");}if(!dojo._hasResource["dojox.highlight._base"]){dojo._hasResource["dojox.highlight._base"]=true;dojo.provide("dojox.highlight._base");(function(){var dh=dojox.highlight,_be3="\\b(0x[A-Za-z0-9]+|\\d+(\\.\\d+)?)";dh.constants={IDENT_RE:"[a-zA-Z][a-zA-Z0-9_]*",UNDERSCORE_IDENT_RE:"[a-zA-Z_][a-zA-Z0-9_]*",NUMBER_RE:"\\b\\d+(\\.\\d+)?",C_NUMBER_RE:_be3,APOS_STRING_MODE:{className:"string",begin:"'",end:"'",illegal:"\\n",contains:["escape"],relevance:0},QUOTE_STRING_MODE:{className:"string",begin:"\"",end:"\"",illegal:"\\n",contains:["escape"],relevance:0},BACKSLASH_ESCAPE:{className:"escape",begin:"\\\\.",end:"^",relevance:0},C_LINE_COMMENT_MODE:{className:"comment",begin:"//",end:"$",relevance:0},C_BLOCK_COMMENT_MODE:{className:"comment",begin:"/\\*",end:"\\*/"},HASH_COMMENT_MODE:{className:"comment",begin:"#",end:"$"},C_NUMBER_MODE:{className:"number",begin:_be3,end:"^",relevance:0}};function esc(_be4){return _be4.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;");};function _be5(_be6){return dojo.every(_be6.childNodes,function(node){return node.nodeType==3||String(node.nodeName).toLowerCase()=="br";});};function _be7(_be8){var _be9=[];dojo.forEach(_be8.childNodes,function(node){if(node.nodeType==3){_be9.push(node.nodeValue);}else{if(String(node.nodeName).toLowerCase()=="br"){_be9.push("\n");}else{throw "Complex markup";}}});return _be9.join("");};function _bea(mode){if(!mode.keywordGroups){for(var key in mode.keywords){var kw=mode.keywords[key];if(kw instanceof Object){mode.keywordGroups=mode.keywords;}else{mode.keywordGroups={keyword:mode.keywords};}break;}}};function _beb(lang){if(lang.defaultMode&&lang.modes){_bea(lang.defaultMode);dojo.forEach(lang.modes,_bea);}};var _bec=function(_bed,_bee){this.langName=_bed;this.lang=dh.languages[_bed];this.modes=[this.lang.defaultMode];this.relevance=0;this.keywordCount=0;this.result=[];if(!this.lang.defaultMode.illegalRe){this.buildRes();_beb(this.lang);}try{this.highlight(_bee);this.result=this.result.join("");}catch(e){if(e=="Illegal"){this.relevance=0;this.keywordCount=0;this.partialResult=this.result.join("");this.result=esc(_bee);}else{throw e;}}};dojo.extend(_bec,{buildRes:function(){dojo.forEach(this.lang.modes,function(mode){if(mode.begin){mode.beginRe=this.langRe("^"+mode.begin);}if(mode.end){mode.endRe=this.langRe("^"+mode.end);}if(mode.illegal){mode.illegalRe=this.langRe("^(?:"+mode.illegal+")");}},this);this.lang.defaultMode.illegalRe=this.langRe("^(?:"+this.lang.defaultMode.illegal+")");},subMode:function(_bef){var _bf0=this.modes[this.modes.length-1].contains;if(_bf0){var _bf1=this.lang.modes;for(var i=0;i<_bf0.length;++i){var _bf2=_bf0[i];for(var j=0;j<_bf1.length;++j){var mode=_bf1[j];if(mode.className==_bf2&&mode.beginRe.test(_bef)){return mode;}}}}return null;},endOfMode:function(_bf3){for(var i=this.modes.length-1;i>=0;--i){var mode=this.modes[i];if(mode.end&&mode.endRe.test(_bf3)){return this.modes.length-i;}if(!mode.endsWithParent){break;}}return 0;},isIllegal:function(_bf4){var _bf5=this.modes[this.modes.length-1].illegalRe;return _bf5&&_bf5.test(_bf4);},langRe:function(_bf6,_bf7){var mode="m"+(this.lang.case_insensitive?"i":"")+(_bf7?"g":"");return new RegExp(_bf6,mode);},buildTerminators:function(){var mode=this.modes[this.modes.length-1],_bf8={};if(mode.contains){dojo.forEach(this.lang.modes,function(_bf9){if(dojo.indexOf(mode.contains,_bf9.className)>=0){_bf8[_bf9.begin]=1;}});}for(var i=this.modes.length-1;i>=0;--i){var m=this.modes[i];if(m.end){_bf8[m.end]=1;}if(!m.endsWithParent){break;}}if(mode.illegal){_bf8[mode.illegal]=1;}var t=[];for(i in _bf8){t.push(i);}mode.terminatorsRe=this.langRe("("+t.join("|")+")");},eatModeChunk:function(_bfa,_bfb){var mode=this.modes[this.modes.length-1];if(!mode.terminatorsRe){this.buildTerminators();}_bfa=_bfa.substr(_bfb);var _bfc=mode.terminatorsRe.exec(_bfa);if(!_bfc){return {buffer:_bfa,lexeme:"",end:true};}return {buffer:_bfc.index?_bfa.substr(0,_bfc.index):"",lexeme:_bfc[0],end:false};},keywordMatch:function(mode,_bfd){var _bfe=_bfd[0];if(this.lang.case_insensitive){_bfe=_bfe.toLowerCase();}for(var _bff in mode.keywordGroups){if(_bfe in mode.keywordGroups[_bff]){return _bff;}}return "";},buildLexemes:function(mode){var _c00={};dojo.forEach(mode.lexems,function(_c01){_c00[_c01]=1;});var t=[];for(var i in _c00){t.push(i);}mode.lexemsRe=this.langRe("("+t.join("|")+")",true);},processKeywords:function(_c02){var mode=this.modes[this.modes.length-1];if(!mode.keywords||!mode.lexems){return esc(_c02);}if(!mode.lexemsRe){this.buildLexemes(mode);}mode.lexemsRe.lastIndex=0;var _c03=[],_c04=0,_c05=mode.lexemsRe.exec(_c02);while(_c05){_c03.push(esc(_c02.substr(_c04,_c05.index-_c04)));var _c06=this.keywordMatch(mode,_c05);if(_c06){++this.keywordCount;_c03.push("<span class=\""+_c06+"\">"+esc(_c05[0])+"</span>");}else{_c03.push(esc(_c05[0]));}_c04=mode.lexemsRe.lastIndex;_c05=mode.lexemsRe.exec(_c02);}_c03.push(esc(_c02.substr(_c04,_c02.length-_c04)));return _c03.join("");},processModeInfo:function(_c07,_c08,end){var mode=this.modes[this.modes.length-1];if(end){this.result.push(this.processKeywords(mode.buffer+_c07));return;}if(this.isIllegal(_c08)){throw "Illegal";}var _c09=this.subMode(_c08);if(_c09){mode.buffer+=_c07;this.result.push(this.processKeywords(mode.buffer));if(_c09.excludeBegin){this.result.push(_c08+"<span class=\""+_c09.className+"\">");_c09.buffer="";}else{this.result.push("<span class=\""+_c09.className+"\">");_c09.buffer=_c08;}this.modes.push(_c09);this.relevance+=typeof _c09.relevance=="number"?_c09.relevance:1;return;}var _c0a=this.endOfMode(_c08);if(_c0a){mode.buffer+=_c07;if(mode.excludeEnd){this.result.push(this.processKeywords(mode.buffer)+"</span>"+_c08);}else{this.result.push(this.processKeywords(mode.buffer+_c08)+"</span>");}while(_c0a>1){this.result.push("</span>");--_c0a;this.modes.pop();}this.modes.pop();this.modes[this.modes.length-1].buffer="";return;}},highlight:function(_c0b){var _c0c=0;this.lang.defaultMode.buffer="";do{var _c0d=this.eatModeChunk(_c0b,_c0c);this.processModeInfo(_c0d.buffer,_c0d.lexeme,_c0d.end);_c0c+=_c0d.buffer.length+_c0d.lexeme.length;}while(!_c0d.end);if(this.modes.length>1){throw "Illegal";}}});function _c0e(node,_c0f,text){if(String(node.tagName).toLowerCase()=="code"&&String(node.parentNode.tagName).toLowerCase()=="pre"){var _c10=document.createElement("div"),_c11=node.parentNode.parentNode;_c10.innerHTML="<pre><code class=\""+_c0f+"\">"+text+"</code></pre>";_c11.replaceChild(_c10.firstChild,node.parentNode);}else{node.className=_c0f;node.innerHTML=text;}};function _c12(lang,str){var _c13=new _bec(lang,str);return {result:_c13.result,langName:lang,partialResult:_c13.partialResult};};function _c14(_c15,lang){var _c16=_c12(lang,_be7(_c15));_c0e(_c15,_c15.className,_c16.result);};function _c17(str){var _c18="",_c19="",_c1a=2,_c1b=str;for(var key in dh.languages){if(!dh.languages[key].defaultMode){continue;}var _c1c=new _bec(key,_c1b),_c1d=_c1c.keywordCount+_c1c.relevance,_c1e=0;if(!_c18||_c1d>_c1e){_c1e=_c1d;_c18=_c1c.result;_c19=_c1c.langName;}}return {result:_c18,langName:_c19};};function _c1f(_c20){var _c21=_c17(_be7(_c20));if(_c21.result){_c0e(_c20,_c21.langName,_c21.result);}};dojox.highlight.processString=function(str,lang){return lang?_c12(lang,str):_c17(str);};dojox.highlight.init=function(node){node=dojo.byId(node);if(dojo.hasClass(node,"no-highlight")){return;}if(!_be5(node)){return;}var _c22=node.className.split(/\s+/),flag=dojo.some(_c22,function(_c23){if(_c23.charAt(0)!="_"&&dh.languages[_c23]){_c14(node,_c23);return true;}return false;});if(!flag){_c1f(node);}};dh.Code=function(p,n){dh.init(n);};})();}if(!dojo._hasResource["dojox.highlight"]){dojo._hasResource["dojox.highlight"]=true;dojo.provide("dojox.highlight");}if(!dojo._hasResource["dojox.math._base"]){dojo._hasResource["dojox.math._base"]=true;dojo.provide("dojox.math._base");dojo.getObject("math",true,dojox);(function(){var m=dojox.math;dojo.mixin(dojox.math,{toRadians:function(n){return (n*Math.PI)/180;},toDegrees:function(n){return (n*180)/Math.PI;},degreesToRadians:function(n){return m.toRadians(n);},radiansToDegrees:function(n){return m.toDegrees(n);},_gamma:function(z){var _c24=1;while(--z>=1){_c24*=z;}if(z==0){return _c24;}if(Math.floor(z)==z){return NaN;}if(z==-0.5){return Math.sqrt(Math.PI);}if(z<-0.5){return Math.PI/(Math.sin(Math.PI*(z+1))*this._gamma(-z));}var a=13;var c=[0.000005665805601518633,1.274371766337968,-4.937419909315511,7.872026703248596,-6.676050374943609,3.252529844448517,-0.9185252144102627,0.14474022977730785,-0.011627561382389852,0.0004011798075706662,-0.0000042652458386405745,6.665191329033609e-9,-1.5392547381874824e-13];var sum=c[0];for(var k=1;k<a;k++){sum+=c[k]/(z+k);}return _c24*Math.pow(z+a,z+0.5)/Math.exp(z)*sum;},factorial:function(n){return this._gamma(n+1);},permutations:function(n,k){if(n==0||k==0){return 1;}return this.factorial(n)/this.factorial(n-k);},combinations:function(n,r){if(n==0||r==0){return 1;}return this.factorial(n)/(this.factorial(n-r)*this.factorial(r));},bernstein:function(t,n,i){return this.combinations(n,i)*Math.pow(t,i)*Math.pow(1-t,n-i);},gaussian:function(){var k=2;do{var i=2*Math.random()-1;var j=2*Math.random()-1;k=i*i+j*j;}while(k>=1);return i*Math.sqrt((-2*Math.log(k))/k);},range:function(a,b,step){if(arguments.length<2){b=a,a=0;}var _c25=[],s=step||1,i;if(s>0){for(i=a;i<b;i+=s){_c25.push(i);}}else{if(s<0){for(i=a;i>b;i+=s){_c25.push(i);}}else{throw new Error("dojox.math.range: step must not be zero.");}}return _c25;},distance:function(a,b){return Math.sqrt(Math.pow(b[0]-a[0],2)+Math.pow(b[1]-a[1],2));},midpoint:function(a,b){if(a.length!=b.length){console.error("dojox.math.midpoint: Points A and B are not the same dimensionally.",a,b);}var m=[];for(var i=0;i<a.length;i++){m[i]=(a[i]+b[i])/2;}return m;}});})();}if(!dojo._hasResource["dojox.math"]){dojo._hasResource["dojox.math"]=true;dojo.provide("dojox.math");dojo.getObject("math",true,dojox);}if(!dojo._hasResource["dojox.layout.ResizeHandle"]){dojo._hasResource["dojox.layout.ResizeHandle"]=true;dojo.provide("dojox.layout.ResizeHandle");dojo.experimental("dojox.layout.ResizeHandle");dojo.declare("dojox.layout.ResizeHandle",[dijit._Widget,dijit._Templated],{targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:false,activeResizeClass:"dojoxResizeHandleClone",animateSizing:true,animateMethod:"chain",animateDuration:225,minHeight:100,minWidth:100,constrainMax:false,maxHeight:0,maxWidth:0,fixedAspect:false,intermediateChanges:false,startTopic:"/dojo/resize/start",endTopic:"/dojo/resize/stop",templateString:"<div dojoAttachPoint=\"resizeHandle\" class=\"dojoxResizeHandle\"><div></div></div>",postCreate:function(){this.connect(this.resizeHandle,"onmousedown","_beginSizing");if(!this.activeResize){this._resizeHelper=dijit.byId("dojoxGlobalResizeHelper");if(!this._resizeHelper){this._resizeHelper=new dojox.layout._ResizeHelper({id:"dojoxGlobalResizeHelper"}).placeAt(dojo.body());dojo.addClass(this._resizeHelper.domNode,this.activeResizeClass);}}else{this.animateSizing=false;}if(!this.minSize){this.minSize={w:this.minWidth,h:this.minHeight};}if(this.constrainMax){this.maxSize={w:this.maxWidth,h:this.maxHeight};}this._resizeX=this._resizeY=false;var _c26=dojo.partial(dojo.addClass,this.resizeHandle);switch(this.resizeAxis.toLowerCase()){case "xy":this._resizeX=this._resizeY=true;_c26("dojoxResizeNW");break;case "x":this._resizeX=true;_c26("dojoxResizeW");break;case "y":this._resizeY=true;_c26("dojoxResizeN");break;}},_beginSizing:function(e){if(this._isSizing){return false;}dojo.publish(this.startTopic,[this]);this.targetWidget=dijit.byId(this.targetId);this.targetDomNode=this.targetWidget?this.targetWidget.domNode:dojo.byId(this.targetId);if(this.targetContainer){this.targetDomNode=this.targetContainer;}if(!this.targetDomNode){return false;}if(!this.activeResize){var c=dojo.position(this.targetDomNode,true);console.log(c);console.log(dojo.window.getBox());this._resizeHelper.resize({l:c.x,t:c.y,w:c.w,h:c.h});this._resizeHelper.show();}this._isSizing=true;this.startPoint={x:e.clientX,y:e.clientY};var mb=this.targetWidget?dojo.marginBox(this.targetDomNode):dojo.contentBox(this.targetDomNode);this.startSize={w:mb.w,h:mb.h};if(this.fixedAspect){var max,val;if(mb.w>mb.h){max="w";val=mb.w/mb.h;}else{max="h";val=mb.h/mb.w;}this._aspect={prop:max};this._aspect[max]=val;}this._pconnects=[];this._pconnects.push(dojo.connect(dojo.doc,"onmousemove",this,"_updateSizing"));this._pconnects.push(dojo.connect(dojo.doc,"onmouseup",this,"_endSizing"));dojo.stopEvent(e);},_updateSizing:function(e){if(this.activeResize){this._changeSizing(e);}else{var tmp=this._getNewCoords(e);if(tmp===false){return;}this._resizeHelper.resize(tmp);}e.preventDefault();},_getNewCoords:function(e){try{if(!e.clientX||!e.clientY){return false;}}catch(e){return false;}this._activeResizeLastEvent=e;var dx=(this.isLeftToRight()?this.startPoint.x-e.clientX:e.clientX-this.startPoint.x),dy=this.startPoint.y-e.clientY,newW=this.startSize.w-(this._resizeX?dx:0),newH=this.startSize.h-(this._resizeY?dy:0);return this._checkConstraints(newW,newH);},_checkConstraints:function(newW,newH){if(this.minSize){var tm=this.minSize;if(newW<tm.w){newW=tm.w;}if(newH<tm.h){newH=tm.h;}}if(this.constrainMax&&this.maxSize){var ms=this.maxSize;if(newW>ms.w){newW=ms.w;}if(newH>ms.h){newH=ms.h;}}if(this.fixedAspect){var ta=this._aspect[this._aspect.prop];if(newW<newH){newH=newW*ta;}else{if(newH<newW){newW=newH*ta;}}}return {w:newW,h:newH};},_changeSizing:function(e){var tmp=this._getNewCoords(e);if(tmp===false){return;}if(this.targetWidget&&dojo.isFunction(this.targetWidget.resize)){this.targetWidget.resize(tmp);}else{if(this.animateSizing){var anim=dojo.fx[this.animateMethod]([dojo.animateProperty({node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:tmp.w}},duration:this.animateDuration}),dojo.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,end:tmp.h}},duration:this.animateDuration})]);anim.play();}else{dojo.style(this.targetDomNode,{width:tmp.w+"px",height:tmp.h+"px"});}}if(this.intermediateChanges){this.onResize(e);}},_endSizing:function(e){dojo.forEach(this._pconnects,dojo.disconnect);var pub=dojo.partial(dojo.publish,this.endTopic,[this]);if(!this.activeResize){this._resizeHelper.hide();this._changeSizing(e);setTimeout(pub,this.animateDuration+15);}else{pub();}this._isSizing=false;this.onResize(e);},onResize:function(e){}});dojo.declare("dojox.layout._ResizeHelper",dijit._Widget,{show:function(){dojo.fadeIn({node:this.domNode,duration:120,beforeBegin:function(n){dojo.style(n,"display","");}}).play();},hide:function(){dojo.fadeOut({node:this.domNode,duration:250,onEnd:function(n){dojo.style(n,"display","none");}}).play();},resize:function(dim){dojo.marginBox(this.domNode,dim);}});}if(!dojo._hasResource["dojox.html._base"]){dojo._hasResource["dojox.html._base"]=true;dojo.provide("dojox.html._base");(function(){if(dojo.isIE){var _c27=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;}var _c28=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g;var _c29=dojox.html._adjustCssPaths=function(_c2a,_c2b){if(!_c2b||!_c2a){return;}if(_c27){_c2b=_c2b.replace(_c27,function(_c2c,pre,_c2d,url,post){return pre+(new dojo._Url(_c2a,"./"+url).toString())+post;});}return _c2b.replace(_c28,function(_c2e,_c2f,_c30,_c31,_c32,_c33){if(_c30){return "@import \""+(new dojo._Url(_c2a,"./"+_c30).toString())+"\""+_c33;}else{return "url("+(new dojo._Url(_c2a,"./"+_c32).toString())+")"+_c33;}});};var _c34=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi;var _c35=dojox.html._adjustHtmlPaths=function(_c36,cont){var url=_c36||"./";return cont.replace(_c34,function(tag,_c37,name,_c38,_c39,_c3a,_c3b,end){return _c37+(name?(name+"="+_c38+(new dojo._Url(url,_c39).toString())+_c38):("style="+_c3a+_c29(url,_c3b)+_c3a))+end;});};var _c3c=dojox.html._snarfStyles=function(_c3d,cont,_c3e){_c3e.attributes=[];return cont.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(_c3f,_c40,_c41,_c42,_c43,href){var i,attr=(_c40||_c42||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");if(_c41){i=_c3e.push(_c3d?_c29(_c3d,_c41):_c41);}else{i=_c3e.push("@import \""+href+"\";");attr=attr.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,"");}if(attr){attr=attr.split(/\s+/);var _c44={},tmp;for(var j=0,e=attr.length;j<e;j++){tmp=attr[j].split("=");_c44[tmp[0]]=tmp[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");}_c3e.attributes[i-1]=_c44;}return "";});};var _c45=dojox.html._snarfScripts=function(cont,_c46){_c46.code="";cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_c47){return _c47.replace(/<(\/?)script\b/ig,"&lt;$1Script");});function _c48(src){if(_c46.downloadRemote){src=src.replace(/&([a-z0-9#]+);/g,function(m,name){switch(name){case "amp":return "&";case "gt":return ">";case "lt":return "<";default:return name.charAt(0)=="#"?String.fromCharCode(name.substring(1)):"&"+name+";";}});dojo.xhrGet({url:src,sync:true,load:function(code){_c46.code+=code+";";},error:_c46.errBack});}};return cont.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))(?:[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?)*>([\s\S]*?)<\/script>/gi,function(_c49,_c4a,src,code){if(src){_c48(src);}else{_c46.code+=code;}return "";});};var _c4b=dojox.html.evalInGlobal=function(code,_c4c){_c4c=_c4c||dojo.doc.body;var n=_c4c.ownerDocument.createElement("script");n.type="text/javascript";_c4c.appendChild(n);n.text=code;};dojo.declare("dojox.html._ContentSetter",[dojo.html._ContentSetter],{adjustPaths:false,referencePath:".",renderStyles:false,executeScripts:false,scriptHasHooks:false,scriptHookReplacement:null,_renderStyles:function(_c4d){this._styleNodes=[];var st,att,_c4e,doc=this.node.ownerDocument;var head=doc.getElementsByTagName("head")[0];for(var i=0,e=_c4d.length;i<e;i++){_c4e=_c4d[i];att=_c4d.attributes[i];st=doc.createElement("style");st.setAttribute("type","text/css");for(var x in att){st.setAttribute(x,att[x]);}this._styleNodes.push(st);head.appendChild(st);if(st.styleSheet){st.styleSheet.cssText=_c4e;}else{st.appendChild(doc.createTextNode(_c4e));}}},empty:function(){this.inherited("empty",arguments);this._styles=[];},onBegin:function(){this.inherited("onBegin",arguments);var cont=this.content,node=this.node;var _c4f=this._styles;if(dojo.isString(cont)){if(this.adjustPaths&&this.referencePath){cont=_c35(this.referencePath,cont);}if(this.renderStyles||this.cleanContent){cont=_c3c(this.referencePath,cont,_c4f);}if(this.executeScripts){var _c50=this;var _c51={downloadRemote:true,errBack:function(e){_c50._onError.call(_c50,"Exec","Error downloading remote script in \""+_c50.id+"\"",e);}};cont=_c45(cont,_c51);this._code=_c51.code;}}this.content=cont;},onEnd:function(){var code=this._code,_c52=this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){dojo.destroy(this._styleNodes.pop());}}if(this.renderStyles&&_c52&&_c52.length){this._renderStyles(_c52);}if(this.executeScripts&&code){if(this.cleanContent){code=code.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"");}if(this.scriptHasHooks){code=code.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement);}try{_c4b(code,this.node);}catch(e){this._onError("Exec","Error eval script in "+this.id+", "+e.message,e);}}this.inherited("onEnd",arguments);},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){dojo.destroy(this._styleNodes.pop());}}delete this._styleNodes;dojo.mixin(this,dojo.getObject(this.declaredClass).prototype);}});dojox.html.set=function(node,cont,_c53){if(!_c53){return dojo.html._setNodeContent(node,cont,true);}else{var op=new dojox.html._ContentSetter(dojo.mixin(_c53,{content:cont,node:node}));return op.set();}};})();}if(!dojo._hasResource["dojox.layout.ContentPane"]){dojo._hasResource["dojox.layout.ContentPane"]=true;dojo.provide("dojox.layout.ContentPane");dojo.declare("dojox.layout.ContentPane",dijit.layout.ContentPane,{adjustPaths:false,cleanContent:false,renderStyles:false,executeScripts:true,scriptHasHooks:false,constructor:function(){this.ioArgs={};this.ioMethod=dojo.xhrGet;},onExecError:function(e){},_setContent:function(cont){var _c54=this._contentSetter;if(!(_c54&&_c54 instanceof dojox.html._ContentSetter)){_c54=this._contentSetter=new dojox.html._ContentSetter({node:this.containerNode,_onError:dojo.hitch(this,this._onError),onContentError:dojo.hitch(this,function(e){var _c55=this.onContentError(e);try{this.containerNode.innerHTML=_c55;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};this.inherited("_setContent",arguments);}});}if(!dojo._hasResource["dojox.layout.ScrollPane"]){dojo._hasResource["dojox.layout.ScrollPane"]=true;dojo.provide("dojox.layout.ScrollPane");dojo.experimental("dojox.layout.ScrollPane");dojo.declare("dojox.layout.ScrollPane",[dijit.layout.ContentPane,dijit._Templated],{_line:null,_lo:null,_offset:15,orientation:"vertical",autoHide:true,templateString:dojo.cache("dojox.layout","resources/ScrollPane.html","<div class=\"dojoxScrollWindow\" dojoAttachEvent=\"onmouseenter: _enter, onmouseleave: _leave\">\n    <div class=\"dojoxScrollWrapper\" style=\"${style}\" dojoAttachPoint=\"wrapper\" dojoAttachEvent=\"onmousemove: _calc\">\n\t<div class=\"dojoxScrollPane\" dojoAttachPoint=\"containerNode\"></div>\n    </div>\n    <div dojoAttachPoint=\"helper\" class=\"dojoxScrollHelper\"><span class=\"helperInner\">|</span></div>\n</div>\n"),resize:function(size){if(size){if(size.h){dojo.style(this.domNode,"height",size.h+"px");}if(size.w){dojo.style(this.domNode,"width",size.w+"px");}}var dir=this._dir,vert=this._vertical,val=this.containerNode[(vert?"scrollHeight":"scrollWidth")];dojo.style(this.wrapper,this._dir,this.domNode.style[this._dir]);this._lo=dojo.coords(this.wrapper,true);this._size=Math.max(0,val-this._lo[(vert?"h":"w")]);if(!this._size){this.helper.style.display="none";this.wrapper[this._scroll]=0;return;}else{this.helper.style.display="";}this._line=new dojo._Line(0-this._offset,this._size+(this._offset*2));var u=this._lo[(vert?"h":"w")],r=Math.min(1,u/val),s=u*r,c=Math.floor(u-(u*r));this._helpLine=new dojo._Line(0,c);dojo.style(this.helper,dir,Math.floor(s)+"px");},postCreate:function(){this.inherited(arguments);if(this.autoHide){this._showAnim=dojo._fade({node:this.helper,end:0.5,duration:350});this._hideAnim=dojo.fadeOut({node:this.helper,duration:750});}this._vertical=(this.orientation=="vertical");if(!this._vertical){dojo.addClass(this.containerNode,"dijitInline");this._dir="width";this._edge="left";this._scroll="scrollLeft";}else{this._dir="height";this._edge="top";this._scroll="scrollTop";}if(this._hideAnim){this._hideAnim.play();}dojo.style(this.wrapper,"overflow","hidden");},_set:function(n){if(!this._size){return;}this.wrapper[this._scroll]=Math.floor(this._line.getValue(n));dojo.style(this.helper,this._edge,Math.floor(this._helpLine.getValue(n))+"px");},_calc:function(e){if(!this._lo){this.resize();}this._set(this._vertical?((e.pageY-this._lo.y)/this._lo.h):((e.pageX-this._lo.x)/this._lo.w));},_enter:function(e){if(this._hideAnim){if(this._hideAnim.status()=="playing"){this._hideAnim.stop();}this._showAnim.play();}},_leave:function(e){if(this._hideAnim){this._hideAnim.play();}}});}if(!dojo._hasResource["dojo.fx.easing"]){dojo._hasResource["dojo.fx.easing"]=true;dojo.provide("dojo.fx.easing");dojo.getObject("fx.easing",true,dojo);dojo.fx.easing={linear:function(n){return n;},quadIn:function(n){return Math.pow(n,2);},quadOut:function(n){return n*(n-2)*-1;},quadInOut:function(n){n=n*2;if(n<1){return Math.pow(n,2)/2;}return -1*((--n)*(n-2)-1)/2;},cubicIn:function(n){return Math.pow(n,3);},cubicOut:function(n){return Math.pow(n-1,3)+1;},cubicInOut:function(n){n=n*2;if(n<1){return Math.pow(n,3)/2;}n-=2;return (Math.pow(n,3)+2)/2;},quartIn:function(n){return Math.pow(n,4);},quartOut:function(n){return -1*(Math.pow(n-1,4)-1);},quartInOut:function(n){n=n*2;if(n<1){return Math.pow(n,4)/2;}n-=2;return -1/2*(Math.pow(n,4)-2);},quintIn:function(n){return Math.pow(n,5);},quintOut:function(n){return Math.pow(n-1,5)+1;},quintInOut:function(n){n=n*2;if(n<1){return Math.pow(n,5)/2;}n-=2;return (Math.pow(n,5)+2)/2;},sineIn:function(n){return -1*Math.cos(n*(Math.PI/2))+1;},sineOut:function(n){return Math.sin(n*(Math.PI/2));},sineInOut:function(n){return -1*(Math.cos(Math.PI*n)-1)/2;},expoIn:function(n){return (n==0)?0:Math.pow(2,10*(n-1));},expoOut:function(n){return (n==1)?1:(-1*Math.pow(2,-10*n)+1);},expoInOut:function(n){if(n==0){return 0;}if(n==1){return 1;}n=n*2;if(n<1){return Math.pow(2,10*(n-1))/2;}--n;return (-1*Math.pow(2,-10*n)+2)/2;},circIn:function(n){return -1*(Math.sqrt(1-Math.pow(n,2))-1);},circOut:function(n){n=n-1;return Math.sqrt(1-Math.pow(n,2));},circInOut:function(n){n=n*2;if(n<1){return -1/2*(Math.sqrt(1-Math.pow(n,2))-1);}n-=2;return 1/2*(Math.sqrt(1-Math.pow(n,2))+1);},backIn:function(n){var s=1.70158;return Math.pow(n,2)*((s+1)*n-s);},backOut:function(n){n=n-1;var s=1.70158;return Math.pow(n,2)*((s+1)*n+s)+1;},backInOut:function(n){var s=1.70158*1.525;n=n*2;if(n<1){return (Math.pow(n,2)*((s+1)*n-s))/2;}n-=2;return (Math.pow(n,2)*((s+1)*n+s)+2)/2;},elasticIn:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;n=n-1;return -1*Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p);},elasticOut:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;return Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p)+1;},elasticInOut:function(n){if(n==0){return 0;}n=n*2;if(n==2){return 1;}var p=0.3*1.5;var s=p/4;if(n<1){n-=1;return -0.5*(Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p));}n-=1;return 0.5*(Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p))+1;},bounceIn:function(n){return (1-dojo.fx.easing.bounceOut(1-n));},bounceOut:function(n){var s=7.5625;var p=2.75;var l;if(n<(1/p)){l=s*Math.pow(n,2);}else{if(n<(2/p)){n-=(1.5/p);l=s*Math.pow(n,2)+0.75;}else{if(n<(2.5/p)){n-=(2.25/p);l=s*Math.pow(n,2)+0.9375;}else{n-=(2.625/p);l=s*Math.pow(n,2)+0.984375;}}}return l;},bounceInOut:function(n){if(n<0.5){return dojo.fx.easing.bounceIn(n*2)/2;}return (dojo.fx.easing.bounceOut(n*2-1)/2)+0.5;}};}if(!dojo._hasResource["dojox.layout.RadioGroup"]){dojo._hasResource["dojox.layout.RadioGroup"]=true;dojo.provide("dojox.layout.RadioGroup");dojo.experimental("dojox.layout.RadioGroup");dojo.declare("dojox.layout.RadioGroup",[dijit.layout.StackContainer,dijit._Templated],{duration:750,hasButtons:false,buttonClass:"dojox.layout._RadioButton",templateString:"<div class=\"dojoxRadioGroup\">"+" \t<div dojoAttachPoint=\"buttonHolder\" style=\"display:none;\">"+"\t\t<table class=\"dojoxRadioButtons\"><tbody><tr class=\"dojoxRadioButtonRow\" dojoAttachPoint=\"buttonNode\"></tr></tbody></table>"+"\t</div>"+"\t<div class=\"dojoxRadioView\" dojoAttachPoint=\"containerNode\"></div>"+"</div>",startup:function(){this.inherited(arguments);this._children=this.getChildren();this._buttons=this._children.length;this._size=dojo.coords(this.containerNode);if(this.hasButtons){dojo.style(this.buttonHolder,"display","block");}},_setupChild:function(_c56){dojo.style(_c56.domNode,"position","absolute");if(this.hasButtons){var tmp=this.buttonNode.appendChild(dojo.create("td"));var n=dojo.create("div",null,tmp),_c57=dojo.getObject(this.buttonClass),tmpw=new _c57({label:_c56.title,page:_c56},n);dojo.mixin(_c56,{_radioButton:tmpw});tmpw.startup();}_c56.domNode.style.display="none";},removeChild:function(_c58){if(this.hasButtons&&_c58._radioButton){_c58._radioButton.destroy();delete _c58._radioButton;}this.inherited(arguments);},_transition:function(_c59,_c5a){this._showChild(_c59);if(_c5a){this._hideChild(_c5a);}if(this.doLayout&&_c59.resize){_c59.resize(this._containerContentBox||this._contentBox);}},_showChild:function(page){var _c5b=this.getChildren();page.isFirstChild=(page==_c5b[0]);page.isLastChild=(page==_c5b[_c5b.length-1]);page.selected=true;page.domNode.style.display="";if(page._onShow){page._onShow();}else{if(page.onShow){page.onShow();}}},_hideChild:function(page){page.selected=false;page.domNode.style.display="none";if(page.onHide){page.onHide();}}});dojo.declare("dojox.layout.RadioGroupFade",dojox.layout.RadioGroup,{_hideChild:function(page){dojo.fadeOut({node:page.domNode,duration:this.duration,onEnd:dojo.hitch(this,"inherited",arguments,arguments)}).play();},_showChild:function(page){this.inherited(arguments);dojo.style(page.domNode,"opacity",0);dojo.fadeIn({node:page.domNode,duration:this.duration}).play();}});dojo.declare("dojox.layout.RadioGroupSlide",dojox.layout.RadioGroup,{easing:"dojo.fx.easing.backOut",zTop:99,constructor:function(){if(dojo.isString(this.easing)){this.easing=dojo.getObject(this.easing);}},_positionChild:function(page){if(!this._size){return;}var rA=true,rB=true;switch(page.slideFrom){case "bottom":rB=!rB;break;case "right":rA=!rA;rB=!rB;break;case "top":break;case "left":rA=!rA;break;default:rA=Math.round(Math.random());rB=Math.round(Math.random());break;}var prop=rA?"top":"left",val=(rB?"-":"")+(this._size[rA?"h":"w"]+20)+"px";dojo.style(page.domNode,prop,val);},_showChild:function(page){var _c5c=this.getChildren();page.isFirstChild=(page==_c5c[0]);page.isLastChild=(page==_c5c[_c5c.length-1]);page.selected=true;dojo.style(page.domNode,{zIndex:this.zTop,display:""});if(this._anim&&this._anim.status()=="playing"){this._anim.gotoPercent(100,true);}this._anim=dojo.animateProperty({node:page.domNode,properties:{left:0,top:0},duration:this.duration,easing:this.easing,onEnd:dojo.hitch(page,function(){if(this.onShow){this.onShow();}if(this._onShow){this._onShow();}}),beforeBegin:dojo.hitch(this,"_positionChild",page)});this._anim.play();},_hideChild:function(page){page.selected=false;page.domNode.style.zIndex=this.zTop-1;if(page.onHide){page.onHide();}}});dojo.declare("dojox.layout._RadioButton",[dijit._Widget,dijit._Templated,dijit._Contained],{label:"",page:null,templateString:"<div dojoAttachPoint=\"focusNode\" class=\"dojoxRadioButton\"><span dojoAttachPoint=\"titleNode\" class=\"dojoxRadioButtonLabel\">${label}</span></div>",startup:function(){this.connect(this.domNode,"onmouseenter","_onMouse");},_onMouse:function(e){this.getParent().selectChild(this.page);this._clearSelected();dojo.addClass(this.domNode,"dojoxRadioButtonSelected");},_clearSelected:function(){dojo.query(".dojoxRadioButtonSelected",this.domNode.parentNode.parentNode).removeClass("dojoxRadioButtonSelected");}});dojo.extend(dijit._Widget,{slideFrom:"random"});}if(!dojo._hasResource["dojox.testing.DocTest"]){dojo._hasResource["dojox.testing.DocTest"]=true;dojo.provide("dojox.testing.DocTest");dojo.declare("dojox.testing.DocTest",null,{errors:[],getTests:function(_c5d){var path=dojo.moduleUrl(_c5d).path;var file=path.substring(0,path.length-1)+".js";var xhr=dojo.xhrGet({url:file,handleAs:"text"});var data=dojo._getText(file);return this._getTestsFromString(data,true);},getTestsFromString:function(data){return this._getTestsFromString(data,false);},_getTestsFromString:function(data,_c5e){var trim=dojo.hitch(dojo.string,"trim");var _c5f=data.split("\n");var len=_c5f.length;var _c60=[];var test={commands:[],expectedResult:[],line:null};for(var i=0;i<len+1;i++){var l=trim(_c5f[i]||"");if((_c5e&&l.match(/^\/\/\s+>>>\s.*/))||l.match(/^\s*>>>\s.*/)){if(!test.line){test.line=i+1;}if(test.expectedResult.length>0){_c60.push({commands:test.commands,expectedResult:test.expectedResult.join("\n"),line:test.line});test={commands:[],expectedResult:[],line:i+1};}l=_c5e?trim(l).substring(2,l.length):l;l=trim(l).substring(3,l.length);test.commands.push(trim(l));}else{if((!_c5e||l.match(/^\/\/\s+.*/))&&test.commands.length&&test.expectedResult.length==0){l=_c5e?trim(l).substring(3,l.length):l;test.expectedResult.push(trim(l));}else{if(test.commands.length>0&&test.expectedResult.length){if(!_c5e||l.match(/^\/\/\s*$/)){_c60.push({commands:test.commands,expectedResult:test.expectedResult.join("\n"),line:test.line});}if(_c5e&&!l.match(/^\/\//)){_c60.push({commands:test.commands,expectedResult:test.expectedResult.join("\n"),line:test.line});}test={commands:[],expectedResult:[],line:0};}}}}return _c60;},run:function(_c61){this.errors=[];var _c62=this.getTests(_c61);if(_c62){this._run(_c62);}},_run:function(_c63){var len=_c63.length;this.tests=len;var oks=0;for(var i=0;i<len;i++){var t=_c63[i];var res=this.runTest(t.commands,t.expectedResult);var msg="Test "+(i+1)+": ";var _c64=t.commands.join(" ");_c64=(_c64.length>50?_c64.substr(0,50)+"...":_c64);if(res.success){console.info(msg+"OK: "+_c64);oks+=1;}else{this.errors.push({commands:t.commands,actual:res.actualResult,expected:t.expectedResult});console.error(msg+"Failed: "+_c64,{commands:t.commands,actualResult:res.actualResult,expectedResult:t.expectedResult});}}console.info(len+" tests ran.",oks+" Success,",this.errors.length+" Errors");},runTest:function(_c65,_c66){var ret={success:false,actualResult:null};var cmds=_c65.join("\n");ret.actualResult=eval(cmds);if((String(ret.actualResult)==_c66)||(dojo.toJson(ret.actualResult)==_c66)||((_c66.charAt(0)=="\"")&&(_c66.charAt(_c66.length-1)=="\"")&&(String(ret.actualResult)==_c66.substring(1,_c66.length-1)))){ret.success=true;}return ret;}});}if(!dojo._hasResource["pentaho.common.button"]){dojo._hasResource["pentaho.common.button"]=true;dojo.provide("pentaho.common.button");dojo.declare("pentaho.common.button",[dijit._Widget,dijit._Templated],{label:"a button",onClick:function(){this.callback();},callback:null,templateString:"<button type=\"button\" dojoAttachPoint=\"button\" tabindex=\"0\" class=\"pentaho-button\" id=\"${id}\">\n\t${label}\n</button>\n",postMixInProperties:function(){this.inherited(arguments);},postCreate:function(){this.inherited(arguments);dojo.connect(this.button,"onclick",this,this.onClick);}});}if(!dojo._hasResource["pentaho.common.SmallImageButton"]){dojo._hasResource["pentaho.common.SmallImageButton"]=true;dojo.provide("pentaho.common.SmallImageButton");dojo.declare("pentaho.common.SmallImageButton",[dijit._Widget,dijit._Templated],{title:"",baseClass:"",callback:function(){},disabled:false,_imageSrc:dojo.moduleUrl("pentaho.common","images/spacer.gif"),onClick:function(_c67){if(this.callback&&!this.get("disabled")){this.callback(_c67);}},templateString:"<img dojoAttachPoint=\"buttonImg\" src=\"${_imageSrc}\" title=\"\" class=\"pentaho-addbutton\"/>\n",mouseOver:function(){if(!this.disabled){dojo.addClass(this.buttonImg,"pentaho-imagebutton-hover");}},mouseOut:function(){if(!this.disabled){dojo.removeClass(this.buttonImg,"pentaho-imagebutton-hover");}},set:function(attr,_c68){this.inherited(arguments);if(attr=="disabled"){this.disabled=_c68;dojo.toggleClass(this.buttonImg,"pentaho-imagebutton-disabled",this.disabled);if(this.disabled){this.buttonImg.title="";}else{this.buttonImg.title=this.title;}}},postMixInProperties:function(){this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.buttonImg.className=this.baseClass;dojo.toggleClass(this.buttonImg,"pentaho-imagebutton-disabled",this.disabled);dojo.connect(this.buttonImg,"onclick",this,this.onClick);dojo.connect(this.buttonImg,"onmouseover",this,this.mouseOver);dojo.connect(this.buttonImg,"onmouseout",this,this.mouseOut);}});}if(!dojo._hasResource["pentaho.common.DropDownButton"]){dojo._hasResource["pentaho.common.DropDownButton"]=true;dojo.provide("pentaho.common.DropDownButton");dojo.declare("pentaho.common.DropDownButton",dijit.form.DropDownButton,{baseClass:"dijitDropDownButton",templateString:dojo.cache("pentaho.common","DropDownButton.html","<span class=\"dijit dijitReset dijitInline\">\n    <span class='dijitReset dijitInline ' dojoAttachEvent=\"ondijitclick:_onButtonClick\" dojoAttachPoint=\"_buttonNode\">\n        <span class=\"dijitReset dijitStretch dijitButtonContents pentaho-listbox\"\n\t\t\tdojoAttachPoint=\"focusNode,titleNode,_arrowWrapperNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\">\n            <table cellpadding=\"0\" cellspacing=\"0\">\n                <tr>\n                    <td>\n                        <span class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\">\n                        </span>\n                    </td>\n                    <td>\n                        <span class=\"dijitReset dijitInline dijitButtonText\"\n                            dojoAttachPoint=\"containerNode,_popupStateNode\"\n                            id=\"${id}_label\">\n                        </span>\n                    </td>\n                    <td>\n                        <div class=\"pentaho-dropdownbutton-outer\">\n                            <div class=\"pentaho-dropdownbutton-inner\">\n                            </div>\n                        </div>\n                        <span class=\"dijitReset dijitInline dijitArrowButtonChar\" style=\"display:none\">&#9660;</span>\n                        <span class=\"dijitReset dijitInline dijitArrowButtonInner\" style=\"display:none\"></span>\n                    </td>\n                </tr>\n            </table>\n        </span>\n    </span>\n    <input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" dojoAttachPoint=\"valueNode\"/>\n</span>\n")});}if(!dojo._hasResource["pentaho.common.Calendar"]){dojo._hasResource["pentaho.common.Calendar"]=true;dojo.provide("pentaho.common.Calendar");dojo.declare("pentaho.common.Calendar",[dijit.Calendar],{templateString:dojo.cache("pentaho.common","Calendar.html","<div class=\"pentaho-rounded-panel pentaho-tooltip-background pentaho-padding-sm pentaho-shadow\" style=\"width:178px;text-align:center\">\n    <div class=\"panel-content\" style=\"width:100%\">\n        <div class=\"pentaho-padding-sm\">\n            <center>\n                <table cellspacing=\"0\" cellpadding=\"0\" role=\"grid\" dojoAttachEvent=\"onkeypress: _onKeyPress\" aria-labelledby=\"${id}_year\" >\n                    <thead>\n                        <tr class=\"\" valign=\"top\">\n                            <th class='dijitReset' dojoAttachPoint=\"decrementMonth\">\n                                <div dojoAttachPoint=\"decreaseArrowNode\" dojoType=\"pentaho.common.SmallImageButton\" baseClass=\"pentaho-pagebackbutton\">\n                                </div>\n                            </th>\n                            <th class='dijitReset' colspan=\"5\">\n                                <div dojoType=\"pentaho.common.DropDownButton\" dojoAttachPoint=\"monthDropDownButton\"\n                                    id=\"${id}_mddb\" tabIndex=\"-1\">\n                                </div>\n                            </th>\n                            <th class='dijitReset' dojoAttachPoint=\"incrementMonth\">\n                                <div dojoAttachPoint=\"increaseArrowNode\" dojoType=\"pentaho.common.SmallImageButton\" baseClass=\"pentaho-pagenextbutton\">\n                                </div>                            \n                            </th>\n                        </tr>\n                        <tr>\n                            <th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\"><span class=\"dijitCalendarDayLabel\"></span></th>\n                        </tr>\n                    </thead>\n                    <tbody class=\"\" dojoAttachEvent=\"onclick: _onDayClick, onmouseover: _onDayMouseOver, onmouseout: _onDayMouseOut, onmousedown: _onDayMouseDown, onmouseup: _onDayMouseUp\" class=\"dijitReset dijitCalendarBodyContainer\">\n                        <tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">\n                            <td class=\"dijitReset dijitCalendarDateTemplate\" role=\"gridcell\"><span class=\"dijitCalendarDateLabel\"></span></td>\n                        </tr>\n                    </tbody>\n                    <tfoot class=\"dijitReset\">\n                        <tr>\n                            <td class='dijitReset' valign=\"middle\" colspan=\"7\" style=\"vertical-align:middle\">\n                                <center>\n                                    <table>\n                                        <tr>\n                                            <td>\n                                                <div dojoAttachPoint=\"previousYearBtn\" dojoType=\"pentaho.common.SmallImageButton\" baseClass=\"pentaho-pagebackbutton\">\n                                                </div>\n                                            </td>\n                                            <td>\n                                                <span dojoAttachPoint=\"currentYearLabelNode\" class=\"label\" id=\"${id}_year\"></span>\n                                            </td>\n                                            <td>\n                                                <div dojoAttachPoint=\"nextYearBtn\" dojoType=\"pentaho.common.SmallImageButton\" baseClass=\"pentaho-pagenextbutton\">\n                                                </div>\n                                            </td>\n                                        </tr>\n                                    </table>\n                                    <span dojoAttachPoint=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" style=\"display:none\"></span>\n                                    <span dojoAttachPoint=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" style=\"display:none\"></span>\n                                </center>\n                            </td>\n                        </tr>\n                    </tfoot>\n                </table>\n            </center>\n        </div>\n    </div>\n</div>\n"),buildRendering:function(){this.inherited(arguments);this.previousYearBtn.callback=dojo.hitch(this,this._prevYearClick);this.nextYearBtn.callback=dojo.hitch(this,this._nextYearClick);this.monthDropDownButton.dropDown.destroy();this.monthDropDownButton.dropDown=new pentho.common.Calendar._MonthDropDown({id:this.id+"_mdd",onChange:dojo.hitch(this,"_onMonthSelect")});},_prevYearClick:function(){this._adjustDisplay("year",-1);},_nextYearClick:function(){this._adjustDisplay("year",1);},_populateGrid:function(){this.inherited(arguments);dojo.query(".dijitCalendarDateLabel",this.domNode).forEach(function(cell){dojo.addClass(cell,"label");},this);dojo.query(".dijitCalendarPreviousMonth",this.domNode).forEach(function(cell){dojo.addClass(cell,"pentaho-light-text");},this);dojo.query(".dijitCalendarNextMonth",this.domNode).forEach(function(cell){dojo.addClass(cell,"pentaho-light-text");},this);dojo.query(".dijitCalendarCurrentMonth",this.domNode).forEach(function(cell){dojo.addClass(cell,"pentaho-listitem");},this);dojo.query(".dijitCalendarCurrentDate",this.domNode).forEach(function(cell){dojo.removeClass(cell,"pentaho-listitem");dojo.addClass(cell,"panel-content");},this);dojo.query(".dijitCalendarSelectedDate",this.domNode).forEach(function(cell){dojo.addClass(cell,"pentaho-listitem-selected");},this);},_onDayMouseOver:function(evt){var node=dojo.hasClass(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&(node.dijitDateValue||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){dojo.addClass(node,"pentaho-listitem-hover");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}var cls="pentaho-listitem-hover";if(dojo.hasClass(this._currentNode,"dijitCalendarActiveDate")){cls+=" pentaho-listitem-hover";}dojo.removeClass(this._currentNode,cls);this._currentNode=null;},_onDayMouseUp:function(evt){this.inherited(arguments);var node=evt.target.parentNode;if(node&&node.dijitDateValue){dojo.addClass(node,"pentaho-listitem-selected");}},_onDayClick:function(evt){this.inherited(arguments);dojo.stopEvent(evt);for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!dojo.hasClass(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);dojo.addClass(node,"pentaho-listitem-selected");}}});dojo.declare("pentho.common.Calendar._MonthDropDown",[dijit._Widget,dijit._Templated],{months:[],templateString:"<div class='pentaho-listbox' "+"dojoAttachEvent='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(_c69){this.domNode.innerHTML=dojo.map(_c69,function(_c6a,idx){return _c6a?"<div class='pentaho-listitem' month='"+idx+"'>"+_c6a+"</div>":"";}).join("");},_onClick:function(evt){this.onChange(dojo.attr(evt.target,"month"));},onChange:function(_c6b){},_onMenuHover:function(evt){dojo.toggleClass(evt.target,"pentaho-listitem-hover",evt.type=="mouseover");}});}if(!dojo._hasResource["pentaho.common.CheckedMenuItem"]){dojo._hasResource["pentaho.common.CheckedMenuItem"]=true;dojo.provide("pentaho.common.CheckedMenuItem");dojo.declare("pentaho.common.CheckedMenuItem",dijit.CheckedMenuItem,{templateString:dojo.cache("pentaho.common","CheckedMenuItem.html","<tr class=\"dijitReset pentaho-menuitem\" dojoAttachPoint=\"focusNode\" role=\"menuitemcheckbox\" tabIndex=\"-1\"\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"pentaho-checkmenuitem\" dojoAttachPoint=\"iconNode\"/>\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset pentaho-menuitem-label\" colspan=\"2\" dojoAttachPoint=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&nbsp;</td>\n</tr>\n"),_setCheckedAttr:function(_c6c){dojo.toggleClass(this.iconNode,"menuitem-checked",_c6c);dijit.setWaiState(this.domNode,"checked",_c6c);this._set("checked",_c6c);},_setSelected:function(_c6d){if(!this.disabled){dojo.toggleClass(this.domNode,"pentaho-menuitem-hover",_c6d);}}});}if(!dojo._hasResource["pentaho.common.Messages"]){dojo._hasResource["pentaho.common.Messages"]=true;dojo.provide("pentaho.common.Messages");dojo.declare("pentaho.common.Messages",null,{});pentaho.common.Messages.init=function(){if(pentaho.common.Messages.messageBundle===undefined){pentaho.common.Messages.messageBundle={};}};pentaho.common.Messages.addBundle=function(_c6e,_c6f){dojo["requireLocalization"](_c6e,_c6f,"ROOT","ROOT");pentaho.common.Messages.messageBundle[_c6e]=dojo.i18n.getLocalization(_c6e,_c6f);};pentaho.common.Messages.getBundle=function(name){return pentaho.common.Messages.messageBundle[name];};pentaho.common.Messages.entityDecoder=document.createElement("textarea");pentaho.common.Messages.getString=function(key,_c70){var b,_c71,msg=key;for(b in pentaho.common.Messages.messageBundle){if(pentaho.common.Messages.messageBundle.hasOwnProperty(b)){_c71=pentaho.common.Messages.messageBundle[b];if(_c71.hasOwnProperty(key)){msg=_c71[key];if(undefined!=_c70){var subs={};if(dojo.isString(_c70)){subs["0"]=_c70;}else{if(dojo.isArray(_c70)){for(var sNo=0;sNo<_c70.length;sNo++){subs[""+sNo]=_c70[sNo];}}else{if(dojo.isObject(_c70)){subs=_c70;}}}if(dojo.string.substituteParams){msg=dojo.string.substituteParams(msg,subs);}else{if(dojo.replace){msg=dojo.replace(msg,subs);}}}break;}}}return msg;};var cnt=0;pentaho.common.Messages.setElementText=function(_c72,_c73){var _c74;if(typeof _c72=="string"){_c74=document.getElementById(_c72);}else{_c74=_c72;}if(_c74){_c74.innerHTML=pentaho.common.Messages.getString(_c73);}};pentaho.common.Messages.addUrlBundle=function(_c75,url,_c76){if(!_c76&&pentaho.common.Messages.messageBundle.hasOwnProperty(_c75)){return;}var _c77=dojo.xhrGet({url:url,handleAs:"json",sync:true});_c77.then(function(data){pentaho.common.Messages.messageBundle[_c75]=data;},function(_c78){if(typeof (console)!="undefined"){console.log("error loading message bundle at:"+url);}});};pentaho.common.Messages.init();pentaho.common.Messages.addUrlBundle("pentaho.common",CONTEXT_PATH+"i18n?plugin=common-ui&name=resources/web/dojo/pentaho/common/nls/messages");}if(!dojo._hasResource["pentaho.common.Dialog"]){dojo._hasResource["pentaho.common.Dialog"]=true;dojo.provide("pentaho.common.Dialog");dojo.declare("pentaho.common.Dialog",[dijit._Widget,dijit._Templated],{popup:null,title:"",widgetsInTemplate:true,getLocaleString:pentaho.common.Messages.getString,callbacks:[],shown:false,buttonsCreated:false,buttonPanel:null,hasTitleBar:true,hasBorder:true,hasCloseIcon:false,closeIcon:undefined,_onCancelCallback:undefined,setLocalizationLookupFunction:function(f){this.getLocaleString=f;this._localize();},buttonClick:function(idx){if(this.callbacks[idx]){this.callbacks[idx]();}},buttons:[],_localize:function(){if(this.getLocaleString){for(var i=0;i<this.buttons.length;i++){var _c79=dojo.query("button"+i,this.popup.domNode);this.buttons[i]=this.getLocaleString(this.buttons[i]);if(_c79){_c79.innerHTML=this.getLocaleString();}}if(this.hasCloseIcon){dojo.attr(this.closeIcon.domNode,"title",this.getLocaleString("CloseIcon_title"));}}},templateString:"<div></div>",postMixInProperties:function(){this.inherited(arguments);},_createButtonPanel:function(){this.buttonPanel=dojo.create("TABLE");dojo.style(this.buttonPanel,"width","100%");dojo.place(this.buttonPanel,this.popup.domNode);dojo.addClass(this.buttonPanel,"button-panel");},_createButtons:function(){if(this.buttonPanel.rows.length>0){this.buttonPanel.deleteRow(-1);}var row=this.buttonPanel.insertRow(-1);var cell=row.insertCell(-1);dojo.style(cell,"align","right");dojo.style(cell,"width","100%");for(var j=0;j<this.buttons.length;j++){cell=row.insertCell(-1);dojo.style(cell,"align","right");var btn=document.createElement("BUTTON");dojo.addClass(btn,"pentaho-button");dojo.attr(btn,"id","button"+j);btn.innerHTML=this.buttons[j];cell.appendChild(btn);btn.onclick=dojo.hitch(this,this.buttonClick,j);}},postCreate:function(){if(this.templatePath||this.templateString!="<div></div>"){this.popup.attr("content",this.domNode);}this.inherited(arguments);if(!this.hasTitleBar){dojo.addClass(dojo.query(".dijitDialogTitleBar",this.popup.domNode)[0],"hidden");}if(this.hasBorder){dojo.addClass(this.popup.domNode,"pentaho-dialog");}if(this.hasCloseIcon){this.closeIcon=new pentaho.common.SmallImageButton({"baseClass":"pentaho-closebutton"});dojo.addClass(this.closeIcon.domNode,"pentahoDialogCloseIcon");dojo.place(this.closeIcon.domNode,dojo.query(".dijitDialogTitleBar",this.popup.domNode)[0]);this.closeIcon.callback=dojo.hitch(this,this.onCancel);}dojo.addClass(dojo.query(".dijitDialogTitleBar",this.popup.domNode)[0],"Caption");dojo.connect(this.domNode,"onKeyPress",this,this.keyUp);dojo.connect(this.popup.domNode,"onKeyPress",this,this.keyUp);dojo.connect(this.domNode,"onkeyup",this,this.keyup);this.onKeyUp=dojo.hitch(this,this.keyup);dojo.connect(this.domNode,"onKeyUp",this,this.keyup);dojo.connect(this.popup,"onKeyUp",this,this.keyup);dojo.connect(this.popup.domNode,"onKeyUp",this,this.keyup);this.popup.onCancel=dojo.hitch(this,function(){});this.popup.onExecute=dojo.hitch(this,this.okClick);this._localize();dojo.connect(this.popup,"onHide",dojo.hitch(this,"onHide"));},keyup:function(_c7a){dojo.stopEvent(_c7a);if(_c7a.keyCode==dojo.keys.ENTER){if(this.execute){this.execute();}}if(_c7a.keyCode==dojo.keys.ESCAPE){if(this.onCancel){this.onCancel();}}},setTitle:function(_c7b){this.title=_c7b;this.popup.set("title",this.title);},show:function(){this.domNode.style.display="";this.popup.set("title",this.title);dojo.style(this.popup.domNode,"display","none");if(this.templateBased){if(!this.shown){this.width=""+dojo.style(this.domNode,"width")+"px";if(dojo.style(this.domNode,"display")==="block"){this.width=(dojo.style(this.domNode,"width")+dojo.style(this.domNode,"paddingLeft")+dojo.style(this.domNode,"paddingRight")+dojo.style(this.domNode,"borderLeftWidth")+dojo.style(this.domNode,"borderRightWidth"))+"px";}dojo.style(this.popup.domNode,"width",this.width);dojo.style(dojo.query(".dijitDialogPaneContent",this.popup.domNode),"width",this.width);dojo.style(dojo.query(".dijitDialogPaneContent",this.domNode),"width",this.width);}}else{if(!this.shown){dojo.style(this.domNode,"width",this.width);dojo.style(this.popup.domNode,"width",this.width);dojo.style(dojo.query(".dijitDialogPaneContent",this.popup.domNode),"width",this.width);dojo.style(dojo.query(".dijitDialogPaneContent",this.domNode),"width",this.width);dojo.style(this.domNode,"height",this.height);dojo.style(this.popup.domNode,"height",this.height);dojo.style(dojo.query(".dijitDialogPaneContent",this.popup.domNode),"height",this.height);dojo.style(dojo.query(".dijitDialogPaneContent",this.domNode),"height",this.height);}}if(!this.shown){this._createButtonPanel();}this._createButtons();this.popup.show();this.shown=true;},hide:function(){this.popup.hide();},destroy:function(){this.popup.destroy();},destroyRecursive:function(){this.popup.destroyRecursive();dojo.empty(this.domNode);},buildRendering:function(){if(this.templatePath){this.templateString=null;}this.inherited(arguments);if(this.templateString=="<div></div>"){this.popup.buildRendering();}},_attachTemplateNodes:function(_c7c,_c7d){this.inherited(arguments);},_fillContent:function(_c7e){if(!this.templatePath&&this.templateString=="<div></div>"){this.templateBased=false;this.width=""+dojo.style(_c7e,"width")+"px";this.height=""+dojo.style(_c7e,"height")+"px";if(dojo.hasClass(_c7e,"hidden")){dojo.removeClass(_c7e,"hidden");}this._attachTemplateNodes(_c7e);this.source=_c7e;this.popup=new dijit.Dialog({title:this.title,content:this.source.innerHTML});dojo.addClass(this.popup.domNode,"pentaho-dialog");dojo.removeClass(this.popup.domNode,"hidden");dojo.addClass(dojo.query(".dijitDialogTitleBar",this.popup.domNode)[0],"Caption");}else{this.templateBased=true;this.popup=new dijit.Dialog();}this.inherited(arguments);},registerOnCancelCallback:function(f){this._onCancelCallback=f;},onCancel:function(){if(this._onCancelCallback){try{this._onCancelCallback();}catch(e){console.warn("error in onCancelCallback: "+e);}}this.hide();},onHide:function(){}});}if(!dojo._hasResource["pentaho.common.CustomColorPicker"]){dojo._hasResource["pentaho.common.CustomColorPicker"]=true;dojo.provide("pentaho.common.CustomColorPicker");(function(d){dojo.declare("pentaho.common.CustomColorPicker",dojox.widget.ColorPicker,{showPreview:true,templateString:dojo.cache("pentaho.common","CustomColorPicker/CustomColorPicker.html","<table dojoAttachEvent=\"onkeypress: _handleKey\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n\t<tr>\n        <td>\n            <table>\n                <tr>\n\t\t<td valign=\"top\" class=\"dojoxColorPickerRightPad\">\n\t\t\t<div class=\"dojoxColorPickerBox\">\n\t\t\t\t<!-- Forcing ABS in style attr due to dojo DND issue with not picking it up form the class. -->\n\t\t\t\t<img role=\"status\" title=\"${saturationPickerTitle}\" alt=\"${saturationPickerTitle}\" class=\"dojoxColorPickerPoint\" src=\"${_pickerPointer}\" tabIndex=\"0\" dojoAttachPoint=\"cursorNode\" style=\"position: absolute; top: 0px; left: 0px;\">\n\t\t\t\t<img role=\"presentation\" alt=\"\" dojoAttachPoint=\"colorUnderlay\" dojoAttachEvent=\"onclick: _setPoint, onmousedown: _stopDrag\" class=\"dojoxColorPickerUnderlay\" src=\"${_underlay}\" ondragstart=\"return false\">\n\t\t\t</div>\n\t\t</td>\n\t\t<td valign=\"top\" class=\"dojoxColorPickerRightPad\">\n\t\t\t<div class=\"dojoxHuePicker\">\n\t\t\t\t<!-- Forcing ABS in style attr due to dojo DND issue with not picking it up form the class. -->\n\t\t\t\t<img role=\"status\" dojoAttachPoint=\"hueCursorNode\" tabIndex=\"0\" class=\"dojoxHuePickerPoint\" title=\"${huePickerTitle}\" alt=\"${huePickerTitle}\" src=\"${_huePickerPointer}\" style=\"position: absolute; top: 0px; left: 0px;\">\n\t\t\t\t<div class=\"dojoxHuePickerUnderlay\" dojoAttachPoint=\"hueNode\">\n\t\t\t\t    <img role=\"presentation\" alt=\"\" dojoAttachEvent=\"onclick: _setHuePoint, onmousedown: _stopDrag\" src=\"${_hueUnderlay}\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</td>\n                </tr>\n            </table>\n        </td>\n    </tr>\n    <tr>\n\t\t<td valign=\"top\">\n\t\t\t<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width:100%\">\n\t\t\t\t<tr dojoAttachPoint=\"previewNodes\">\n\t\t\t\t\t<td valign=\"top\" class=\"dojoxColorPickerPreviewContainer\">\n\t\t\t\t\t\t<table cellpadding=\"0\" cellspacing=\"0\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td valign=\"top\" class=\"dojoxColorPickerRightPad\">\n\t\t\t\t\t\t\t\t\t<div dojoAttachPoint=\"previewNode\" class=\"dojoxColorPickerPreview\"></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td valign=\"top\">\n\t\t\t\t\t\t\t\t\t<div dojoAttachPoint=\"safePreviewNode\" class=\"dojoxColorPickerWebSafePreview\"></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td valign=\"top\">\n\t\t\t\t\t\t<table class=\"dojoxColorPickerOptional\" cellpadding=\"0\" cellspacing=\"0\" style=\"width:100%\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div class=\"dijitInline dojoxColorPickerRgb\" dojoAttachPoint=\"rgbNode\" style=\"width:100%\">\n\t\t\t\t\t\t\t\t\t\t<table cellpadding=\"1\" cellspacing=\"1\" style=\"width:100%\">\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_r\">${redLabel}</label></td><td><input id=\"${_uId}_r\" dojoAttachPoint=\"Rval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"></td>\n\t\t\t\t\t\t\t\t\t\t<td><label for=\"${_uId}_g\">${greenLabel}</label></td><td><input id=\"${_uId}_g\" dojoAttachPoint=\"Gval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"></td>\n\t\t\t\t\t\t\t\t\t\t<td><label for=\"${_uId}_b\">${blueLabel}</label></td><td><input id=\"${_uId}_b\" dojoAttachPoint=\"Bval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"></td></tr>\n\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr dojoAttachPoint=\"hsvRow\">\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div class=\"dijitInline dojoxColorPickerHsv\" dojoAttachPoint=\"hsvNode\">\n\t\t\t\t\t\t\t\t\t\t<table cellpadding=\"1\" cellspacing=\"1\" style=\"width:100%\">\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_h\">${hueLabel}</label></td><td><input id=\"${_uId}_h\" dojoAttachPoint=\"Hval\"size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"> ${degLabel}</td>\n\t\t\t\t\t\t\t\t\t\t<td><label for=\"${_uId}_s\">${saturationLabel}</label></td><td><input id=\"${_uId}_s\" dojoAttachPoint=\"Sval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"> ${percentSign}</td>\n\t\t\t\t\t\t\t\t\t\t<td><label for=\"${_uId}_v\">${valueLabel}</label></td><td><input id=\"${_uId}_v\" dojoAttachPoint=\"Vval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"> ${percentSign}</td></tr>\n\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div class=\"dojoxColorPickerHex\" dojoAttachPoint=\"hexNode\" aria-live=\"polite\">\t\n\t\t\t\t\t\t\t\t\t\t<label for=\"${_uId}_hex\">&nbsp;${hexLabel}&nbsp;</label><input id=\"${_uId}_hex\" dojoAttachPoint=\"hexCode, focusNode, valueNode\" size=\"6\" class=\"dojoxColorPickerHexCode\" dojoAttachEvent=\"onchange: _colorInputChange\">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</td>\n\t</tr>\n</table>\n\n"),postCreate:function(){this.inherited(arguments);if(!this.showPreview){this.previewNode.style.visibility="hidden";}if(!this.showHsv){dojo.style(this.hsvRow,"display","none");}if(!this.showPreview&&!this.webSafe){if(!this.showPreview){dojo.style(this.previewNodes,"display","none");}}},_setTimer:function(_c7f){if(!dojo.hasClass(_c7f.node,"dojoxHuePickerPoint")&&!dojo.hasClass(_c7f.node,"dojoxColorPickerPoint")){return;}this.inherited(arguments);},_clearTimer:function(_c80){if(!dojo.hasClass(_c80.node,"dojoxHuePickerPoint")&&!dojo.hasClass(_c80.node,"dojoxColorPickerPoint")){return;}this.inherited(arguments);},_setPoint:function(evt){var _c81=this.PICKER_SAT_SELECTOR_H/2;var _c82=this.PICKER_SAT_SELECTOR_W/2;var root=dojo.position(this.colorUnderlay,true);var _c83=evt.pageY-root.y-_c81;var _c84=evt.pageX-root.x-_c82;if(evt){dijit.focus(evt.target);}if(this.animatePoint){d.fx.slideTo({node:this.cursorNode,duration:this.slideDuration,top:_c83,left:_c84,onEnd:d.hitch(this,function(){this._updateColor(true);dijit.focus(this.cursorNode);})}).play();}else{d.style(this.cursorNode,{left:_c84+"px",top:_c83+"px"});this._updateColor(false);}},_setHuePoint:function(evt){var _c85=(this.PICKER_HUE_SELECTOR_H/2);var root=dojo.position(this.colorUnderlay,true);var ypos=evt.pageY-root.y-_c85;if(this.animatePoint){d.fx.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:ypos,left:0,onEnd:d.hitch(this,function(){this._updateColor(true);dijit.focus(this.hueCursorNode);})}).play();}else{d.style(this.hueCursorNode,"top",ypos+"px");this._updateColor(false);}}});})(dojo);}if(!dojo._hasResource["pentaho.common.TabSet"]){dojo._hasResource["pentaho.common.TabSet"]=true;dojo.provide("pentaho.common.TabSet");dojo.declare("pentaho.common.TabSet",[dijit._Widget,dijit._Templated],{templateString:"<div dojoAttachPoint=\"tabSetDiv\" style=\"margin-right: 0px\"></div>",tabs:[],stackContainerId:null,setTabs:function(tabs){if(this.tabSetDiv.childNodes.length>0){return;}this.tabs=tabs;var html="";dojo.addClass(this.tabSetDiv,"pentaho-tabBar");for(var idx=0;idx<this.tabs.length;idx++){var div=dojo.create("div",{},this.tabSetDiv);dojo.attr(div,"tabId",this.tabs[idx].id);this.tabs[idx].element=div;dojo.addClass(div,"pentaho-tabWidget");if(idx==0){dojo.addClass(div,"pentaho-tabWidget-selected");}var span=dojo.create("span",{},div);dojo.addClass(span,"pentaho-tabWidgetLabel",div);dojo.attr(span,"tabId",this.tabs[idx].id);span.innerHTML=this.tabs[idx].title;dojo.connect(div,"onclick",this,this.tabClicked);}},tabClicked:function(_c86){var _c87=dojo.attr(_c86.target,"tabId");this.setSelectedTab(_c87);},setSelectedTab:function(_c88){for(var idx=0;idx<this.tabs.length;idx++){if(this.tabs[idx].id==_c88){this.setSeletedTabIdx(idx);}}},setSeletedTabIdx:function(_c89){var _c8a=this.tabs[_c89].id;for(var idx=0;idx<this.tabs.length;idx++){if(_c89==idx){dojo.addClass(this.tabs[idx].element,"pentaho-tabWidget-selected");}else{dojo.removeClass(this.tabs[idx].element,"pentaho-tabWidget-selected");}}if(this.tabs[_c89].beforeCallback){this.tabs[_c89].beforeCallback(this.tabs[_c89]);}if(this.stackContainerId){dijit.byId(this.stackContainerId).selectChild(_c8a,false);}if(this.tabs[_c89].afterCallback){this.tabs[_c89].afterCallback(this.tabs[_c89]);}}});}if(!dojo._hasResource["pentaho.common.ComboColorPicker"]){dojo._hasResource["pentaho.common.ComboColorPicker"]=true;dojo.provide("pentaho.common.ComboColorPicker");dojo.declare("pentaho.common.ComboColorPicker",[dijit._Widget,dijit._Templated],{widgetsInTemplate:true,hasTitleBar:false,onColorChange:null,closeCallback:null,setLocalizationLookupFunction:function(f){this.getLocaleString=f;this._localize();},_localize:function(){this.inherited(arguments);this.currentLbl.innerHTML=this.getLocaleString("currentColor_content");this.inUseLbl.innerHTML=this.getLocaleString("inUseColors_content");this.tabset.setTabs([{id:"palettetab",title:this.getLocaleString("Palette_txt"),afterCallback:dojo.hitch(this,"showTab","palettetab")},{id:"customtab",title:this.getLocaleString("Custom_txt"),afterCallback:dojo.hitch(this,"showTab","customtab")}]);},showTab:function(id){if(id=="palettetab"){dojo.addClass(this.customtab,"hidden");dojo.removeClass(this.palettetab,"hidden");}else{dojo.addClass(this.palettetab,"hidden");dojo.removeClass(this.customtab,"hidden");}},show:function(){dojo.removeClass(this.topframe,"hidden");},hide:function(){dojo.addClass(this.topframe,"hidden");},templateString:"<div dojoAttachPoint=\"topframe\" class=\"pentaho-rounded-panel pentaho-tooltip-background pentaho-padding-sm pentaho-shadow\" style=\"width:234px;\">\n    <table style=\"width:100%;heightx:270px\" border=\"0\">\n        <tr>\n            <td style=\"width:100%;\">\n            <td>\n            <td style=\"width:16px; text-align: right\">\n                <div dojoAttachPoint=\"closeBtn\" class=\"cursorPointer closeIcon\" onmouseover=\"dojo.addClass(this,'closeIconHover')\" onmouseout=\"dojo.removeClass(this,'closeIconHover')\"/>\n            <td>\n        </tr>\n    </table>\n    <div class=\"dialog-content pentaho-padding-sm\" style=\"heightx:400px\">\n        <table style=\"width:100%;heightx:270px\" border=\"0\">\n            <tr>\n                <td class=\"label\" dojoAttachPoint=\"currentLbl\" style=\"width:50%\">\n                    Current\n                </td>\n                <td style=\"heightx:15px; width:50%\">\n                    <div class=\"colorboxOuter\" style=\"width:100%\">\n                        <div dojoAttachPoint=\"currentColor\" class=\"colorbox\" stylex=\"width:100%\" style=\"background-color:none\">&nbsp;</div>\n                    </div>\n                </td>\n            </tr>\n        </table>\n        <div dojoAttachPoint=\"tabset\" dojoType=\"pentaho.common.TabSet\" style=\"width:100%;height:23px;display:block\">\n        </div> \n        <div dojoAttachPoint=\"colorpickertabs\" dojoTypex=\"dijit.layout.StackContainer\" class=\"tabpanel\" isLayoutContainer=\"true\" tabStrip=\"true\" style=\"padding: 0px; height:230px; width: 222px; display:block; border: 1px solid #444444\">\n            <div dojoAttachPoint=\"palettetab\" dojoTypex=\"dijit.layout.ContentPane\" selected=\"true\" style=\"heightx: 210px; padding: 0px; overflow:hidden;\" class=\"palettetab\">\n                <div style=\"height:218px; width:218px;\">\n                    <table style=\"width:100%;height:100%\">\n                        <tr>    \n                            <td style=\"text-align:center\">\n                                <div dojoAttachPoint=\"palette\" dojoType=\"dijit.ColorPalette\">\n                                </div>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n            <div dojoAttachPoint=\"customtab\" dojoTypex=\"dijit.layout.ContentPane\" selected=\"false\" style=\"height: 230px; padding: 0px; overflow:hidden;\" class=\"hidden\">\n                <div style=\"height:230px; width:180px; padding: 4px 20px; position: absolute; left: 15px\">\n                    <div dojoType=\"pentaho.common.CustomColorPicker\" dojoAttachPoint=\"colorPicker\" showPreview=\"false\" showHsv=\"false\" webSafe=\"false\" style=\"height:220px\">\n                    </div>\n                </div>\n            </div>\n        </div>\n        <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"padding:0px\">\n            <tr>\n                <td style=\"padding-top: 4px\">\n                    <span class=\"label\" dojoAttachPoint=\"inUseLbl\">In Use</span>\n                </td>\n            </tr>\n            <tr>\n                <td style=\"vertical-align: top; heightx:20px; padding-left: 2px\">\n                    <table dojoAttachPoint=\"colorTable\" class=\"usedColorTable\" cellspacing=\"2\">\n                    </table>\n                </td>\n            </tr>\n        </table>\n    </div>\n</div>    \n",usedColors:[],setColor:function(_c8b){this._setColor(_c8b);},_setColor:function(_c8c){dojo.style(this.currentColor,"backgroundColor",_c8c);this.palette._setValueAttr(_c8c,false);this.colorPicker.setColor(_c8c,false);},_colorChange:function(_c8d){this._setColor(_c8d);if(this.onColorChange){this.onColorChange(_c8d);}},colorPaletteChange:function(_c8e){this.colorPicker.setColor(_c8e,false);dojo.style(dis.currentColor,"backgroundColor",_c8e);},setUsedColors:function(_c8f){this.usedColors=_c8f;var _c90=this.colorTable;while(_c90.rows.length>0){_c90.deleteRow(0);}var row=null;for(var idx=0;idx<_c8f.length;idx++){var _c91=_c8f[idx];if(row==null){row=_c90.insertRow(-1);}var cell=row.insertCell(-1);var div=document.createElement("DIV");div.className="usedColorTableDiv";cell.className="usedColorTableCell";dojo.style(div,"backgroundColor",""+_c91);var id="usedcolor"+idx;if(_c91.indexOf("rgb")==0){_c91=eval("this."+_c91);}if(_c91[0]!="#"){var _c92=dojo.Color.named[_c91];if(_c92){_c91=dojox.color.fromArray(_c92).toHex();}}dojo.attr(div,"id",id);dojo.attr(div,"color",""+_c91);dojo.connect(cell,"onclick",this,"usedColorClick");cell.appendChild(div);if((idx%10)==9){row=null;}}},usedColorClick:function(_c93){var idx=parseInt(_c93.target.id.substr("usedcolor".length));this._colorChange(this.usedColors[idx],false);},closeRequest:function(){if(this.closeCallback){this.closeCallback();}},postCreate:function(){this.inherited(arguments);this.colorPicker.animatePoint=false;pentaho.common.Messages.addUrlBundle("pentaho.common",CONTEXT_PATH+"i18n?plugin=common-ui&name=resources/web/dojo/pentaho/common/nls/messages");dojo.connect(this.palette,"onChange",this,"_colorChange");dojo.connect(this.colorPicker,"onChange",this,"_colorChange");dojo.connect(this.closeBtn,"onclick",this,"closeRequest");},rgb:function(r,g,b){var hex="#";var c1=r.toString(16);var c2=g.toString(16);var c3=b.toString(16);hex+=c1.length<2?"0"+c1:c1;hex+=c2.length<2?"0"+c2:c2;hex+=c3.length<2?"0"+c3:c3;return hex;},rgba:function(r,g,b,a){var hex="#";var c1=r.toString(16);var c2=g.toString(16);var c3=b.toString(16);hex+=c1.length<2?"0"+c1:c1;hex+=c2.length<2?"0"+c2:c2;hex+=c3.length<2?"0"+c3:c3;return hex;}});}if(!dojo._hasResource["pentaho.common.ContextHelp"]){dojo._hasResource["pentaho.common.ContextHelp"]=true;dojo.provide("pentaho.common.ContextHelp");dojo.declare("pentaho.common.ContextHelp",null,{});pentaho.common.ContextHelp.REF="_ref";pentaho.common.ContextHelp.CONTENT="_content";pentaho.common.ContextHelp.POSITION="_position";pentaho.common.ContextHelp.TARGET="_target";pentaho.common.ContextHelp.suffixes=[pentaho.common.ContextHelp.REF,pentaho.common.ContextHelp.CONTENT,pentaho.common.ContextHelp.POSITION,pentaho.common.ContextHelp.TARGET];pentaho.common.ContextHelp.createHelpContainer=function(){var _c94=dojo.byId("pentaho-ctx-help-container");if(this.container==undefined){_c94=dojo.create("div");_c94.id="pentaho-ctx-help-container";dojo.place(_c94,dojo.body());}return _c94;};pentaho.common.ContextHelp.parsePosition=function(_c95){return dojo.map(_c95.split(","),function(item){return dojo.trim(item);});};pentaho.common.ContextHelp.buildContext=function(map){var _c96=new pentaho.common.ContextHelp.helpContext();for(var k in map){if(map.hasOwnProperty(k)){if(k==="defaultPosition"){_c96.defaultPosition=pentaho.common.ContextHelp.parsePosition(map[k]);continue;}var _c97=_c96.parseProperty(k);if(_c97==null){continue;}var help=_c96.getHelpFor(_c97.id);if(_c97.property){_c96.setHelpProperty(help,_c97.property,map[k]);}}}return _c96;};pentaho.common.ContextHelp.installHelpFor=function(help,_c98){var t={connectId:help.target,label:help.content,position:help.position};help.widget=new dijit.Tooltip(t);help.widget.domNode.id="tt_"+help.target;dojo.place(help.widget.domNode,_c98);};pentaho.common.ContextHelp.helpContext=function(){this.context={};};pentaho.common.ContextHelp.helpContext.prototype.installAll=function(_c99){if(this.context.defaultPosition){dijit.Tooltip.defaultPosition=this.context.defaultPosition;}if(_c99==undefined){_c99=pentaho.common.ContextHelp.createHelpContainer();}for(var help in this.context){pentaho.common.ContextHelp.installHelpFor(this.context[help],_c99);}};pentaho.common.ContextHelp.helpContext.prototype.removeAll=function(){for(var help in this.context){if(this.context[help].widget){this.context[help].widget.destroyRecursive();}}};pentaho.common.ContextHelp.helpContext.createHelpFor=function(_c9a){return {target:_c9a,content:null,ref:null,position:null,widget:null};};pentaho.common.ContextHelp.helpContext.prototype.parseProperty=function(str){if(str.indexOf("_")>-1){for(var idx=0;idx<pentaho.common.ContextHelp.suffixes.length;idx++){var _c9b=pentaho.common.ContextHelp.suffixes[idx];if(str.indexOf(_c9b)>-1){return {id:str.substring(0,str.length-_c9b.length),property:_c9b.substring(1)};}}}return null;};pentaho.common.ContextHelp.helpContext.prototype.getHelpFor=function(_c9c){var help=this.context[_c9c];if(help==undefined){help=this.context[_c9c]=pentaho.common.ContextHelp.helpContext.createHelpFor(_c9c);}return help;};pentaho.common.ContextHelp.helpContext.prototype.setHelpProperty=function(help,prop,_c9d){if(prop==="position"){_c9d=pentaho.common.ContextHelp.parsePosition(_c9d);}help[prop]=_c9d;return help;};}if(!dojo._hasResource["pentaho.common.Menu"]){dojo._hasResource["pentaho.common.Menu"]=true;dojo.provide("pentaho.common.Menu");dojo.declare("pentaho.common.Menu",dijit.Menu,{baseClass:"pentaho-menu",templateString:dojo.cache("pentaho.common","Menu.html","<table class=\"pentaho-menu-outer\" role=\"menu\" tabIndex=\"${tabIndex}\" dojoAttachEvent=\"onkeypress:_onKeyPress\" cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" dojoAttachPoint=\"containerNode\"></tbody>\n</table>\n")});}if(!dojo._hasResource["pentaho.common.ListItem"]){dojo._hasResource["pentaho.common.ListItem"]=true;dojo.provide("pentaho.common.ListItem");dojo.declare("pentaho.common.ListItem",[dijit.MenuItem],{baseClass:"pentaho-listitem",templateString:dojo.cache("pentaho.common","ListItem.html","<tr class=\"dijitReset pentaho-listitem\" dojoAttachPoint=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset pentaho-menuitem-label\" colspan=\"2\" dojoAttachPoint=\"containerNode\"></td>\n</tr>\n"),selected:false,_setSelected:function(_c9e){if(!this.disabled){dojo.toggleClass(this.domNode,"pentaho-listitem-selected",_c9e);dojo.removeClass(this.domNode,"pentaho-listitem-hover");this.selected=_c9e;}},setDisabled:function(_c9f){this.set("disabled",_c9f);dojo.toggleClass(this.domNode,"pentaho-listitem-disabled",_c9f);},_setDisabledAttr:function(_ca0){dijit.setWaiState(this.focusNode,"disabled",_ca0?"true":"false");this._set("disabled",_ca0);dojo.toggleClass(this.domNode,"pentaho-listitem-disabled",_ca0);},_onHover:function(){if(!this.disabled&&!this.selected){dojo.addClass(this.domNode,"pentaho-listitem-hover");}else{if(this.selected){dojo.addClass(this.domNode,"pentaho-listitem-selected");}}},_onUnhover:function(){dojo.removeClass(this.domNode,"pentaho-listitem-hover");}});}if(!dojo._hasResource["pentaho.common.MenuSeparator"]){dojo._hasResource["pentaho.common.MenuSeparator"]=true;dojo.provide("pentaho.common.MenuSeparator");dojo.declare("pentaho.common.MenuSeparator",dijit.MenuSeparator,{templateString:dojo.cache("pentaho.common","MenuSeparator.html","<tr>\n\t<td colspan=\"10\" class=\"pentaho-menu-separator\">\n        <div class=\"pentaho-menu-separator-inner\"></div>\n\t</td>\n</tr>\n")});}if(!dojo._hasResource["pentaho.common.Select"]){dojo._hasResource["pentaho.common.Select"]=true;dojo.provide("pentaho.common.Select");dojo.declare("pentaho.common._SelectMenu",pentaho.common.Menu,{buildRendering:function(){this.inherited(arguments);var o=(this.menuTableNode=this.domNode);var n=(this.domNode=dojo.create("div",{style:{overflowX:"hidden",overflowY:"scroll"}}));if(o.parentNode){o.parentNode.replaceChild(n,o);}dojo.removeClass(o,"dijitMenuTable");n.className=o.className+" dijitSelectMenu";n.className="pentaho-listbox";o.className="dijitReset dijitMenuTable";dijit.setWaiRole(o,"listbox");dijit.setWaiRole(n,"presentation");n.appendChild(o);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onmousemove",dojo.stopEvent);},resize:function(mb){if(mb){dojo.marginBox(this.domNode,mb);if("w" in mb){this.menuTableNode.style.width="100%";}}}});dojo.declare("pentaho.common.Select",dijit.form.Select,{templateString:dojo.cache("pentaho.common","Select.html","<table class=\"dijit dijitReset dijitInline dijitLeft pentaho-listbox\"\n\tdojoAttachPoint=\"_buttonNode,tableNode,focusNode\" cellspacing='0' cellpadding='0'\n\trole=\"combobox\" aria-haspopup=\"true\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents dijitButtonNode\" role=\"presentation\"\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"  dojoAttachPoint=\"containerNode,_popupStateNode\"></span\n\t\t\t><input type=\"hidden\" ${!nameAttrSetting} dojoAttachPoint=\"valueNode\" value=\"${value}\" aria-hidden=\"true\"\n\t\t/></td><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\t\tdojoAttachPoint=\"titleNode\" role=\"presentation\"\n\t\t\t>\n                        <div class=\"pentaho-dropdownbutton-outer\">\n                            <div class=\"pentaho-dropdownbutton-inner\">\n                            </div>\n                        </div>\n            <div class=\"dijitReset dijitArrowButtonInner\" style=\"display:none\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" style=\"display:none\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t></tr></tbody\n></table>\n"),_setDisplay:function(_ca1){var lbl=_ca1||this.emptyLabel;this.containerNode.innerHTML="<span class=\"dijitReset dijitInline label\">"+lbl+"</span>";dijit.setWaiState(this.focusNode,"valuetext",lbl);},_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var si=this.srcNodeRef.selectedIndex||0;this.value=this.options[si>=0?si:0].value;}this.dropDown.destroy();this.dropDown=new pentaho.common._SelectMenu({id:this.id+"_menu"});dojo.addClass(this.dropDown.domNode,"pentaho-listbox");},_getMenuItemForOption:function(_ca2){if(!_ca2.value&&!_ca2.label){return new pentaho.common.MenuSeparator();}else{var _ca3=dojo.hitch(this,"_setValueAttr",_ca2);var item=new pentaho.common.ListItem({option:_ca2,label:_ca2.label||this.emptyLabel,onClick:_ca3,disabled:_ca2.disabled||false});dijit.setWaiRole(item.focusNode,"listitem");return item;}}});}if(!dojo._hasResource["pentaho.common.ListBox"]){dojo._hasResource["pentaho.common.ListBox"]=true;dojo.provide("pentaho.common.ListBox");dojo.declare("pentaho.common.ListBox",pentaho.common.Select,{templateString:dojo.cache("pentaho.common","ListBox.html","<div style=\"width: ${width}; height: ${height}\" dojoAttachPoint=\"outerNode\">\n    <table class=\"dijit dijitReset dijitInline dijitLeft\"\n        dojoAttachPoint=\"_buttonNode,tableNode,focusNode\" cellspacing='0' cellpadding='0' style=\"display:none;\n        role=\"combobox\" aria-haspopup=\"true\"\n        ><tbody role=\"presentation\"><tr role=\"presentation\"\n            ><td class=\"dijitReset dijitStretch dijitButtonContents dijitButtonNode\" role=\"presentation\"\n                ><span class=\"dijitReset dijitInline dijitButtonText\"  dojoAttachPoint=\"containerNode,_popupStateNode\"></span\n                ><input type=\"hidden\" ${!nameAttrSetting} dojoAttachPoint=\"valueNode\" value=\"${value}\" aria-hidden=\"true\"\n            /></td><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n                    dojoAttachPoint=\"titleNode\" role=\"presentation\"\n                >\n                            <div class=\"pentaho-dropdownbutton-outer\">\n                                <div class=\"pentaho-dropdownbutton-inner\">\n                                </div>\n                            </div>\n                <div class=\"dijitReset dijitArrowButtonInner\" style=\"display:none\" role=\"presentation\"></div\n                ><div class=\"dijitReset dijitArrowButtonChar\" style=\"display:none\" role=\"presentation\">&#9660;</div\n            ></td\n        ></tr></tbody\n    ></table>\n    <div dojoAttachPoint=\"menuOuterNode\" style=\"width:100%;height:100%;\" class=\"pentaho-listbox\"\n        ><div dojoAttachPoint=\"menuNode\" dojoType=\"pentaho.common.Menu\" style=\"width:100%\">\n        </div\n    ></div>\n</div>\n"),widgetsInTemplate:true,width:"150px",height:"75px",selectedIndex:-1,onchange:null,ignoreChange:false,loadChildrenOnOpen:true,postCreate:function(){this.inherited(arguments);this.loadDropDown(function(){});dojo.removeClass(this.outerNode,"dijitSelect");dojo.removeClass(this.menuNode.domNode,"pentaho-listbox");dojo.removeClass(this.menuNode.domNode,"pentaho-menu-outer");this.menuNode._onBlur=function(){};},_fillContent:function(){this.inherited(arguments);this.value={};},_addOptionItem:function(_ca4){if(this.menuNode){this.menuNode.addChild(this._getMenuItemForOption(_ca4));}},_loadChildren:function(_ca5){this.ignoreChange=true;this.inherited(arguments);},addOption:function(_ca6){this._addOptionItem(_ca6);},setOptions:function(_ca7){this.clearOptions();for(var idx=0;idx<_ca7.length;idx++){this.addOption(_ca7[idx]);}},clearOptions:function(){dojo.forEach(this.menuNode.getChildren(),function(_ca8){_ca8.destroyRecursive();});},_getMenuItemForOption:function(_ca9){if(!_ca9.value&&!_ca9.label){return new pentaho.common.MenuSeparator();}else{var _caa=dojo.hitch(this,"_setValueAttr",_ca9);var item=new pentaho.common.ListItem({option:_ca9,label:_ca9.text||_ca9.value,value:_ca9.value,onMouseDown:_caa,onKeyUp:_caa,disabled:_ca9.disabled||false});dijit.setWaiRole(item.focusNode,"listitem");return item;}},set:function(_cab,_cac){if(_cab=="value"){this.ignoreChange=true;}this.inherited(arguments);},_getValueAttr:function(){this.inherited(arguments);if(this.value){return this.value.value;}else{return null;}},_setValueAttr:function(_cad){var _cae=_cad.value?_cad.value:_cad;var _caf=this.menuNode.getChildren();var _cb0=this.selectedIndex;this.selectedIndex=-1;for(var idx=0;idx<_caf.length;idx++){var item=_caf[idx];if(item.value==_cae){item.set("selected",true);item._setSelected(true);if(!this.multiple){this.selectedIndex=idx;this.value=item;}}else{if(!this.multiple){item.set("selected",false);item._setSelected(false);}}}if(this.selectedIndex!=_cb0&&!this.ignoreChange){if(this.onChange){this.onChange();}}this.ignoreChange=false;},_updateSelection:function(){this.inherited(arguments);var val=this.value;if(!dojo.isArray(val)){val=[val];}if(val&&val[0]){dojo.forEach(this._getChildren(),function(_cb1){var _cb2=dojo.some(val,function(v){return _cb1.option&&(v===_cb1.option.value);});dojo.removeClass(_cb1.domNode,this.baseClass+"SelectedOption");dojo.addClass(_cb1.domNode,"pentaho-listitem-selected");},this);}}});}if(!dojo._hasResource["pentaho.common.MessageBox"]){dojo._hasResource["pentaho.common.MessageBox"]=true;dojo.provide("pentaho.common.MessageBox");dojo.declare("pentaho.common.MessageBox",[pentaho.common.Dialog],{buttons:["btn1","btn2","btn3"],setTitle:function(_cb3){this.set("title",_cb3);},setMessage:function(_cb4){this.messagelbl.innerHTML=_cb4;},setButtons:function(_cb5){this.buttons=_cb5;for(var i=0;i<3;i++){var _cb6=dojo.query("button"+i,this.popup.domNode);if(_cb6){if(i<this.buttons.length){_cb6.innerHTML=this.buttons[i];dojo.removeClass(_cb6,"hidden");}else{dojo.addClass(_cb6,"hidden");}}}},templateString:"<div class=\"dialog-content pentaho-padding-sm\" style=\"width:100%; overflow: auto\">\n\t<span dojoAttachPoint=\"messagelbl\" class=\"label\"></span>\n</div>\n"});}if(!dojo._hasResource["pentaho.common.datasourceselect"]){dojo._hasResource["pentaho.common.datasourceselect"]=true;dojo.provide("pentaho.common.datasourceselect");dojo.declare("pentaho.common.datasourceselect",[pentaho.common.Dialog],{getModel:null,modelSelected:null,canDataSourceAdmin:false,datasourceEditCallback:null,datasourceAddCallback:null,datasourceDeleteCallback:null,datasourceWizardIncluded:false,datasourceEditorPath:"",models:null,buttons:["Ok_txt","Cancel_txt"],setModelList:function(list){this.models=list;this.modelList.clearOptions();for(var idx=0;idx<list.length;idx++){var opt=new Option(list[idx].name,list[idx].id);this.modelList.addOption(opt);}if(list.length>0){this.modelList.set("value",list[0].id);this.datasourceSelected();}},onModelDblClick:function(x){this.buttonClick(0);},getSelectedModel:function(){var idx=this.modelList.selectedIndex;return this.models[idx];},setSelectedIndex:function(idx){this.modelList.set("value",this.models[idx]);this.modelList.selectedIndex=idx;this.datasourceSelected();},setCanDataSourceAdmin:function(_cb7){if(_cb7){this.canDataSourceAdmin=window.parent&&window.parent.pho&&window.parent.pho.openEditDatasourceEditor;}else{this.canDataSourceAdmin=false;}this.disableDatasourceAdminButtons();this.enableIconButton(this.adddatasourceimg,this.canDataSourceAdmin,this.addDatasource);},datasourceSelected:function(){var id=this.modelList.get("value");var _cb8=this.getModel(id);var _cb9=_cb8.modelId=="MODEL_1"&&this.canDataSourceAdmin;this.enableIconButton(this.editdatasourceimg,_cb9,this.editDatasource);this.enableIconButton(this.deletedatasourceimg,_cb9,this.deleteDatasource);this.enableIconButton(this.adddatasourceimg,this.canDataSourceAdmin,this.addDatasource);},enableIconButton:function(_cba,_cbb,func){var e=_cba;var src=e.src;if(this.canDataSourceAdmin&&_cbb){_cba.set("disabled",false);}else{if(!_cbb){_cba.set("disabled",true);}}},_localize:function(){this.inherited(arguments);this.set("title",this.getLocaleString("modelSelectDialog_title"));this.modelSelectDialogComment.innerHTML=this.getLocaleString("modelSelectDialogComment_content");this.datasourcelistlbl.innerHTML=this.getLocaleString("datasourcelistlbl_content");this.editdatasourceimg.title=this.getLocaleString("editdatasourceimg_title");this.adddatasourceimg.title=this.getLocaleString("adddatasourceimg_title");this.deletedatasourceimg.title=this.getLocaleString("deletedatasourceimg_title");},templateString:"<div class=\"dialog-content\" style=\"width: 370px;\">\n<table class=\"pentaho-padding-sm\" onkeyup=\"\">\n    <tr>\n        <td colspan=\"3\">\n            <span dojoAttachPoint=\"modelSelectDialogComment\" class=\"label\"></span>\n        </td>\n    </tr>\n    <tr>\n        <td colspan=\"3\">\n            <table style=\"padding:0px; margin:0px; width:100%\">\n                <tr>\n                    <td style=\"width:100%\">\n                        <span dojoAttachPoint=\"datasourcelistlbl\" class=\"label\">Data Sources:</span>\n                    </td>\n                    <td>\n                        <div dojoAttachPoint=\"editdatasourceimg\" dojoType=\"pentaho.common.SmallImageButton\" title=\"Edit the selected datasource\" baseClass=\"pentaho-editbutton\">\n                        </div>\n                    </td>\n                    <td>\n                        <div dojoAttachPoint=\"adddatasourceimg\" dojoType=\"pentaho.common.SmallImageButton\" title=\"Add a datasource\" baseClass=\"pentaho-addbutton\">\n                        </div>\n                    </td>\n                    <td>\n                        <div dojoAttachPoint=\"deletedatasourceimg\" dojoType=\"pentaho.common.SmallImageButton\" title=\"Delete the selected datasource\" baseClass=\"pentaho-deletebutton\">\n                        </div>\n                    </td>\n                </tr>\n            </table>\n        </td>\n    </tr>\n    <tr>\n        <td colspan=\"3\">\n            <div dojoType=\"pentaho.common.ListBox\" dojoAttachPoint=\"modelList\" name=\"model\" size=\"6\" width=\"100%\" height=\"100px\" style=\"overflow:auto;width:100%\">\n            </div>\n        </td>\n    </tr>\n</table>\n</div>\n",postCreate:function(){this.inherited(arguments);this.modelList.onChange=dojo.hitch(this,this.datasourceSelected);dojo.connect(this.adddatasourceimg.buttonImg,"onclick",this,this.addDatasource);dojo.connect(this.editdatasourceimg.buttonImg,"onclick",this,this.editDatasource);dojo.connect(this.deletedatasourceimg.buttonImg,"onclick",this,this.deleteDatasource);dojo.connect(this.modelList.menuNode,"onDblClick",this,this.onModelDblClick);},addDatasource:function(){if(this.adddatasourceimg.disabled){return;}var _cbc={onError:function(val){alert("error:"+val);},onCancel:function(){alert("cancelled");},onReady:function(){}};_cbc.onFinish=dojo.hitch(this,this.datasourceAddCallback);if(window.parent&&window.parent.pho&&window.parent.pho.openDatasourceEditor){window.parent.pho.openDatasourceEditor(_cbc);}},editDatasource:function(){if(this.editdatasourceimg.disabled){return;}if(this.canDataSourceAdmin&&window.parent&&window.parent.pho&&window.parent.pho.openEditDatasourceEditor){if(this.modelList.selectedIndex==-1){return false;}var id=this.modelList.get("value");var _cbd={onError:function(val){alert("error:"+val);},onCancel:function(){alert("cancelled");},onReady:function(){}};_cbd.onFinish=dojo.hitch(this,this.datasourceEditCallback);var _cbe=this.getModel(this.modelList.get("value"));window.parent.pho.openEditDatasourceEditor(_cbe.domainId,_cbe.modelId,_cbd);}},deleteDatasource:function(){if(this.deletedatasourceimg.disabled){return;}if(this.canDataSourceAdmin&&window.parent&&window.parent.pho&&window.parent.pho.openEditDatasourceEditor){if(this.modelList.selectedIndex==-1){return false;}if(!this.msgBox){this.msgBox=dijit.byId("messagebox");this.msgBox.setLocalizationLookupFunction(this.getLocaleString);}this.msgBox.buttons=[this.getLocaleString("Ok"),this.getLocaleString("Cancel")];this.msgBox.setTitle(this.getLocaleString("Warning"));this.msgBox.setMessage(this.getLocaleString("DeleteDatasourceWarning"));this.msgBox.callbacks=[dojo.hitch(this,this.deleteDatasource2),dojo.hitch(this,function(){this.msgBox.hide();})];this.msgBox.show();}},deleteDatasource2:function(){this.msgBox.hide();var _cbf={onError:function(val){alert("error:"+val);},onCancel:function(){},onReady:function(){}};_cbf.onFinish=dojo.hitch(this,this.datasourceDeleteCallback);window.parent.pho.deleteModel(this.models[this.modelList.selectedIndex].domainId,this.models[this.modelList.selectedIndex].modelId,_cbf);},disableDatasourceAdminButtons:function(){this.enableIconButton(this.editdatasourceimg,false);this.enableIconButton(this.deletedatasourceimg,false);this.enableIconButton(this.adddatasourceimg,false);}});}if(!dojo._hasResource["pentaho.common.DateTextBox"]){dojo._hasResource["pentaho.common.DateTextBox"]=true;dojo.provide("pentaho.common.DateTextBox");dojo.declare("pentaho.common.DateTextBox",[dijit.form.DateTextBox],{templateString:dojo.cache("pentaho.common","DropDownBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft pentaho-listbox\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\">\n    <div class='dijitReset dijitRight dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdojoAttachPoint=\"_buttonNode, _popupStateNode\" role=\"presentation\">\n                        <div class=\"pentaho-dropdownbutton-outer\">\n                            <div class=\"pentaho-dropdownbutton-inner\">\n                            </div>\n                        </div>\n\n        <input class=\"dijitReset dijitInputField dijitArrowButtonInner\" style=\"display:none\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\t${_buttonInputDisabled} />\n    </div>\n    <div class='dijitReset dijitValidationContainer'>\n        <input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935;\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"/>\n    </div>\n    <div class=\"dijitReset dijitInputField dijitInputContainer\">\n        <input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"/>\n    </div>\n\n</div>\n"),popupClass:"pentaho.common.Calendar"});}if(!dojo._hasResource["pentaho.common.DisclosurePanel"]){dojo._hasResource["pentaho.common.DisclosurePanel"]=true;dojo.provide("pentaho.common.DisclosurePanel");dojo.declare("pentaho.common.DisclosurePanel",dijit.TitlePane,{templateString:dojo.cache("pentaho.common","DisclosurePanel.html","<div>\n    <table class=\"pentaho-disclosure-panel pentaho-disclosure-panel-open\" cellspacing=\"0\" cellpadding=\"0\">\n        <tr>\n            <td class=\"header\" dojoAttachEvent=\"onclick:_onTitleClick, onkeypress:_onTitleKey\" dojoAttachPoint=\"titleBarNode\">\n                <div class=\"\" dojoAttachPoint=\"focusNode\">\n                </div>\n                <table>\n                    <tbody>\n                        <tr>\n                            <td align=\"center\" style=\"width: 16px;\">\n                                <img dojoAttachPoint=\"arrowNode\" src=\"images/spacer.gif\" id=\"disclosure-panel-icon\" class=\"pentaho-disclosure-panel-openicon\"/>\n                            </td>\n                            <td dojoAttachPoint=\"titleNode\" >Panel Title</td>\n                        </tr>\n                    </tbody>\n                </table>\n                <span dojoAttachPoint=\"arrowNodeInner\" style=\"display:none\"></span>\n            </td>\n        </tr>\n        <tr>\n            <td>\n                <div class=\"pentaho-disclosure-panel-dropdown pentaho-shadow-padding\" dojoAttachPoint=\"hideNode\" role=\"presentation\">\n                    <div class=\"dijitReset\" dojoAttachPoint=\"wipeNode\" role=\"presentation\">\n                        <div class=\"pentaho-rounded-panel-bottom-lr panel-content pentaho-shadow  pentaho-padding-sm\" dojoAttachPoint=\"containerNode\" role=\"region\" id=\"${id}_pane\">\n                        </div>\n                    </div>\n                </div>\n            </td>\n        </tr>\n    </table>\n</div>\n\n                        \n"),baseClass:"",duration:0,_setCss:function(){},postCreate:function(){this.toggleable=false;this.inherited(arguments);this.toggleable=true;},_setOpenAttr:function(open,_cc0){this.hideNode.style.display=open?"":"none";this.arrowNode.className=open?"pentaho-disclosure-panel-openicon":"pentaho-disclosure-panel-closeicon";this._set("open",open);}});}if(!dojo._hasResource["pentaho.common.FieldList"]){dojo._hasResource["pentaho.common.FieldList"]=true;dojo.provide("pentaho.common.FieldList");dojo.declare("pentaho.common.FieldList",[dijit._Widget,dijit._Templated],{templateString:"<div dojoAttachPoint=\"containerNode\"></div>",datasource:undefined,connectHandles:[],enableDragDrop:true,singleSelect:false,getLocaleString:undefined,filters:[],categorize:true,categoryClassMap:{},usedCategoryIds:{},sanitizeIdAndClassNames:function(name){return dojox.html.entities.encode(name).replace(/ /g,"_");},generateUniqueClassName:function(_cc1){var gen=function(){return Math.round(Math.random()*100000);};var _cc2="category"+gen();while(this.usedCategoryIds[_cc2]){_cc2=gen();}this.usedCategoryIds[_cc2]=true;return ""+_cc2;},getCategoryClassName:function(_cc3){var _cc4=this.categoryClassMap[_cc3];if(!_cc4){_cc4=this.generateUniqueClassName(_cc3);this.categoryClassMap[_cc3]=_cc4;}return _cc4;},fieldContextMenuCallback:function fieldContextMenuShow(_cc5){if(!this.fieldContextMenu){return;}dojo.stopEvent(_cc5);var x=_cc5.pageX;var y=_cc5.pageY;this.fieldContextMenu._scheduleOpen(_cc5.target,null,{x:x,y:y});},doubleClickCallback:undefined,clickCallback:undefined,dndObj:undefined,selector:undefined,expandCollapseCategoryCallback:undefined,textSelectionDisabler:function(_cc6){if(typeof _cc6.onselectstart!="undefined"){this.connectHandles.push(dojo.connect(_cc6,"onselectstart",function(){return false;}));}else{if(typeof _cc6.style.MozUserSelect!="undefined"){_cc6.style.MozUserSelect="none";}else{this.connectHandles.push(this.connect(_cc6,"onmousedown",function(){return false;}));}}_cc6.style.cursor="default";},registerLocalizationLookup:function(f){this.getLocaleString=f;this._localize();},registerTextSelectionDisabler:function(f){this.textSelectionDisabler=f;},registerFieldContextMenuCallback:function(f){this.fieldContextMenuCallback=f;},registerDoubleClickCallback:function(f){this.doubleClickCallback=f;},registerClickCallback:function(f){this.clickCallback=f;},registerExpandCollapseCategoryCallback:function(f){this.expandCollapseCategoryCallback=f;},_localize:function(){},_addItemClass:function(node,type){dojo.addClass(node,"dojoDndItem"+type);if(type=="Selected"||type=="Anchor"){dojo.addClass(node,"pentaho-listitem-selected");dojo.removeClass(node,"pentaho-listitem-hover");}},_removeItemClass:function(node,type){dojo.removeClass(node,"dojoDndItem"+type);if(type=="Selected"||type=="Anchor"){dojo.removeClass(node,"pentaho-listitem-selected");dojo.removeClass(node,"pentaho-listitem-hover");}},unload:function(){if(this.dndObj){this.dndObj.destroy();}dojo.forEach(this.connectHandles,function(_cc7){dojo.disconnect(_cc7);});this.connectHandles=[];dojo.empty(this.containerNode);this.categoryClassMap={};this.usedCategoryIds={};},configureFor:function(_cc8){this.unload();this.dndObj=new dojo.dnd.Source(this.containerNode,{"copyOnly":true,"accept":"","selfAccept":false,"singular":this.singleSelect,"creator":dojo.hitch(this,this._dndItemCreator)});if(!this.enableDragDrop){this.selector=new dojo.dnd.Selector(this.containerNode,{"copyOnly":true,"accept":"","selfAccept":false,"singular":this.singleSelect,"creator":dojo.hitch(this,this._dndItemCreator)});this.selector._addItemClass=this._addItemClass;this.selector._removeItemClass=this._removeItemClass;}this.dndObj._addItemClass=this._addItemClass;this.dndObj._removeItemClass=this._removeItemClass;if(!this.categorize){var _cc9=this.getFields(_cc8,null,this.filters);this.addFields(_cc9,this.containerNode,"");return;}var _cca=[];var _ccb=this.getCategories(_cc8);dojo.forEach(_ccb,function(_ccc,idx){if(dojo.indexOf(_cca,_ccc.id)!=-1){return;}var _ccd=this.getFields(_cc8,_ccc,this.filters);if(_ccd.length==0){return;}var _cce=this.getCategoryClassName(_ccc.id);_cca.push(_ccc.id);var _ccf=dojo.create("div",{"id":_cce},this.containerNode);var _cd0=dojo.create("div",{"id":_cce+"-indicator","class":"categoryIndicator treenode-open","categoryId":_cce},_ccf);this.connectHandles.push(dojo.connect(_cd0,"onclick",this,this.expandCollapseCategory));var _cd1=dojo.create("span",{"id":_cce+"-span","class":"treenode-branch-label","innerHTML":_ccc.name,"categoryId":_cce},_ccf);this.textSelectionDisabler(_cd1);this.connectHandles.push(dojo.connect(_cd1,"ondblclick",this,this.expandCollapseCategory));var _cd2=dojo.create("div",{"id":_cce+"-fields"},_ccf);this.addFields(_ccd,_cd2,_cce);},this);},addFields:function(_cd3,_cd4,_cd5){var _cd6=[];dojo.forEach(_cd3,function(_cd7){var item={"categoryId":_cd5,"displayName":_cd7.name,"fieldId":_cd7.id,"dataType":_cd7.dataType,"type":["treenode-leaf-label"],"description":_cd7.description};if(_cd7.hiddenForUser!="true"){_cd6.push(item);this.dndObj.setItem("field-"+item.fieldId,{"data":item,"type":"treenode-leaf-label","fieldId":item.fieldId});}},this);if(this.enableDragDrop){this.dndObj.insertNodes(false,_cd6,false,_cd4);}else{for(var idx=0;idx<_cd6.length;idx++){var x=this._dndItemCreator(_cd6[idx],"");_cd4.appendChild(x.node);this.selector.setItem("field-"+_cd6[idx].fieldId,{"data":_cd6[idx],"type":"treenode-leaf-label","fieldId":_cd6[idx].fieldId});this.connectHandles.push(dojo.connect(x.node,"onmousedown",this,this.onMouseDown));this.connectHandles.push(dojo.connect(x.node,"onmouseup",this,this.onMouseUp));}}},onMouseDown:function(e){this.selector.current=e.target;this.selector.onMouseDown(e);},onMouseUp:function(e){this.selector.current=e.target;this.selector.onMouseUp(e);},_dndItemCreator:function(item,hint){var _cd8={"id":"field-"+this.sanitizeIdAndClassNames(item.fieldId),"innerHTML":item.displayName,"fieldId":item.fieldId,"class":item.categoryId};if(item.description){_cd8.title=item.description;}else{_cd8.title=item.fieldId;}var div=dojo.create("div",_cd8);if(hint==="avatar"){dojo.addClass(div,"dragDropAvatar");}else{dojo.addClass(div,"field");dojo.addClass(div,"treenode-leaf-label");dojo.addClass(div,"pentaho-listitem");this.connectHandles.push(dojo.connect(div,"oncontextmenu",this,function(_cd9){this.updateSelectionForContextMenu(item.fieldId);if(this.fieldContextMenuCallback){this.fieldContextMenuCallback(_cd9);}}));this.connectHandles.push(dojo.connect(div,"ondblclick",this,function(_cda){if(this.doubleClickCallback){this.doubleClickCallback(item.fieldId);}}));this.connectHandles.push(dojo.connect(div,"onmouseover",this,function(_cdb){this.onFieldMouseOver(_cdb);}));this.connectHandles.push(dojo.connect(div,"onmouseout",this,function(_cdc){this.onFieldMouseOut(_cdc);}));this.connectHandles.push(dojo.connect(div,"onclick",this,function(_cdd){this.onFieldClick(_cdd);}));}return {node:div,data:item,type:["treenode-leaf-label"]};},onFieldClick:function(_cde){if(this.selector){this.selector.onClick(_cde);}if(this.clickCallback){this.clickCallback(_cde);}},onFieldMouseOver:function(_cdf){if(this.selector){this.selector.onMouseOver(_cdf);}if(!dojo.hasClass(_cdf.target,"pentaho-listitem-selected")){dojo.addClass(_cdf.target,"pentaho-listitem-hover");dojo.removeClass(_cdf.target,"pentaho-listitem");}},onFieldMouseOut:function(_ce0){if(this.selector){this.selector.onMouseOut(_ce0);}if(!dojo.hasClass(_ce0.target,"pentaho-listitem-selected")){dojo.addClass(_ce0.target,"pentaho-listitem");dojo.removeClass(_ce0.target,"pentaho-listitem-hover");}else{dojo.removeClass(_ce0.target,"pentaho-listitem-hover");dojo.addClass(_ce0.target,"pentaho-listitem-selected");}},_elementComparator:function(a,b){if(a.name<b.name){return -1;}else{if(a.name==b.name){return 0;}else{return 1;}}},getCategories:function(_ce1){var _ce2=[];dojo.forEach(_ce1.getAllElements(),function(_ce3){if(_ce3.elementType==pentaho.pda.Column.ELEMENT_TYPES.CATEGORY&&_ce2[_ce3]==null){_ce2.push(_ce3);}});return _ce2;},getFields:function(_ce4,_ce5,_ce6){var _ce7=[];var _ce8=_ce4.getAllElements();dojo.forEach(_ce4.getAllElements(),function(_ce9){if(_ce9.isQueryElement&&(_ce5==null||_ce9.parent==_ce5)&&_ce7[_ce9]==null){if(_ce6&&_ce6.length>0){var ok=true;for(var _cea=0;_cea<_ce6.length;_cea++){var _ceb=_ce6[_cea].values;var _cec=false;for(var _ced=0;_ced<_ceb.length;_ced++){if(_ce9[_ce6[_cea].type]==_ceb[_ced]){_cec=true;break;}}ok=ok&&_cec;if(!ok){break;}}if(ok){_ce7.push(_ce9);}}else{_ce7.push(_ce9);}}});return _ce7;},expandCollapseCategory:function(_cee){var _cef=dojo.attr(_cee.target,"categoryId");var node=dojo.byId(_cef+"-fields");var _cf0=dojo.byId(_cef+"-indicator");var _cf1=dojo.attr(_cf0,"collapsed")!="true";if(_cf1){dojo.addClass(_cf0,"treenode-closed");dojo.removeClass(_cf0,"treenode-open");}else{dojo.addClass(_cf0,"treenode-open");dojo.removeClass(_cf0,"treenode-closed");}dojo.attr(_cf0,"collapsed",""+_cf1);var _cf2=dojo.query("."+_cef,this.containerNode);if(_cf1){_cf2.addClass("hidden");}else{_cf2.removeClass("hidden");}if(this.expandCollapseCategoryCallback){this.expandCollapseCategoryCallback(_cf1);}},updateFilterIndicators:function(_cf3){dojo.query(".treenode-leaf-label",this.containerNode).removeClass("fieldlist-filtered-field");if(!_cf3){return;}dojo.forEach(_cf3,function(_cf4){var _cf5=dojo.byId("field-"+this.sanitizeIdAndClassNames(_cf4.column));dojo.addClass(_cf5,"fieldlist-filtered-field");},this);},updateSelectionForContextMenu:function(_cf6){var _cf7=false;this.dndObj.forInSelectedItems(function(item,id){if(item.data.fieldId===_cf6){_cf7=true;}});var id="field-"+_cf6;var node=dojo.byId(id);if(!_cf7){this.clearSelection();this.dndObj._addItemClass(node,"pentaho-listitem-selected");this.dndObj.selection[id]=1;}if(this.dndObj.anchor){this.dndObj._addItemClass(this.dndObj.anchor,"pentaho-listitem-selected");}this.dndObj._removeAnchor();this.dndObj._addItemClass(node,"Anchor");this.dndObj.anchor=node;},getSelectedItems:function(){if(this.dndObj&&this.enableDragDrop){var _cf8=[];this.dndObj.forInSelectedItems(function(item){_cf8.push(item.data);});return _cf8;}if(this.selector&&!this.enableDragDrop){var _cf8=[];this.selector.forInSelectedItems(function(item){_cf8.push(item.data);},this);return _cf8;}},clearSelection:function(){if(this.dndObj&&this.enableDragDrop){this.dndObj.selectNone();}if(this.selector){this.selector.selectNone();}},addFilter:function(_cf9){this.filters.push(_cf9);},clearFilters:function(){this.filters=[];},setCategorized:function(_cfa){this.categorize=_cfa;},setEnableDragDrop:function(_cfb){this.enableDragDrop=_cfb;},setContextMenu:function(_cfc){this.fieldContextMenu=_cfc;}});}if(!dojo._hasResource["pentaho.common.FilterDialog"]){dojo._hasResource["pentaho.common.FilterDialog"]=true;dojo.provide("pentaho.common.FilterDialog");dojo.declare("pentaho.common.FilterDialog",[pentaho.common.Dialog],{templateString:"<div dojoAttachPoint=\"dialogContainer\" class=\"filterDialogContainer dialog-content pentaho-padding-sm\" dojoAttachPoint=\"containerNode\">\n  <div dojoAttachPoint=\"typeContainer\" class=\"filterDialogTypeContainer\">\n    <div dojoAttachPoint=\"fieldPicklistContainer\" class=\"filterDialogHidden\">\n      <span class=\"filterDialogFieldPicklistText\"\n            dojoAttachPoint=\"fieldPicklistSpan\">!Field:!</span>\n      <select dojoAttachPoint=\"picklistFields\" dojoAttachEvent=\"onchange:_fieldChanged\">\n      </select>\n    </div>\n    <div dojoAttachPoint=\"typePicklistContainer\">\n      <input type=\"radio\" value=\"PICKLIST\"\n             name=\"filterType\" dojoAttachPoint=\"typePicklistInput\"\n             dojoAttachEvent=\"onclick:_filterTypeChanged\">\n      <span class=\"filterDialogTypePicklistText\"\n            dojoAttachPoint=\"typePicklistSpan\">!Select from a list!</span>\n      <span class=\"filterDialogTypePicklistCombinationTypeLinksSpan\">(<a href=\"#\" onclick=\"return false;\" dojoAttachPoint=\"typePicklistCombinationTypeLinksIncludeLink\">!Includes!</a>,&nbsp;<a href=\"#\" onclick=\"return false;\" dojoAttachPoint=\"typePicklistCombinationTypeLinksExcludeLink\">!Excludes!</a>)</span>\n      <br/>\n    </div>\n    <div dojoAttachPoint=\"typeMatchContainer\">\n      <input type=\"radio\" dojoAttachPoint=\"typeMatchInput\"\n             value=\"MATCH\" name=\"filterType\"\n             dojoAttachEvent=\"onclick:_filterTypeChanged\">\n      <span class=\"filterDialogTypeMatchText\" dojoAttachPoint=\"typeMatchSpan\">!Match a specific string!</span>\n      <br/>\n    </div>\n    <div dojoAttachPoint=\"typeDateRangeContainer\">\n      <input type=\"radio\" dojoAttachPoint=\"typeDateInput\"\n             value=\"DATERANGE\" name=\"filterType\"\n             dojoAttachEvent=\"onclick:_filterTypeChanged\">\n      <span class=\"filterDialogTypeDateRangeText\" dojoAttachPoint=\"typeDateRangeSpan\">!Select a range!</span>\n      <br/>\n    </div>\n    <!--\n    <input type=\"radio\" id=\"filter-type-picklist\" value=\"FILTER_PICKLIST\"\n           name=\"filterType\" onchange=\"view.updateFilterType(this.value);\">\n    Select from a list\n    <br>\n    <input type=\"radio\" id=\"filter-type-match\" value=\"FILTER_MATCH\"\n           name=\"filterType\" onchange=\"view.updateFilterType(this.value);\">\n    Match a specific string\n    -->\n    <p></p>\n  </div>\n  <div dojoAttachPoint=\"detailsContainer\" class=\"filterDialogDetailsContainer\">\n    <div dojoAttachPoint=\"picklistContainer\"\n         class=\"filterDialogPicklistContainer\">\n      <table>\n        <col style=\"width: 220px\">\n        <col style=\"width: 40px\">\n        <col style=\"width: 220px\">\n        <tbody>\n        <tr>\n          <td>\n\t\t\t      <span class=\"filterDialogPicklistHeadingText\" dojoAttachPoint=\"picklistHeadingSpan\">!Choose values from list:!</span>\n\t\t\t    </td>\n\t\t\t    <td></td>\n\t\t\t    <td></td>\n\t\t\t  </tr>\n\t\t\t  <tr>\n\t\t\t    <td>\n\t\t\t      <input type=\"text\" class=\"filterDialogPicklistFindInput\" dojoType=\"dijit.form.TextBox\" dojoAttachPoint=\"picklistFindInput\" dojoAttachEvent=\"onKeyPress:_picklistFindKeyPressed\"/>\n                  <button dojoAttachPoint=\"picklistFindButton\" dojoAttachEvent=\"onclick:_filterPicklistByFindInput\">!Find!</button>\n\t\t\t    </td>\n\t\t\t    <td>\n          </td>\n          <td>\n            <span dojoAttachPoint=\"picklistCombinationTypeSpan\">!Currently!</span>\n            <select dojoAttachPoint=\"picklistCombinationType\">\n              <option value=\"!AND!\" dojoAttachPoint=\"picklistCombinationTypeIncludeOption\">!INCLUDE!</option>\n              <option value=\"!AND_NOT!\" dojoAttachPoint=\"picklistCombinationTypeExcludeOption\">!EXCLUDE!</option>\n            </select>\n            :\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <select dojoType=\"dijit.form.MultiSelect\"\n                    class=\"filterDialogPicklistSelect\"\n                    dojoAttachPoint=\"picklistAvailableValues\" name=\"available\"\n                    dojoAttachEvent=\"onDblClick:_picklistAddSelected\"\n                    size=\"12\"></select>\n          </td>\n          <td valign=\"middle\" align=\"center\">\n            <img dojoAttachEvent=\"onclick:_picklistAddSelected\"\n                 dojoAttachPoint=\"picklistAddSelected\"\n                 class=\"filterDialogPicklistButton\"\n                 src=\"images/filter_add_selected.png\"\n                 title=\"!Add Selected!\"><br>\n            <img dojoAttachEvent=\"onclick:_picklistRemoveSelected\"\n                 dojoAttachPoint=\"picklistRemoveSelected\"\n                 class=\"filterDialogPicklistButton\"\n                 src=\"images/filter_remove_selected.png\"\n                 title=\"!Remove Selected!\"><br>\n            <br><br>\n            <img dojoAttachEvent=\"onclick:_picklistAddAll\"\n                 dojoAttachPoint=\"picklistAddAll\"\n                 class=\"filterDialogPicklistButton\"\n                 src=\"images/filter_add_all.png\"\n                 title=\"!Add All!\"><br>\n            <img dojoAttachEvent=\"onclick:_picklistRemoveAll\"\n                 dojoAttachPoint=\"picklistRemoveAll\"\n                 class=\"filterDialogPicklistButton\"\n                 src=\"images/filter_remove_all.png\"\n                 title=\"!Remove All!\">\n          </td>\n          <td>\n            <select dojoType=\"dijit.form.MultiSelect\"\n                    class=\"filterDialogPicklistSelect\"\n                    dojoAttachPoint=\"picklistUsedValues\" name=\"used\"\n                    dojoAttachEvent=\"onDblClick:_picklistRemoveSelected\"\n                    size=\"12\"></select>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n    <div dojoAttachPoint=\"matchContainer\" class=\"filterDialogMatchContainer\">\n        <span dojoAttachPoint=\"matchFieldName\">!Field name!</span>\n        <select dojoAttachPoint=\"matchAggType\"></select>\n        <select dojoAttachPoint=\"matchComparator\" dojoAttachEvent=\"onchange:_matchComparatorChanged\"></select>\n        <input type=\"text\" dojoAttachPoint=\"matchValueInput\" size=\"10\"/><!--dojoType=\"dijit.form.TextBox\"-->\n        <!-- Date pattern to match what metadata expects. -->\n        <!-- TODO Change this to locale-specific for presentation layer? -->\n        <input type=\"text\" dojoAttachPoint=\"matchValueInputDate\" dojoType=\"pentaho.common.DateTextBox\" constraints=\"{datePattern:'yyyy-MM-dd'}\"/>\n      </table>\n    </div>\n    <div dojoAttachPoint=\"dateRangeContainer\" class=\"filterDialogDateRangeContainer\">\n      <span dojoAttachPoint=\"dateRangeFieldName\">!Field name!</span>\n      <select dojoAttachPoint=\"dateRangeComparator\" dojoAttachEvent=\"onchange:_dateRangeComparatorChanged\"></select>\n      <!-- Date pattern to match what metadata expects. -->\n      <!-- TODO Change this to locale-specific for presentation layer? -->\n      <input type=\"text\" dojoAttachPoint=\"dateRangeValueInputDate1\" dojoType=\"pentaho.common.DateTextBox\" constraints=\"{datePattern:'yyyy-MM-dd'}\"/>\n      <span dojoAttachPoint=\"dateRangeBetweenSeparatorSpan\">!and!</span>\n      <input type=\"text\" dojoAttachPoint=\"dateRangeValueInputDate2\" dojoType=\"pentaho.common.DateTextBox\" constraints=\"{datePattern:'yyyy-MM-dd'}\"/>\n    </div>\n  </div>\n  <div class=\"filterDialogParameterContainer\">\n    <span dojoAttachPoint=\"parameterNameLabel\"></span><input type=\"text\" dojoAttachPoint=\"parameterNameInput\" dojoType=\"dijit.form.TextBox\"/>\n  </div>\n  <div dojoAttachPoint=\"errorDialog\" dojoType=\"pentaho.common.MessageBox\" style=\"width: 300px\"/>\n</div>\n",widgetsInTemplate:true,filterType:"PICKLIST",currentFilter:null,hasCloseIcon:true,buttons:["Ok_txt","Cancel_txt"],searchListLimit:500,_reauthenticateCallback:null,_preSaveCallback:undefined,_onSuccessCallback:undefined,_onCancelCallback:undefined,errorDialog:undefined,_numericFormatRegex:/[^0-9.]/g,postMixInProperties:function(){this.inherited(arguments);},postCreate:function(){this.inherited(arguments);pentaho.common.Messages.addUrlBundle("pentaho.common",CONTEXT_PATH+"i18n?plugin=common-ui&name=resources/web/dojo/pentaho/common/nls/messages");dojo.connect(this.typePicklistCombinationTypeLinksIncludeLink,"onclick",this,function(){this._setPicklistCombinationTypeLink(pentaho.pda.Column.OPERATOR_TYPES.AND);});dojo.connect(this.typePicklistCombinationTypeLinksExcludeLink,"onclick",this,function(){this._setPicklistCombinationTypeLink(pentaho.pda.Column.OPERATOR_TYPES.AND_NOT);});dojo.attr(this.picklistCombinationTypeIncludeOption,"value",pentaho.pda.Column.OPERATOR_TYPES.AND);dojo.attr(this.picklistCombinationTypeExcludeOption,"value",pentaho.pda.Column.OPERATOR_TYPES.AND_NOT);this.callbacks=[dojo.hitch(this,this.save),dojo.hitch(this,this.cancel)];this.errorDialog.setButtons([this.getLocaleString("Ok_txt")]);this.errorDialog.callbacks=[dojo.hitch(this,function(){this.errorDialog.hide();})];},_createNumericFormatRegex:function(_cfd){return new RegExp(_cfd,"g");},setDecimalSeparator:function(s){this._numericFormatRegex=this._createNumericFormatRegex("[^0-9"+s+"]");},onCancel:function(){this.cancel();},_localize:function(){this.inherited(arguments);var _cfe=this.getLocaleString("filterDialogDecimalSeparator");if(_cfe!==undefined&&_cfe!=="filterDialogDecimalSeparator"){this.setDecimalSeparator(_cfe);}this.typePicklistSpan.innerHTML=this.getLocaleString("filterDialogTypePicklistSpan_content");this.typeMatchSpan.innerHTML=this.getLocaleString("filterDialogTypeMatchSpan_content");this.typeDateRangeSpan.innerHTML=this.getLocaleString("filterDialogTypeDateRangeSpan_content");this.picklistHeadingSpan.innerHTML=this.getLocaleString("filterDialogPicklistHeadingSpan_content");this.picklistFindButton.innerHTML=this.getLocaleString("filterDialogFindButton_content");this.picklistAddSelected.title=this.getLocaleString("filterDialogAddSelected_title");this.picklistRemoveSelected.title=this.getLocaleString("filterDialogRemoveSelected_title");this.picklistAddAll.title=this.getLocaleString("filterDialogAddAll_title");this.picklistRemoveAll.title=this.getLocaleString("filterDialogRemoveAll_title");this.parameterNameLabel.innerHTML=this.getLocaleString("filterDialogParameterName_content");this.typePicklistCombinationTypeLinksIncludeLink.innerHTML=this.getLocaleString("filterDialogTypePicklistCombinationTypeLinksIncludeLink_content");this.typePicklistCombinationTypeLinksExcludeLink.innerHTML=this.getLocaleString("filterDialogTypePicklistCombinationTypeLinksExcludeLink_content");this.picklistCombinationTypeIncludeOption.text=this.getLocaleString("filterDialogTypePicklistCombinationTypeIncluded_content");this.picklistCombinationTypeExcludeOption.text=this.getLocaleString("filterDialogTypePicklistCombinationTypeExcluded_content");this.picklistCombinationTypeSpan.innerHTML=this.getLocaleString("filterDialogTypePicklistCombinationType_label");this.matchFieldName.innerHTML=this.getLocaleString("filterDialogFieldName_content");this.dateRangeFieldName.innerHTML=this.getLocaleString("filterDialogFieldName_content");this.dateRangeBetweenSeparatorSpan.innerHTML=this.getLocaleString("dateRangeBetweenSeparatorSpan_content");this.fieldPicklistSpan.innerHTML=this.getLocaleString("filterDialogFieldPicklistSpan_content");},_filterTypeChanged:function(_cff){this.setFilterType(_cff.target.value);},configureFor:function(_d00){this.currentFilter=_d00;this.currentColumn=this.datasource.getColumnById(this.currentFilter.column);this.title=this.getLocaleString("FilterDialogTitle")+" "+this.currentColumn.name;this.picklistLoaded=false;this.configureFilterTypesFor(this.currentColumn.dataType);if(this.currentColumn.dataType===pentaho.pda.Column.DATA_TYPES.STRING&&(this.currentFilter.combinationType!=pentaho.pda.Column.OPERATOR_TYPES.AND||(dojo.isArray(this.currentFilter.value)&&this.currentFilter.value.length>1))){this.setFilterType("PICKLIST");}else{this.setFilterType("MATCH");}this._initParameterUI();},registerPreSaveCallback:function(f){this._preSaveCallback=f;},registerReauthenticateCallback:function(f){this._reauthenticateCallback=f;},registerOnSuccessCallback:function(f){this._onSuccessCallback=f;},registerOnCancelCallback:function(f){this._onCancelCallback=f;},setDatasource:function(_d01){this.datasource=_d01;},setSearchListLimit:function(_d02){this.searchListLimit=_d02;},enableFieldSelection:function(_d03){if(_d03){dojo.removeClass(this.fieldPicklistContainer,"filterDialogHidden");this.configureFilterTypesFor(null);this.setFilterType(null);this.title=this.getLocaleString("FilterDialogTitle");}else{dojo.addClass(this.fieldPicklistContainer,"filterDialogHidden");}},setFieldList:function(_d04){this.picklistFields.length=0;this.fieldList=_d04;var list=this.picklistFields;var opt=new Option("");list.options[0]=opt;for(var idx=0;idx<_d04.length;idx++){opt=new Option(_d04[idx].name,_d04[idx].id);list.options[list.length]=opt;}},_fieldChanged:function(){var idx=this.picklistFields.selectedIndex;var _d05=this.fieldList[idx-1];this.configureFilterTypesFor(null);this.setFilterType(null);var _d06={"column":_d05.id,"value":null,"combinationType":pentaho.pda.Column.OPERATOR_TYPES.AND,"operator":pentaho.pda.Column.CONDITION_TYPES.EQUAL};this.title=this.getLocaleString("FilterDialogTitle")+" "+_d05.name;this.setTitle(this.title);_d06.value=[];this.configureFor(_d06);},configureFilterTypesFor:function(_d07){switch(_d07){case null:dojo.addClass(this.typePicklistContainer,"filterDialogHidden");dojo.addClass(this.typeMatchContainer,"filterDialogHidden");dojo.addClass(this.typeDateRangeContainer,"filterDialogHidden");break;case pentaho.pda.Column.DATA_TYPES.UNKNOWN:case pentaho.pda.Column.DATA_TYPES.STRING:dojo.removeClass(this.typePicklistContainer,"filterDialogHidden");dojo.removeClass(this.typeMatchContainer,"filterDialogHidden");dojo.addClass(this.typeDateRangeContainer,"filterDialogHidden");break;case pentaho.pda.Column.DATA_TYPES.NUMERIC:case pentaho.pda.Column.DATA_TYPES.DATE:dojo.addClass(this.typePicklistContainer,"filterDialogHidden");dojo.removeClass(this.typeMatchContainer,"filterDialogHidden");dojo.addClass(this.typeDateRangeContainer,"filterDialogHidden");break;case pentaho.pda.Column.DATA_TYPES.BOOLEAN:dojo.addClass(this.typePicklistContainer,"filterDialogHidden");dojo.addClass(this.typeMatchContainer,"filterDialogHidden");dojo.addClass(this.typeDateRangeContainer,"filterDialogHidden");break;default:this.showErrorDialog(this.getLocaleString("filterDialogUnknownDataType")+_d07);dojo.addClass(this.typePicklistContainer,"filterDialogHidden");dojo.addClass(this.typeMatchContainer,"filterDialogHidden");dojo.addClass(this.typeDateRangeContainer,"filterDialogHidden");}},setFilterType:function(type){switch(type){case null:dojo.addClass(this.picklistContainer,"filterDialogHidden");dojo.addClass(this.matchContainer,"filterDialogHidden");dojo.addClass(this.dateRangeContainer,"filterDialogHidden");break;case "PICKLIST":dojo.attr(this.typePicklistInput,"checked",true);dojo.removeClass(this.picklistContainer,"filterDialogHidden");dojo.addClass(this.matchContainer,"filterDialogHidden");dojo.addClass(this.dateRangeContainer,"filterDialogHidden");this._configurePicklistContainer();break;case "MATCH":dojo.attr(this.typeMatchInput,"checked",true);dojo.addClass(this.picklistContainer,"filterDialogHidden");dojo.removeClass(this.matchContainer,"filterDialogHidden");dojo.addClass(this.dateRangeContainer,"filterDialogHidden");this._configureMatchContainer();break;default:console.log("Unknown filter type: "+type);return;}this.filterType=type;},_initParameterUI:function(){if(this.currentFilter.parameterName){this.parameterNameInput.set("value",this.currentFilter.parameterName);}else{this.parameterNameInput.set("value","");}},save:function(){if(this._preSaveCallback){this._preSaveCallback.call(this,this,this.currentFilter,this._save.bind(this));}else{this._save();}},_save:function(){switch(this.filterType){case "PICKLIST":if(!this._savePicklistContainer()){return false;}break;case "MATCH":if(!this._saveMatchContainer()){return false;}break;default:console.log("Unknown filter type: "+type);return;}this._scrubFilterValues(this.currentFilter);var _d08=this.getParameterName();if(_d08){this.currentFilter.parameterName=_d08;}else{this.currentFilter.parameterName=null;}if(this._onSuccessCallback){try{this._onSuccessCallback(this.currentFilter);}catch(e){console.warn("Error in onSuccessCallback of Filter Dialog: "+e);}}this.hide();return true;},getParameterName:function(){var _d09=this.parameterNameInput.get("value");if(_d09){_d09=dojo.trim(_d09).replace(/[^a-zA-Z0-9 ]/g,"");}return _d09.length>0?_d09:undefined;},cancel:function(){if(this._onCancelCallback){try{this._onCancelCallback(this.currentFilter);}catch(e){console.warn("Error in onCancelCallback of Filter Dialog: "+e);}}this.hide();},_configurePicklistContainer:function(){dojo.empty(this.picklistUsedValues.domNode);dojo.attr(this.picklistCombinationType,"value",this.currentFilter.combinationType);var _d0a=dojo.isArray(this.currentFilter.value)?this.currentFilter.value:[this.currentFilter.value];var idx=0;dojo.forEach(_d0a,function(_d0b){if(_d0b!=null){this.containerNode.options[idx++]=new Option(_d0b,_d0b);}},this.picklistUsedValues);if(this.picklistLoaded!=true){this.picklistFindInput.set("value","");this.filterPicklist("");}},_flagPicklistAvailableValuesLoading:function(){dojo.empty(this.picklistAvailableValues.domNode);var _d0c=this.getLocaleString("filterDialogPicklistLoadingMessage");this.picklistAvailableValues.containerNode.options[0]=new Option(_d0c,_d0c);},_updatePicklistAvailableValues:function(_d0d){dojo.empty(this.picklistAvailableValues.domNode);var sel=this.picklistAvailableValues.domNode;dojo.forEach(_d0d,function(_d0e,idx){this.containerNode.options[idx]=new Option(_d0e,_d0e);},this.picklistAvailableValues);this.picklistLoaded=true;},_picklistAddSelected:function(){dojo.forEach(this.picklistAvailableValues.getSelected(),function(_d0f){var _d10=false;dojo.some(this.domNode.options,function(_d11){if(_d11.value===_d0f.value){_d10=true;return true;}});if(!_d10){this.containerNode.appendChild(dojo.clone(_d0f));}},this.picklistUsedValues);},_picklistRemoveSelected:function(){dojo.forEach(this.picklistUsedValues.getSelected(),function(_d12){this.containerNode.removeChild(_d12);},this.picklistUsedValues);},_picklistAddAll:function(){this._picklistRemoveAll();dojo.forEach(this.picklistAvailableValues.containerNode.options,function(_d13){this.containerNode.appendChild(dojo.clone(_d13));},this.picklistUsedValues);},_picklistRemoveAll:function(){dojo.empty(this.picklistUsedValues.domNode);},_savePicklistContainer:function(){var _d14=[];dojo.forEach(this.picklistUsedValues.domNode.options,function(_d15){_d14.push(_d15.value);});if(_d14.length==0){this.showErrorDialog(this.getLocaleString("filterDialogMissingValueError_title"),this.getLocaleString("filterDialogMissingValueError_message"));return false;}this.currentFilter.operator=pentaho.pda.Column.CONDITION_TYPES.EQUAL;this.currentFilter.value=_d14;this.currentFilter.combinationType=dojo.attr(this.picklistCombinationType,"value");return true;},_picklistFindKeyPressed:function(_d16){if(_d16.keyCode===dojo.keys.ENTER){this._filterPicklistByFindInput();}},_filterPicklistByFindInput:function(){var _d17=this.picklistFindInput.get("value");if(this.oldPicklistFindValue!==_d17){this.filterPicklist(_d17);this.oldPicklistFindValue=_d17;}},filterPicklist:function(_d18){this._flagPicklistAvailableValuesLoading();this.datasource.searchColumn(this.currentColumn,_d18,this.searchListLimit,dojo.hitch(this,function(_d19){this._updatePicklistAvailableValues(_d19==null?[]:_d19.resultset);if(_d19==null&&this._reauthenticateCallback){this._reauthenticateCallback(dojo.hitch(this,function(){this.filterPicklist(_d18);}));}}));},_setPicklistCombinationTypeLink:function(_d1a){if(this.filterType!="PICKLIST"){this.setFilterType("PICKLIST");}dojo.attr(this.picklistCombinationType,"value",_d1a);},_isDateType:function(){return this.currentColumn.dataType===pentaho.pda.Column.DATA_TYPES.DATE;},_matchComparatorChanged:function(){var node=this._isDateType()?this.matchValueInputDate.domNode:this.matchValueInput;if(this._matchOperatorRequiresValue()){dojo.removeClass(node,"filterDialogHidden");}else{dojo.addClass(node,"filterDialogHidden");}},_matchOperatorRequiresValue:function(){return pentaho.pda.Column.SINGLE_COMPARATORS[this.matchComparator.value]==undefined;},_configureMatchContainer:function(){this.matchFieldName.innerHTML=this.currentColumn.name;var _d1b=dojo.isArray(this.currentFilter.value)?this.currentFilter.value[0]:null;switch(this.currentColumn.dataType){case pentaho.pda.Column.DATA_TYPES.DATE:this.matchValueInputDate.setValue(dojo.date.stamp.fromISOString(_d1b));dojo.removeClass(this.matchValueInputDate.domNode,"filterDialogHidden");dojo.addClass(this.matchValueInput,"filterDialogHidden");break;case pentaho.pda.Column.DATA_TYPES.NUMERIC:var _d1b="";dojo.forEach(this.currentFilter.value,function(val){if(val.length>0){if(_d1b.length>0){_d1b+="|";}_d1b+=val;}});this.matchValueInput.value=_d1b;dojo.removeClass(this.matchValueInput,"filterDialogHidden");dojo.addClass(this.matchValueInputDate.domNode,"filterDialogHidden");break;default:this.matchValueInput.value=_d1b==null?"":_d1b;dojo.removeClass(this.matchValueInput,"filterDialogHidden");dojo.addClass(this.matchValueInputDate.domNode,"filterDialogHidden");break;}dojo.empty(this.matchAggType);dojo.forEach(this.currentColumn.availableAggregations,function(_d1c,idx){this.options[idx]=new Option(pentaho.pda.Column.AGG_TYPES_STRINGS[_d1c],_d1c);},this.matchAggType);if(this.currentFilter.selectedAggType){this.matchAggType.value=this.currentFilter.selectedAggType;}dojo.empty(this.matchComparator);var _d1d=this.currentColumn.dataType===pentaho.pda.Column.DATA_TYPES.UNKNOWN?pentaho.pda.Column.DATA_TYPES.STRING:this.currentColumn.dataType;dojo.forEach(pentaho.pda.Column.COMPARATOR[_d1d],function(_d1e,idx){this.options[idx]=new Option(_d1e[0],_d1e[1]);},this.matchComparator);this.matchComparator.value=this.currentFilter.operator;this._matchComparatorChanged();},_saveMatchContainer:function(){this.currentFilter.operator=this.matchComparator.value;this.currentFilter.selectedAggType=this.matchAggType.value;this.currentFilter.combinationType=pentaho.pda.Column.OPERATOR_TYPES.AND;if(!this._matchOperatorRequiresValue()){this.currentFilter.value=[""];}else{switch(this.currentColumn.dataType){case pentaho.pda.Column.DATA_TYPES.DATE:var date=this.matchValueInputDate.getValue();if(date==null){this.currentFilter.value=[""];}else{this.currentFilter.value=[dojo.date.stamp.toISOString(date,{selector:"date"})];}break;case pentaho.pda.Column.DATA_TYPES.NUMERIC:if(this.currentFilter.operator===pentaho.pda.Column.CONDITION_TYPES.EQUAL){var _d1f=[];dojo.forEach(this.matchValueInput.value.split("|"),function(val){var v=this._scrubNumericValue(val);if(v&&v!==""){_d1f.push(v);}},this);this.currentFilter.value=_d1f;}else{if(this.matchValueInput.value.indexOf("|")>0){this.showErrorDialog(this.getLocaleString("filterDialogMissingValueError_title"),this.getLocaleString("filterDialogInvalidNumericError_message"));return false;}this.currentFilter.value=[this._scrubNumericValue(this.matchValueInput.value)];}break;default:this.currentFilter.value=[this.matchValueInput.value];break;}var _d20=false;dojo.some(this.currentFilter.value,function(val){if(val!==""){_d20=true;return false;}});if(!_d20){this.showErrorDialog(this.getLocaleString("filterDialogMissingValueError_title"),this.getLocaleString("filterDialogMissingValueError_message"));return false;}}return true;},_scrubNumericValue:function(val){return dojo.trim(val).replace(this._numericFormatRegex,"");},_scrubFilterValues:function(_d21){_d21.value=dojo.map(_d21.value,function(_d22){return _d22.replace(/["]/g,"");});},_configureDateRangeContainer:function(){this.dateRangeFieldName.innerHTML=this.currentColumn.name;this.dateRangeValueInputDate1.value=dojo.date.stamp.fromISOString(this.currentFilter.value);this.dateRangeValueInputDate2.value=null;},_dateRangeComparatorChanged:function(){console.log("_dateRangeComparatorChanged() Not yet implemented");},buildFilterText:function(_d23,_d24){var _d25=this.datasource.getColumnById(_d23.column);var _d26=_d23.operator;if(_d23.combinationType!=pentaho.pda.Column.OPERATOR_TYPES.AND||(_d23.operator==pentaho.pda.Column.CONDITION_TYPES.EQUAL&&dojo.isArray(_d23.value)&&_d23.value.length>1)){switch(_d23.combinationType){case pentaho.pda.Column.OPERATOR_TYPES.AND:_d26=this.getLocaleString("FilterCombinationTypeIn");break;case pentaho.pda.Column.OPERATOR_TYPES.AND_NOT:_d26=this.getLocaleString("FilterCombinationTypeNotIn");break;default:console.log("Unknown filter combination type for IN condition type: "+_d23.combinationType);}}else{var _d27=_d25.dataType==pentaho.pda.Column.DATA_TYPES.UNKNOWN?pentaho.pda.Column.DATA_TYPES.STRING:_d25.dataType;var _d28=pentaho.pda.Column.COMPARATOR[_d27];if(_d28){dojo.some(_d28,function(_d29){if(_d29[1]===_d23.operator){_d26=_d29[0];return true;}});}}var _d2a="";var _d2b=" ";if(_d23.selectedAggType){_d2b=" ("+pentaho.pda.Column.AGG_TYPES_STRINGS[_d23.selectedAggType]+") ";}if(_d24){_d2a=this.getLocaleString("FilterTextValueFromPrompt",_d23.parameterName);}else{if(_d23.value!=undefined){if(_d23.value.length>10){_d2a=_d23.value.length+" values";}else{dojo.forEach(_d23.value,function(_d2c){if(_d2a.length>0){_d2a+=", ";}_d2a+=dojox.html.entities.encode(_d2c);},this);}}}return _d25.name+_d2b+_d26+" "+_d2a;},showErrorDialog:function(_d2d){showErrorDialog(this.getLocaleString("ErrorDialog_title"),_d2d);},showErrorDialog:function(_d2e,_d2f){this.errorDialog.setTitle(_d2e);this.errorDialog.setMessage(_d2f);this.errorDialog.show();}});}if(!dojo._hasResource["pentaho.common.FilterIndicator"]){dojo._hasResource["pentaho.common.FilterIndicator"]=true;dojo.provide("pentaho.common.FilterIndicator");dojo.declare("pentaho.common.FilterIndicator",[dijit._Widget,dijit._Templated],{templateString:"<div dojoAttachPoint=\"containerNode\" class=\"hidden cursorPointer filterToolbarIndicator\"></div>",backgroundClassPrefix:"filterIndicatorBackground_",backgroundClassOverflow:"9_plus",min:1,max:9,currentBackgroundClass:undefined,toolbarButton:undefined,anchorElement:undefined,defaultOffsets:{top:0,left:0,bottom:0,right:0},offsets:this.defaultOffsets,configure:function(_d30,_d31){this.setToolbarButton(_d30);this.setAnchorElement(_d30.domNode);this.setOffsets(_d31);this._connectToToolbarButton();this._updatePosition();},setToolbarButton:function(_d32){this.toolbarButton=_d32;},setOffsets:function(_d33){this.offsets=_d33?_d33:defaultOffsets;},setAnchorElement:function(e){this.anchorElement=e;},_connectToToolbarButton:function(){dojo.connect(this.containerNode,"onclick",this,function(_d34){this.toolbarButton._onButtonClick(_d34);dojo.stopEvent(_d34);});dojo.connect(this.containerNode,"onmouseover",this,function(){this.toolbarButton._set("hovering",true);});dojo.connect(this.containerNode,"onmouseout",this,function(){this.toolbarButton._set("hovering",false);this.toolbarButton._set("active",false);});dojo.connect(this.containerNode,"onmousedown",this,function(){this.toolbarButton._set("hovering",true);this.toolbarButton._set("active",true);});dojo.connect(this.containerNode,"onmouseup",this,function(){this.toolbarButton._set("hovering",true);this.toolbarButton._set("active",false);});},_updatePosition:function(){if(!this.anchorElement){this.hide();return;}var c=dojo.coords(this.anchorElement);var left=c.x+this.offsets.left;var top=c.y+this.offsets.top;dojo.style(this.containerNode,"left",left+"px");dojo.style(this.containerNode,"top",top+"px");},update:function(_d35){if(!_d35||_d35<this.min){this.hide();}else{if(_d35<=this.max){this.changeBackground(this.backgroundClassPrefix+_d35);}else{this.changeBackground(this.backgroundClassPrefix+this.backgroundClassOverflow);}}this._updatePosition();},show:function(){dojo.removeClass(this.containerNode,"hidden");},hide:function(){dojo.addClass(this.containerNode,"hidden");},changeBackground:function(_d36){if(this.currentBackgroundClass!==_d36){dojo.addClass(this.containerNode,_d36);if(this.currentBackgroundClass){dojo.removeClass(this.containerNode,this.currentBackgroundClass);}this.currentBackgroundClass=_d36;}this.show();}});}if(!dojo._hasResource["pentaho.common.GlassPane"]){dojo._hasResource["pentaho.common.GlassPane"]=true;dojo.provide("pentaho.common.GlassPane");dojo.declare("pentaho.common.GlassPane",[dijit._Widget],{_glassPaneDiv:null,create:function(_d37,_d38){this.inherited(arguments);this._glassPaneDiv=dojo.create("div",{id:"glasspane",className:"glasspane"});document.body.appendChild(this._glassPaneDiv);},show:function(){dojo.style(this._glassPaneDiv,"display","block");},hide:function(){dojo.style(this._glassPaneDiv,"display","none");}});}if(!dojo._hasResource["pentaho.common.MenuItem"]){dojo._hasResource["pentaho.common.MenuItem"]=true;dojo.provide("pentaho.common.MenuItem");dojo.declare("pentaho.common.MenuItem",[dijit.MenuItem],{baseClass:"pentaho-menuitem",templateString:dojo.cache("pentaho.common","MenuItem.html","<tr class=\"dijitReset pentaho-menuitem\" dojoAttachPoint=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"pentaho-checkmenuitem\" dojoAttachPoint=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset pentaho-menuitem-label\" colspan=\"2\" dojoAttachPoint=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div dojoAttachPoint=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n"),_setSelected:function(_d39){if(!this.disabled){dojo.toggleClass(this.domNode,"pentaho-menuitem-hover",_d39);}},setDisabled:function(_d3a){this.set("disabled",_d3a);dojo.toggleClass(this.domNode,"pentaho-menuitem-disabled",_d3a);},_setDisabledAttr:function(_d3b){dijit.setWaiState(this.focusNode,"disabled",_d3b?"true":"false");this._set("disabled",_d3b);dojo.toggleClass(this.domNode,"pentaho-menuitem-disabled",_d3b);},_onHover:function(){this.getParent().onItemHover(this);if(!this.disabled){dojo.addClass(this.domNode,"pentaho-menuitem-hover");}},_onUnhover:function(){this.getParent().onItemUnhover(this);this._set("hovering",false);if(!this.disabled){dojo.removeClass(this.domNode,"pentaho-menuitem-hover");}}});}if(!dojo._hasResource["pentaho.common.Overrides"]){dojo._hasResource["pentaho.common.Overrides"]=true;dojo.provide("pentaho.common.Overrides");dojo.extend(dijit.layout.TabContainer,{baseClass:"pentahoTabContainer"});dojo.extend(dijit.DialogUnderlay,{templateString:"<div class='glasspane'><div class='' dojoAttachPoint='node'></div></div>",_setClassAttr:function(_d3c){this.node.className=_d3c;this._set("class",_d3c);}});dojo.extend(dijit.layout._TabButton,{baseClass:"pentaho-tabWidget"});dojo.dnd.autoScroll=function(e){};dojo.dnd.autoScrollNodes=function(e){for(var n=e.target;n;){if((!n.getAttribute||!n.getAttribute("preventAutoScroll")||n.getAttribute("preventAutoScroll")=="false")&&n.nodeType==1&&(n.tagName.toLowerCase() in dojo.dnd._validNodes)){var s=dojo.getComputedStyle(n);if(s.overflow.toLowerCase() in dojo.dnd._validOverflow){var b=dojo._getContentBox(n,s),t=dojo.position(n,true);var w=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,b.w/2),h=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,b.h/2),rx=e.pageX-t.x,ry=e.pageY-t.y,dx=0,dy=0;if(dojo.isWebKit||dojo.isOpera){rx+=dojo.body().scrollLeft;ry+=dojo.body().scrollTop;}if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}}if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}}var _d3d=n.scrollLeft,_d3e=n.scrollTop;n.scrollLeft=n.scrollLeft+dx;n.scrollTop=n.scrollTop+dy;if(_d3d!=n.scrollLeft||_d3e!=n.scrollTop){return;}}}try{n=n.parentNode;}catch(x){n=null;}}dojo.dnd.autoScroll(e);};}if(!dojo._hasResource["pentaho.common.PopupMenuItem"]){dojo._hasResource["pentaho.common.PopupMenuItem"]=true;dojo.provide("pentaho.common.PopupMenuItem");dojo.declare("pentaho.common.PopupMenuItem",[dijit.PopupMenuItem,pentaho.common.MenuItem],{baseClass:"pentaho-menuitem",_setSelected:function(_d3f){if(!this.disabled){dojo.toggleClass(this.domNode,"pentaho-menuitem-hover",_d3f);}}});}if(!dojo._hasResource["pentaho.common.SectionHeader"]){dojo._hasResource["pentaho.common.SectionHeader"]=true;dojo.provide("pentaho.common.SectionHeader");dojo.declare("pentaho.common.SectionHeader",[dijit._Widget,dijit._Templated],{title:"",header:"header",buttonTypes:"",headerButtons:[],id:"",buttonInfo:[],height:"20px",templateString:"<div dojoAttachPoint=\"outerdiv\" class=\"section-header-outer\">\n    <div class=\"section-header-middle\">\n        <div class=\"pentaho-titled-toolbar section-header-inner pentaho-padding-sm\" style=\"height: ${height}; \">\n            <table dojoAttachPoint=\"table\" style=\"padding:0px; margin:0px; width:100%; height:100%\">\n                <tr>\n                    <td style=\"width:100%\">\n                        <span id=\"fieldsortinglbl\" class=\"label\">${header}</span>\n                    </td>\n                </tr>\n            </table>\n        </div>\n    </div>\n</div>\n",postMixInProperties:function(){this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(this.buttonTypes&&this.buttonTypes.length>0){var list=this.buttonTypes.split(",");var _d40=[];for(var idx=0;idx<list.length;idx++){var info={baseClass:list[idx],id:""+this.id+"-button-"+idx,title:"",callback:dojo.hitch(this,this.buttonClick,idx)};_d40.push(info);}this.setButtons(_d40);}},setButtons:function(_d41){this.buttonInfo=_d41;this.headerButtons=[];for(var idx=0;idx<_d41.length;idx++){var _d42=new pentaho.common.SmallImageButton(_d41[idx]);this.headerButtons.push(_d42);var cell=this.table.rows[0].insertCell(-1);cell.appendChild(_d42.domNode);}},buttonClick:function(idx){if(this.callbacks&&idx<this.callbacks.length){this.callbacks[idx](this.headerButtons[idx].id);}}});}if(!dojo._hasResource["pentaho.common.SplashScreen"]){dojo._hasResource["pentaho.common.SplashScreen"]=true;dojo.provide("pentaho.common.SplashScreen");dojo.declare("pentaho.common.SplashScreen",[pentaho.common.Dialog],{buttons:["ok"],imagePath:"",hasTitleBar:false,setTitle:function(_d43){this.splashtitle.innerHTML=_d43;},setText:function(text){this.splashmessage.innerHTML=text;},setButtonText:function(text){this.buttons[0]=text;dojo.query("#button"+0,this.domNode).innerHTML=text;},templateString:"<table class=\"splash-content\" style=\"width:100%\" onkeyup=\"\">\n    <tr>\n        <td>\n            <img dojoAttachPoint=\"splashimg\" src=\"${imagePath}\" class=\"splashimage\"></img>\n        </td>\n        <td style=\"vertical-align:top\">\n            <table>\n                <tr>\n                    <td dojoAttachPoint=\"splashtitle\" class=\"splashtitle\">\n                    </td>\n                </tr>\n                <tr>\n                    <td dojoAttachPoint=\"splashmessage\" class=\"splashtext label\">\n                    </td>\n                </tr>\n            </table>\n        </td>\n    </tr>\n</table>\n            \n",postCreate:function(){this.inherited(arguments);}});}if(!dojo._hasResource["pentaho.common.TemplatePicker"]){dojo._hasResource["pentaho.common.TemplatePicker"]=true;dojo.provide("pentaho.common.TemplatePicker");dojo.declare("pentaho.common.TemplatePicker",[pentaho.common.Dialog],{buttons:[],templates:[],pageNo:0,hasTitleBar:false,hasBorder:false,templateSelectedCallback:null,updatePageArrows:function(){this.prevSetBtn.set("disabled",this.pageNo==0);this.nextSetBtn.set("disabled",(this.pageNo+1)*6>=this.templates.length);},setTemplates:function(_d44){this.templates=_d44;this.showPage();this.updatePageArrows();},showPage:function(){var _d45=this.pageNo*6;for(var idx=0;idx<6;idx++){if(idx+_d45<this.templates.length){this["templateImg"+idx].src=this.templates[idx+_d45].imagePath;this["templateName"+idx].innerHTML=this.templates[idx+_d45].name;dojo.removeClass(this["templateImg"+idx],"hidden");dojo.addClass(this["templateName"+idx],"fade");}else{dojo.addClass(this["templateImg"+idx],"hidden");dojo.removeClass(this["templateName"+idx],"fade");this["templateName"+idx].innerHTML="";}}this.updatePageArrows();},templateString:"<div style=\"overflow:auto; width:868px; height: 590px\">\n    <div style=\"position:absolute; left: 0px; top: 0px; width:100%; z-index: 1200\">\n        <table style=\"width:100%\" border=\"0\">\n            <tr>\n                <td style=\"text-align:right\">\n                    <div dojoAttachPoint=\"closeBtn\" dojoType=\"pentaho.common.SmallImageButton\" baseClass=\"pentaho-closebutton-big\">\n                    </div>\n                </td>\n            </tr>\n        </table>\n    </div>\n    <div style=\"z-index: 1100; position:absolute; left: 0px; top: 0px; width:100%; height:100% padding-top:0px; padding-right:0px;\">\n        <div style=\"widthx:100%; heightx:100%; padding-top:15px; padding-right:15px;\">\n            <div style=\"widthx:100%;\" class=\"pentaho-selection-dialog-outer\" style=\" padding-right:2px; \" >\n                <table class=\"pentaho-selection-dialog-inner\" style=\"widthx:100%; height: 570px;\" >\n                    <tr>\n                        <td>\n                            <div dojoAttachPoint=\"prevSetBtn\" dojoType=\"pentaho.common.SmallImageButton\" baseClass=\"pentaho-left-lgbutton\">\n                            </div>                            \n                        </td>\n                        <td>\n                            <div style=\"overflow:auto; width:100%; height: 100%\">\n                                <table dojoAttachPoint=\"templateListTbl\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" style=\"width:100%\">\n                                    <tbody>\n                                        <tr>\n                                            <td style=\"width:260px;heightx:250px;text-align:center\">\n                                                <img dojoAttachPoint=\"templateImg0\" idx=\"0\" class=\"handpointer templatePickerImg\" />\n                                            </td>\n                                            <td style=\"width:260px;heightx:250px;text-align:center\">\n                                                <img dojoAttachPoint=\"templateImg1\" idx=\"1\" class=\"handpointer templatePickerImg\" />                                        \n                                             </td>\n                                            <td style=\"width:260px;heightx:250px;text-align:center\">\n                                                <img dojoAttachPoint=\"templateImg2\" idx=\"2\" class=\"handpointer templatePickerImg\" />                                        \n                                            </td>\n                                        </tr>\n                                        <tr>\n                                            <td dojoAttachPoint=\"templateName0\" idx=\"0\" class=\"contrast-color fade\" style=\"height:50px;text-align:center\"></td>\n                                            <td dojoAttachPoint=\"templateName1\" idx=\"1\" class=\"contrast-color fade\" style=\"height:50px;text-align:center\"></td>\n                                            <td dojoAttachPoint=\"templateName2\" idx=\"2\" class=\"contrast-color fade\" style=\"height:50px;text-align:center\"></td>\n                                        </tr>\n                                        <tr>\n                                            <td style=\"width:260px;heightx:250px;text-align:center\">\n                                                <img dojoAttachPoint=\"templateImg3\" idx=\"3\" class=\"handpointer templatePickerImg\" />                                        \n                                            </td>\n                                            <td style=\"width:260px;heightx:250px;text-align:center\">\n                                                <img dojoAttachPoint=\"templateImg4\" idx=\"4\" class=\"handpointer templatePickerImg\" />                                        \n                                            </td>\n                                            <td style=\"width:260px;heightx:250px;text-align:center\">\n                                                <img dojoAttachPoint=\"templateImg5\" idx=\"5\" class=\"handpointer templatePickerImg\" />                                        \n                                            </td>\n                                        </tr>\n                                        <tr>\n                                            <td dojoAttachPoint=\"templateName3\" idx=\"3\" class=\"contrast-color fade\" style=\"height:33px;text-align:center\"></td>\n                                            <td dojoAttachPoint=\"templateName4\" idx=\"4\" class=\"contrast-color fade\" style=\"height:33px;text-align:center\"></td>\n                                            <td dojoAttachPoint=\"templateName5\" idx=\"5\" class=\"contrast-color fade\" style=\"height:33px;text-align:center\"></td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n                        </td>\n                        <td>\n                            <div dojoAttachPoint=\"nextSetBtn\" dojoType=\"pentaho.common.SmallImageButton\" baseClass=\"pentaho-right-lgbutton\">\n                            </div>                            \n                        </td>\n                    </tr>\n                </table>\n            </div>\n        </div>\n\t</div>\n</div>\n            \n",postCreate:function(){this.inherited(arguments);this.closeBtn.callback=dojo.hitch(this,this.closeClick);this.prevSetBtn.callback=dojo.hitch(this,this.prevPage);this.nextSetBtn.callback=dojo.hitch(this,this.nextPage);dojo.connect(this.templateImg0,"onclick",this,"imgClick");dojo.connect(this.templateImg1,"onclick",this,"imgClick");dojo.connect(this.templateImg2,"onclick",this,"imgClick");dojo.connect(this.templateImg3,"onclick",this,"imgClick");dojo.connect(this.templateImg4,"onclick",this,"imgClick");dojo.connect(this.templateImg5,"onclick",this,"imgClick");dojo.connect(this.templateName0,"onclick",this,"imgClick");dojo.connect(this.templateName1,"onclick",this,"imgClick");dojo.connect(this.templateName2,"onclick",this,"imgClick");dojo.connect(this.templateName3,"onclick",this,"imgClick");dojo.connect(this.templateName4,"onclick",this,"imgClick");dojo.connect(this.templateName5,"onclick",this,"imgClick");},imgClick:function(_d46){var idx=parseInt(dojo.attr(_d46.target,"idx"));var idx=this.pageNo*6+idx;if(this.templateSelectedCallback){this.templateSelectedCallback(idx);}},closeClick:function(){this.buttonClick(0);},prevPage:function(){if(this.pageNo==0){return;}this.pageNo--;this.showPage();},nextPage:function(){if((this.pageNo+1)*6>=this.templates.length){return;}this.pageNo++;this.showPage();}});}if(!dojo._hasResource["pentaho.common.ToggleButton"]){dojo._hasResource["pentaho.common.ToggleButton"]=true;dojo.provide("pentaho.common.ToggleButton");dojo.declare("pentaho.common.ToggleButton",[dijit._Widget,dijit._Templated],{title:"",label:"button",width:"80px",templateString:dojo.cache("pentaho.common","ToggleButton.html","<div dojoAttachPoint=\"outerNode\" class=\"pentaho-toggle-button pentaho-toggle-button-up\" style=\"width:${width}\" role=\"button\" \n    title=\"${title}\" \n    dojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\"\n    >\n    <div class=\"html-face\" dojoAttachPoint=\"innerNode\" \n        dojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover\"\n    >${label}</div>\n</div>\n"),checked:false,hover:false,disabled:false,onChange:null,set:function(_d47,_d48){if(_d47=="label"){this.innerNode.innerHTML=_d48;}else{if(_d47=="checked"){this._setChecked(_d48);}else{if(_d47=="disabled"){this._setDisabled(_d48);}}}},_setChecked:function(_d49){this.checked=_d49;if(this.hover){this._onHover();}},_setDisabled:function(_d4a){this.disabled=_d4a;if(this.disabled){if(this.checked){this.outerNode.className="pentaho-toggle-button pentaho-toggle-button-down pentaho-toggle-button-down-disabled";}else{this.outerNode.className="pentaho-toggle-button pentaho-toggle-button-up pentaho-toggle-button-up-disabled";}}else{if(this.hover){this._onHover();}else{this._onUnhover();}}},_onHover:function(){this.hover=true;if(this.disabled){return;}if(this.checked){this.outerNode.className="pentaho-toggle-button pentaho-toggle-button-down pentaho-toggle-button-down-hovering";}else{this.outerNode.className="pentaho-toggle-button pentaho-toggle-button-up pentaho-toggle-button-up-hovering";}},_onUnhover:function(){this.hover=false;if(this.disabled){return;}if(this.checked){this.outerNode.className="pentaho-toggle-button pentaho-toggle-button-down";}else{this.outerNode.className="pentaho-toggle-button pentaho-toggle-button-up";}},_onClick:function(){this._setChecked(!this.checked);if(this.onChange){this.onChange(this.checked);}}});}if(!dojo._hasResource["pentaho.common.propertiesPanel.Panel"]){dojo._hasResource["pentaho.common.propertiesPanel.Panel"]=true;dojo.provide("pentaho.common.propertiesPanel.Panel");dojo.declare("pentaho.common.propertiesPanel.Panel",[dijit.layout.ContentPane],{captionTemplate:"<div class='caption'><span class='caption-text'>${ui.caption:i18n}&nbsp;&nbsp;</span><img class='captionIcon'/></div>",seperatorTemplate:"<div class='propPanel-seperator'></div>",propUIs:[],groups:{},gutters:false,baseClass:"pentahoPropertiesPanel",minHeightDeviation:0,constructor:function(_d4b){this.configuration=_d4b;},postCreate:function(){dojo.forEach(this.configuration.items,dojo.hitch(this,"initializeItem"));this.inherited(arguments);},resize:function(){this.minHeightDeviation=0;this.inherited(arguments);},initializeItem:function(item){if(item.ui.hidden){return;}var _d4c=pentaho.common.propertiesPanel.Panel.registeredTypes[item.ui.type];if(!_d4c){throw "No Properties Panel UI implementation found for "+item.ui.type;}var _d4d;if(_d4c.create){_d4d=_d4c.create({model:item,propPanel:this});}else{_d4d=new _d4c({model:item,propPanel:this});}var _d4e=this.domNode;var _d4f=item.ui.group;if(_d4f){var _d50=this.groups[_d4f];var _d51=this.configuration.groups[item.ui.group];if(!_d50&&_d51){var _d52=document.createElement("div");var _d53=this;_d50=new dijit.TitlePane({title:pentaho.common.Messages.getString(_d51.title,_d51.title),content:_d52,region:"top",splitter:false});dojo.connect(_d50,"resize",function(){var _d54=dojo.coords(_d53.domNode.children[_d53.domNode.children.length-1]);var _d55=0;var _d56=0;var _d57=0;var _d58=0;for(var g in _d53.groups){_d55++;var gp=_d53.groups[g];var _d59=dojo.coords(gp.titleBarNode).h;_d56+=(gp.open)?_d59+gp.hideNode.scrollHeight:0;if(gp.open){_d58+=(gp.usingMinHeight)?gp.heightAdjustment:0;}else{_d58+=_d59;}}dojo.forEach(_d53.domNode.children,function(node){if(!node.className.match(/dijitTitlePane/)){_d57+=dojo.coords(node).h;}});var _d5a=dojo.coords(_d53.domNode).h;var _d5b=dojo.coords(_d53.domNode).h-_d57-_d58;var _d5c=dojo.coords(_d50.titleBarNode);var _d59=_d5c.h;var _d5d=_d5c.w;if(_d50.open){var _d5e=_d59+_d50.hideNode.scrollHeight;var _d5f=(_d5e/_d56)*_d5b;if(_d5f>_d5e){_d50.hideNode.style.overflow="hidden";_d50.wipeNode.style.width=_d5d+"px";}else{_d50.hideNode.style.overflow="auto";_d50.wipeNode.style.width="";}var _d60=2.2;if(_d5f<_d59*_d60){_d50.usingMinHeight=true;_d50.heightAdjustment=_d59*_d60-_d5f;_d5f=_d59*_d60;}else{_d50.usingMinHeight=false;}if(!isNaN(_d5f)){_d50.domNode.style.height=_d5f+"px";}if(dojo.coords(_d50.domNode).h>0){_d50.hideNode.style.height=Math.min((dojo.coords(_d50.domNode).h-_d59),_d50.hideNode.scrollHeight)+"px";}}else{if(!isNaN(_d59)){_d50.domNode.style.height=_d59+"px";}_d50.usingMinHeight=false;}_d50.domNode.style.width="";});dojo.connect(_d50._wipeOut,"onEnd",function(){_d53.resize();});dojo.connect(_d50._wipeIn,"onEnd",function(){_d53.resize();});this.groups[_d4f]=_d50;this.domNode.appendChild(_d50.domNode);}_d4e=_d50.content;}if(item.ui.seperator){_d4e.appendChild(dojo._toDom(this.seperatorTemplate));}if(item.ui.caption){var cap=dojo._toDom(dojo.string.substitute(this.captionTemplate,item,null,{i18n:function(_d61,key){return pentaho.common.Messages.getString(_d61,_d61);}}));var img=dojo.query("img",cap);img=img[img.length-1];if(item.ui.captionIcon){img.src=item.ui.captionIcon;}else{img.style.display="none";}_d4e.appendChild(cap);}this.setupEventHandling(_d4d);this.propUIs.push(_d4d);this.connect(_d4d,"onUIEvent","onUIEvent");dojo.addClass(_d4d.domNode,"propPanelItem");_d4e.appendChild(_d4d.domNode);this.resize();},onUIEvent:function(type,args){},setupEventHandling:function(ui){this.connect(ui,"onContextMenu",function(e){this.onUIEvent("onContextMenu",{item:ui,args:[ui,e]});});this.connect(ui,"onClick",function(e){this.onUIEvent("onClick",{item:ui,args:[ui,e]});});this.connect(ui,"onDblClick",function(e){this.onUIEvent("onDblClick",{item:ui,args:[ui,e]});});},setConfiguration:function(_d62){this._setConfiguration(new pentaho.common.propertiesPanel.Configuration(_d62));},_setConfiguration:function(_d63){this.propUIs.forEach(function(_d64){_d64.destroyRecursive();});this.propUIs=[];this.groups={};this.domNode.innerHTML="";this.configuration=_d63;this.postCreate();},reload:function(){this._setConfiguration(this.configuration);},set:function(_d65,id,_d66){dojo.forEach(this.propUIs,function(prop){if(prop.model.id==id){prop.model.set(_d65,_d66);}});}});pentaho.common.propertiesPanel.Panel.registeredTypes={};dojo.declare("pentaho.common.propertiesPanel.StatefulUI",[],{constructor:function(_d67){this.model=_d67.model;this.propPanel=_d67.propPanel;var _d68=this;this.model.watch(function(_d69,_d6a,_d6b){switch(_d69){case "value":case "default":_d68.set(_d69,_d6b);break;}});},onUIEvent:function(type,args){}});dojo.declare("pentaho.common.propertiesPanel.GemBarUISource",[dojo.dnd.Source],{constructor:function(node){this.dropIndicator=document.createElement("div");this.dropIndicator.className="indicator";this.dropIndicator.id="propertyPanelIndicator";var line=document.createElement("div");line.className="indicatorLine";this.dropIndicator.appendChild(line);this.dropIndicator.style.display="none";dojo.connect(this.dropIndicator,"onmouseover",this,"_redirectMouseOver");dojo.connect(this.dropIndicator,"onmouseup",this,"_redirectMouseUp");this.node.parentNode.appendChild(this.dropIndicator);},_redirectMouseOver:function(e){var idx=this._getNodeUnderMouse(e);this.lastItemOver=idx;if(idx>-1){if(document.createEvent){var evt=document.createEvent("MouseEvent");evt.initMouseEvent("mouseover",true,true,window,0,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null);this.node.dispatchEvent(evt);this.node.children[idx].dispatchEvent(evt);evt=document.createEvent("MouseEvent");evt.initMouseEvent("mousemove",true,true,window,0,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null);this.node.dispatchEvent(evt);this.node.children[idx].dispatchEvent(evt);}else{if(document.createEventObject){var evt=document.createEventObject(window.event);evt.button=1;this.node.children[idx].fireEvent("onmouseover",evt);this.node.children[idx].fireEvent("onmousemove",evt);}}}},_redirectMouseUp:function(e){var idx=this._getNodeUnderMouse(e);if(idx>-1){if(document.createEvent){var evt=document.createEvent("MouseEvent");evt.initMouseEvent("mouseup",true,true,window,0,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null);this.node.children[idx].dispatchEvent(evt);}else{if(document.createEventObject){var evt=document.createEventObject(window.event);this.node.children[idx].fireEvent("onmouseup",evt);}}}},onDrop:function(_d6c,_d6d,copy){this.dropZone2Zone=false;if(!_d6d||_d6d.length==0){return false;}var _d6e=_d6d[0];var _d6f=dijit.byId(_d6e.id);if(!_d6f){dijit.byId("gem-"+_d6e.id);}if((!_d6f||(_d6f&&_d6f.gemBar!=this.gemBar))&&!this.gemBar.checkAcceptance(this,_d6d,true)){return;}var gem;if(_d6f){gem=_d6f.model;if(_d6f.gemBar==this.gemBar){}else{this.dropZone2Zone=true;_d6f.gemBar.remove(_d6f,true);_d6f.model.previousGemBar=_d6f.gemBar.model;_d6f.gemBar=this.gemBar;}}else{var gem=this.createGemFromNode(_d6e);_d6f=this.createGemUI(gem,_d6e);_d6d[0]=_d6f.domNode;}this.gemUIbeingInserted=_d6f;var _d70=_d6d[0].id;_d6d[0].id=_d6e.id;this.inherited(arguments);_d6d[0].id=_d70;this.sync();_d6c.sync();return true;},createGemFromNode:function(_d71){var _d72=pentaho.common.propertiesPanel.Configuration.registeredTypes["gem"];var _d73={id:"gem-"+_d71.id,value:_d71.innerHTML,gemBar:this.gemBar.model,sourceNode:_d71};if(_d72.create){return _d72.create(_d73);}else{return new _d72(_d73);}},createGemUI:function(gem,_d74){var _d75=pentaho.common.propertiesPanel.Panel.registeredTypes["gem"];var _d76={id:gem.id,model:gem,gemBar:this.gemBar,dndType:_d74.getAttribute("dndType"),sourceNode:_d74};if(_d75.create){return _d75.create(_d76);}else{return new _d75(_d76);}},onMouseMove:function(e){this.showIndicatorIfReorder(e);this.inherited(arguments);},onMouseOver:function(e){this.showIndicatorIfReorder(e);this.inherited(arguments);},showIndicatorIfReorder:function(e){if(dojo.dnd.manager().source&&this.checkAcceptance(this,dojo.dnd.manager().nodes)){var _d77=this.dropIndicator;var _d78=function(){_d77.style.display="none";dojo.unsubscribe(_d79);};var _d79=dojo.subscribe("/dnd/cancel",_d78);var _d7a=dojo.subscribe("/dnd/drop",_d78);var _d7b=this._getNodeUnderMouse(e);var _d7c=this.gravity(this.node.children[_d7b],e)&1;if(this.node.children[_d7b]==dojo.dnd.manager().nodes[0]&&(_d7c&&_d7b==0||!_d7c&&this.node.children.length-1==_d7b)){this.dropIndicator.style.display="none";return;}this.placeIndicator(e,_d7b,_d7c);}},onMouseOut:function(e){if(e.target==this.dropIndicator){return;}this.dropIndicator.style.display="none";this.inherited(arguments);},onDraggingOut:function(e){this.dropIndicator.style.display="none";this.inherited(arguments);},placeIndicator:function(e,_d7d,_d7e){var _d7f=-5,_d80=3;var _d81=dojo.coords(this.node,true);with(this.dropIndicator.style){if(_d7d<0){if(this.node.children.length){var _d82=dojo.coords(this.node.children[this.node.children.length-1],true);left=_d82.x-7-(_d81.x-5)+"px";var _d82=dojo.coords(this.node.children[0]);var _d83=dojo.coords(this.node.children[this.node.children.length-1]);top=(_d7e?_d82.y-_d7f:_d83.y+_d83.h+_d7f)-(_d81.y-5)+"px";width=_d82.w+"px";}else{var pos=dojo.coords(this.node,true);left=pos.x-7-(_d81.x-5)+"px";top=(pos.y+pos.h)-(_d81.y-5)+"px";width=pos.w+"px";}}else{var _d84=dojo.coords(this.node.children[_d7d],true);left=_d84.x-7-(_d81.x-5)+"px";top=(_d7e)?(_d84.y+_d7f)-(_d81.y-5)+"px":_d84.y+_d84.h+_d7f-(_d81.y-5)+"px";width=_d84.w+"px";}}this.dropIndicator.style.display="";},_getNodeUnderMouse:function(e){var _d85=this.node.children;for(var i=0,_d86;_d85&&i<_d85.length;++i){if(_d85[i]==this.dropIndicator){continue;}var _d87=dojo.coords(_d85[i],true);if(e.clientX>=_d87.x&&e.clientX<=_d87.x+_d87.w&&e.clientY>=_d87.y&&e.clientY<=_d87.y+_d87.h){return i;}}return -1;},gravity:function(node,e){node=dojo.byId(node);var _d88={y:e.clientY,x:e.clientX};with(dojo.html){var bb=dojo.coords(node);var _d89=bb.x+(bb.w/2);var _d8a=bb.y+(bb.h/2);}with(cv.util.gravity){return ((_d88.x<_d89?WEST:EAST)|(_d88.y<_d8a?NORTH:SOUTH));}},insertNodes:function(_d8b,data,_d8c,_d8d){var pos=0;if(_d8d==null){pos=this.gemBar.gems.length;_d8c=false;}else{if(_d8d!=null){for(var i=0;i<this.node.children.length;i++){if(this.node.children[i]==_d8d){pos=i;}}pos=(_d8c)?pos:pos+1;}}this.gemBar.insertAt(this.gemUIbeingInserted,pos,this.dropZone2Zone);this.inherited(arguments);this.gemBar.propPanel.resize();},checkAcceptance:function(_d8e,_d8f,_d90){var ok=this.gemBar.checkAcceptance(_d8e,_d8f,_d90);return ok;}});dojo.declare("pentaho.common.propertiesPanel.PlaceholderSource",[dojo.dnd.Target],{constructor:function(node,opts){this.dropZone=opts.dropZone;},onDrop:function(_d91,_d92,copy){return this.dropZone.onDrop(_d91,_d92,copy);},checkAcceptance:function(_d93,_d94,_d95){var ok=this.dropZone.checkAcceptance(_d93,_d94,_d95);return ok;}});dojo.declare("pentaho.common.propertiesPanel.GemBarUI",[dijit._Widget,dijit._Templated,pentaho.common.propertiesPanel.StatefulUI],{className:"propPanel_gemBar",gemLimit:-1,widgetsInTemplate:true,templateString:"<div class='${className}' data-dojo-type='dijit.layout.BorderContainer' data-dojo-props='gutters:false'><div data-dojo-props='region:center'></div><div class='gemPlaceholder'><span>${placeholderText}</span></div></div>",gems:[],handles:[],subscriptions:[],accept:["gem"],showPlaceholder:true,placeholderText:"Drop Level Here",constructor:function(_d96){this.id=this.model.id+"_ui";this.showPlaceholder=this.model.ui.showPlaceholder;if(this.model.ui.placeholderText){this.placeholderText=this.model.ui.placeholderText;}},postCreate:function(){dojo.addClass(this.domNode,this.model.dataType);this.gems=[];this.placeholder=dojo.query(".gemPlaceholder",this.domNode)[0];this.placeholder.style.display=(this.showPlaceholder&&(this.model.allowMultiple||this.model.gems.length==0))?"":"none";if(this.model.required&&this.model.gems.length==0){dojo.addClass(this.placeholder,"reqiured");}this.dropZoneNode=this.domNode.firstChild;this.dropZone=new pentaho.common.propertiesPanel.GemBarUISource(this.dropZoneNode,{accept:this.model.ui.dndType,gemBar:this});new pentaho.common.propertiesPanel.PlaceholderSource(this.domNode,{accept:this.model.ui.dndType,dropZone:this.dropZone});if(this.showPlaceholder&&(this.model.allowMultiple||this.model.gems.length<2)){new pentaho.common.propertiesPanel.PlaceholderSource(this.placeholder,{accept:this.model.ui.dndType,dropZone:this.dropZone});}var _d97=this;this.subscriptions.push(dojo.subscribe("/dnd/start",function(){if(!_d97.checkAcceptance(_d97.dropZone,dojo.dnd.manager().nodes)){dojo.addClass(_d97.domNode,"dimished");}}));var _d98=function(){if(_d97.domNode){dojo.removeClass(_d97.domNode,"dimished");}};this.subscriptions.push(dojo.subscribe("/dnd/cancel",_d98));this.subscriptions.push(dojo.subscribe("/dnd/drop",_d98));dojo.connect(this.domNode,"onmouseover",function(_d99){if(dojo.dnd.manager().source&&_d97.checkAcceptance(_d97.dropZone,dojo.dnd.manager().nodes)){dojo.addClass(_d97.domNode,"over");}});dojo.connect(this.domNode,"onmouseout",function(_d9a){dojo.removeClass(_d97.domNode,"over");});dojo.connect(this.domNode,"onmouseup",function(_d9b){dojo.removeClass(_d97.domNode,"over");});this.handles.push[dojo.connect(this.dropZone,"createDropIndicator",this,"createDropIndicator")];this.handles.push[dojo.connect(this.dropZone,"placeDropIndicator",this,"placeDropIndicator")];this.handles.push[dojo.connect(this.dropZone,"onMouseOver",this,"onMouseOver")];this.handles.push[dojo.connect(this.dropZone,"onMouseOut",this,"onMouseOut")];this.handles.push[dojo.connect(this.dropZone,"onDraggingOver",this,"onDraggingOver")];this.handles.push[dojo.connect(this.dropZone,"onDraggingOver",this,"onDraggingOut")];this.handles.push[dojo.connect(this.dropZone,"insertNodes",this,"insertNodes")];dojo.forEach(this.model.gems,function(gem){var _d9c=pentaho.common.propertiesPanel.Panel.registeredTypes["gem"];var _d9d={sourceNode:gem.sourceNode,id:gem.id,model:gem,gemBar:this,dndType:gem.dndType};var _d9e;if(_d9c.create){_d9e=_d9c.create(_d9d);}else{_d9e=new _d9c(_d9d);}this.domNode.firstChild.appendChild(_d9e.domNode);this.add(_d9e);},this);this.dropZone.sync();this.inherited(arguments);},insertNodes:function(_d9f,data,_da0,_da1){this.onUIEvent("insertNodes",{item:this,args:arguments});},add:function(_da2){_da2.model.gemBar=this.model;this.gems.push(_da2);_da2.gemBar=this;this.propPanel.setupEventHandling(_da2);if(this.model.required){dojo.removeClass(this.placeholder,"reqiured");}},insertAt:function(gem,pos,move){var _da3=dojo.indexOf(this.gems,gem);this.gems.splice(pos,0,gem);if(_da3>-1){if(_da3>=pos){_da3++;}this.gems.splice(_da3,1);}this.model.insertAt(gem.model,pos,_da3,move);if(this.model.allowMultiple==false){this.placeholder.style.display="none";}if(this.model.required){dojo.removeClass(this.placeholder,"reqiured");}},remove:function(_da4,_da5){this.dropZoneNode.removeChild(_da4.domNode);var _da6=dojo.indexOf(this.gems,_da4);this.gems.splice(_da6,1);this.model.remove(_da4.model,_da5);if(this.model.allowMultiple==true||this.model.gems.length==0){this.placeholder.style.display="";}this.propPanel.resize();},onContextMenu:function(_da7,gem){},createDropIndicator:function(){},placeDropIndicator:function(e){},onMouseOver:function(){},onMouseOut:function(){},onDraggingOver:function(){return this.inherited(arguments);},onDraggingOut:function(){},checkAcceptance:function(_da8,_da9){var ok=this.model.allowMultiple||(this.model.allowMultiple==false&&this.model.gems.length==0);return ok;},createGems:function(gem){var _daa=createGemUI(gem);this.domNode.appendChild(_daa.domNode);this.propPanel.setupEventHandling(_daa);},validateGem:function(gem){return true;},createGemFromNode:function(_dab){return new pentaho.common.propertiesPanel.Configuration.registeredTypes["gem"]({id:_dab.innerHTML});},createGemUI:function(gem){return new pentaho.common.propertiesPanel.GemUI(gem,this.className);},destroyRecursive:function(){this.inherited(arguments);dojo.forEach(this.gems,function(gem){gem.destroy();});this.destroy();dojo.forEach(this.handles,dojo.disconnect);},destroy:function(){dojo.forEach(this.subscriptions,dojo.unsubscribe);this.inherited(arguments);}});pentaho.common.propertiesPanel.Panel.registeredTypes["gemBar"]=pentaho.common.propertiesPanel.GemBarUI;dojo.declare("pentaho.common.propertiesPanel.GemUI",[dijit._Widget,dijit._Templated,pentaho.common.propertiesPanel.StatefulUI],{className:"gem",templateString:"<div id='${id}' class='${className} dojoDndItem' dndType='${dndType}'><div class='gem-label'>${model.value}</div><div class='gemMenuHandle'></div></div>",constructor:function(_dac){this.gemBar=_dac.gemBar;this.dndType=_dac.dndType;this.id=_dac.id;},detach:function(){model.detach();},postCreate:function(){dojo.connect(this.domNode,"oncontextmenu",this,"onContextMenu");var _dad=this;this.menuHandle=dojo.query("div.gemMenuHandle",this.domNode)[0];dojo.connect(dojo.query("div.gemMenuHandle",this.domNode)[0],"onmouseover",function(e){if(!dojo.dnd.manager().source){dojo.addClass(e.target,"over");}});dojo.connect(dojo.query("div.gemMenuHandle",this.domNode)[0],"onmouseout",function(e){if(!dojo.dnd.manager().source){dojo.removeClass(e.target,"over");}});dojo.connect(this.menuHandle,"onclick",this,"onContextMenu");dojo.connect(this.domNode,"onmouseover",this,"onMouseOver");dojo.connect(this.domNode,"onmouseout",this,"onMouseOut");this.inherited(arguments);},onMouseOver:function(){if(!dojo.dnd.manager().source){dojo.addClass(this.domNode,"over");}},onMouseOut:function(){dojo.removeClass(this.domNode,"over");},onContextMenu:function(e){console.log("inner onContextMenu");}});pentaho.common.propertiesPanel.Panel.registeredTypes["gem"]=pentaho.common.propertiesPanel.GemUI;dojo.declare("pentaho.common.propertiesPanel.ComboUI",[dijit._Widget,dijit._Templated,pentaho.common.propertiesPanel.StatefulUI],{className:"propPanel_combobox propPanel_control",options:[],widgetsInTemplate:false,templateString:"<div class='${className}' id='${model.id}_wrapper'></div>",handles:[],constructor:function(_dae){this.name=_dae.id;this.options=[];dojo.forEach(this.model.values,function(val,idx){var opt={label:val,value:val};if(this.model.ui.labels){var lbl=this.model.ui.labels[idx];opt.label=pentaho.common.Messages.getString(lbl,lbl);}this.options.push(opt);},this);this.value=this.model.value;if(typeof (this.value)=="undefined"){this.model.set("value",this.model.values[0]);}},postCreate:function(){var me=this;var opts=this.options;dojo.forEach(opts,function(val,idx){if(typeof (me.value)=="undefined"){opts["selected"]=true;}else{if(me.value==val.value){val["selected"]=true;}}},this);if(this.isMobile()){var _daf=this.id+"_select";var _db0=dojo.create("select",{id:_daf});dojo.forEach(opts,function(val,idx){if(typeof (val.selected)!="undefined"&&val.selected==true){var _db1={label:val.label,value:val.value,selected:true};}else{var _db1={label:val.label,value:val.value};}dojo.create("option",_db1,_db0);},this);this.domNode.appendChild(_db0);this.handles.push(dojo.connect(_db0,"onchange",function(){me.model.set("value",this.value);me.value=this.value;}));}else{dojo.addClass(this.domNode,this.className);var sel=new dijit.form.Select({options:opts,onChange:function(){me.model.set("value",this.value);me.value=this.value;}});sel.placeAt(this.domNode);}this.inherited(arguments);},isMobile:function(){return (this.isMobileSafari()||window.orientation!==undefined);},isMobileSafari:function(){return navigator.userAgent.match(/(iPad|iPod|iPhone)/)!=null;},destroy:function(){dojo.forEach(this.handles,dojo.disconnect);this.inherited(arguments);}});pentaho.common.propertiesPanel.Panel.registeredTypes["combo"]=pentaho.common.propertiesPanel.ComboUI;dojo.declare("pentaho.common.propertiesPanel.SliderUI",[dijit.form.HorizontalSlider,pentaho.common.propertiesPanel.StatefulUI],{className:"propPanel_slider propPanel_control",minimum:0,maximum:100,style:"width: 100%",intermediateChanges:true,discreteValues:true,constructor:function(_db2){this.inherited(arguments);this.value=this.model.value;if(this.model.minimum){this.minimum=this.model.minimum;}if(this.model.maximum){this.maximum=this.model.maximum;}this.discreteValues=this.maximum-this.minimum+1;this.id=this.model.id+"_slider";},onChange:function(){this.model.set("value",this.value);}});pentaho.common.propertiesPanel.Panel.registeredTypes["slider"]=pentaho.common.propertiesPanel.SliderUI;dojo.declare("pentaho.common.propertiesPanel.TextboxUI",[dijit.form.TextBox,pentaho.common.propertiesPanel.StatefulUI],{className:"propPanel_control",constructor:function(_db3){this.disabled=this.model.disabled;this.inherited(arguments);},onChange:function(){this.model.set("value",this.value);}});pentaho.common.propertiesPanel.Panel.registeredTypes["textbox"]=pentaho.common.propertiesPanel.TextboxUI;dojo.declare("pentaho.common.propertiesPanel.CheckBoxUI",[dijit._Widget,dijit._Templated,pentaho.common.propertiesPanel.StatefulUI],{className:"propPanel_checkbox propPanel_control",widgetsInTemplate:true,value:false,templateString:"<div class='${className}'><input id='${model.id}_checkbox' name='${model.id}_checkbox' dojoType='dijit.form.CheckBox' /> <label for='${model.id}_checkbox'>${label}</label></div>",handles:[],constructor:function(_db4){if(typeof (this.model.value)!=="undefined"){this.value=this.model.value;}this.label=pentaho.common.Messages.getString(this.model.ui.label,this.model.ui.label);},postCreate:function(){this.checkbox=dijit.byId(this.model.id+"_checkbox");var _db5=this;if(typeof (this.value)!="boolean"){this.value=false;}this.checkbox.attr("checked",this.value);this.handles.push(dojo.connect(this.checkbox,"onChange",function(){if(_db5.model.value!=_db5.checkbox.checked){_db5.model.set("value",_db5.checkbox.checked);}}));},set:function(prop,_db6){if(this.checkbox){if(prop=="value"&&_db6!=this.checkbox.checked){this.checkbox.set(prop,_db6);}}},onChange:function(){},destroy:function(){dojo.forEach(this.handles,dojo.disconnect);this.inherited(arguments);}});pentaho.common.propertiesPanel.Panel.registeredTypes["checkbox"]=pentaho.common.propertiesPanel.CheckBoxUI;dojo.declare("pentaho.common.propertiesPanel.ButtonUI",[dijit._Widget,dijit._Templated,pentaho.common.propertiesPanel.StatefulUI],{widgetsInTemplate:true,templateString:"<div class='button-wrapper'><button id='${model.id}_button' name='${model.id}_button'  data-dojo-type='dijit.form.Button' type='button' >${label}</button></div>",constructor:function(_db7){this.disabled=this.model.disabled;this.label=pentaho.common.Messages.getString(this.model.ui.label,this.model.ui.label);this.inherited(arguments);},postCreate:function(){this.button=dijit.byId(this.model.id+"_button");this.connect(this.button,"onClick","onClick");},onClick:function(){this.model.set("clicked",true);}});pentaho.common.propertiesPanel.Panel.registeredTypes["button"]=pentaho.common.propertiesPanel.ButtonUI;}if(!dojo._hasResource["pentaho.common.propertiesPanel.Configuration"]){dojo._hasResource["pentaho.common.propertiesPanel.Configuration"]=true;dojo.provide("pentaho.common.propertiesPanel.Configuration");dojo.declare("pentaho.common.propertiesPanel.Configuration",dojo.Stateful,{constructor:function(_db8){this.items=[];this.rawConfiguration=_db8;if(_db8&&_db8.properties){dojo.forEach(_db8.properties,this.initializeItem,this);}},initializeItem:function(item){var _db9=pentaho.common.propertiesPanel.Configuration.registeredTypes[item.ui.type];if(!_db9){throw "No Properties Panel UI implementation found for "+item.ui.type;}var _dba=new _db9(item);_dba.postCreate();var _dbb=this;dojo.connect(_dba,"onModelEvent",function(_dbc,args){_dbb.onModelEvent(_dba,_dbc,args);});_dba.watch(function(_dbd,old,now){_dbb.onModelEvent(_dba,_dbd,{prevVal:old,newVal:now});});this.items.push(_dba);},onModelEvent:function(item,_dbe,args){},byId:function(id){for(var i=0;i<this.items.length;i++){if(this.items[i].id==id){return this.items[i];}}}});pentaho.common.propertiesPanel.Configuration.registeredTypes={};dojo.declare("pentaho.common.propertiesPanel.Property",[dojo.Stateful],{constructor:function(item){this.item=item;dojo.mixin(this,item);},postCreate:function(){},value:null,setValue:function(_dbf){this.value=_dbf;},onModelEvent:function(prop,args){}});dojo.declare("pentaho.common.propertiesPanel.GemBar",[pentaho.common.propertiesPanel.Property],{gems:[],allowMultiple:true,constructor:function(item){},initializeGem:function(_dc0){var gem=new pentaho.common.propertiesPanel.Configuration.registeredTypes["gem"](_dc0);gem.postCreate();this.gems.push(gem);},postCreate:function(){var _dc1=this.gems;this.gems=[];dojo.forEach(_dc1,this.initializeGem,this);},remove:function(gem){this.gems.splice(this.gems.indexOf(gem),1);this.set("gems",this.gems);this.onModelEvent("removedGem",{gem:gem});},add:function(gem){this.gems.push(gem);this.set("gems",this.gems);this.onModelEvent("insertAt",{gem:gem,idx:this.gems.length,oldIdx:-1});},reorder:function(){this.set("gems",this.gems);this.onModelEvent("reorderedGems",{});},insertAt:function(gem,_dc2,_dc3){var _dc4=dojo.indexOf(this.gems,gem);this.gems.splice(_dc2,0,gem);var _dc3=_dc4;if(_dc4>-1){if(_dc4>=_dc2){_dc4++;}this.gems.splice(_dc4,1);}if(_dc4>-1&&_dc4<_dc2){_dc2--;}this.onModelEvent("insertAt",{gem:gem,idx:_dc2,oldIdx:_dc3});},gems:[],selectedGem:null});pentaho.common.propertiesPanel.Configuration.registeredTypes["gemBar"]=pentaho.common.propertiesPanel.GemBar;pentaho.common.propertiesPanel.Configuration.registeredTypes["gem"]=pentaho.common.propertiesPanel.Property;pentaho.common.propertiesPanel.Configuration.registeredTypes["combo"]=pentaho.common.propertiesPanel.Property;pentaho.common.propertiesPanel.Configuration.registeredTypes["slider"]=pentaho.common.propertiesPanel.Property;pentaho.common.propertiesPanel.Configuration.registeredTypes["textbox"]=pentaho.common.propertiesPanel.Property;pentaho.common.propertiesPanel.Configuration.registeredTypes["checkbox"]=pentaho.common.propertiesPanel.Property;pentaho.common.propertiesPanel.Configuration.registeredTypes["button"]=pentaho.common.propertiesPanel.Property;}dojo.i18n._preloadLocalizations("dojo.nls.dojo-ext",["ROOT","ar","ca","cs","da","de","de-de","el","en","en-gb","en-us","es","es-es","fi","fi-fi","fr","fr-fr","he","he-il","hu","it","it-it","ja","ja-jp","ko","ko-kr","nb","nl","nl-nl","pl","pt","pt-br","pt-pt","ru","sk","sl","sv","th","tr","xx","zh","zh-cn","zh-tw"]);
