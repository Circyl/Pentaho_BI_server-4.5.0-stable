/* automatically generated by JSCoverage - do not edit */
try {
  if (typeof top === 'object' && top !== null && typeof top.opener === 'object' && top.opener !== null) {
    // this is a browser window that was opened from another window

    if (! top.opener._$jscoverage) {
      top.opener._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null) {
    // this is a browser window

    try {
      if (typeof top.opener === 'object' && top.opener !== null && top.opener._$jscoverage) {
        top._$jscoverage = top.opener._$jscoverage;
      }
    }
    catch (e) {}

    if (! top._$jscoverage) {
      top._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null && top._$jscoverage) {
    _$jscoverage = top._$jscoverage;
  }
}
catch (e) {}
if (typeof _$jscoverage !== 'object') {
  _$jscoverage = {};
}
if (! _$jscoverage['vizapi/DataTable.js']) {
  _$jscoverage['vizapi/DataTable.js'] = [];
  _$jscoverage['vizapi/DataTable.js'][11] = 0;
  _$jscoverage['vizapi/DataTable.js'][22] = 0;
  _$jscoverage['vizapi/DataTable.js'][23] = 0;
  _$jscoverage['vizapi/DataTable.js'][24] = 0;
  _$jscoverage['vizapi/DataTable.js'][25] = 0;
  _$jscoverage['vizapi/DataTable.js'][27] = 0;
  _$jscoverage['vizapi/DataTable.js'][62] = 0;
  _$jscoverage['vizapi/DataTable.js'][64] = 0;
  _$jscoverage['vizapi/DataTable.js'][65] = 0;
  _$jscoverage['vizapi/DataTable.js'][68] = 0;
  _$jscoverage['vizapi/DataTable.js'][70] = 0;
  _$jscoverage['vizapi/DataTable.js'][75] = 0;
  _$jscoverage['vizapi/DataTable.js'][76] = 0;
  _$jscoverage['vizapi/DataTable.js'][78] = 0;
  _$jscoverage['vizapi/DataTable.js'][80] = 0;
  _$jscoverage['vizapi/DataTable.js'][83] = 0;
  _$jscoverage['vizapi/DataTable.js'][87] = 0;
  _$jscoverage['vizapi/DataTable.js'][88] = 0;
  _$jscoverage['vizapi/DataTable.js'][90] = 0;
  _$jscoverage['vizapi/DataTable.js'][91] = 0;
  _$jscoverage['vizapi/DataTable.js'][92] = 0;
  _$jscoverage['vizapi/DataTable.js'][94] = 0;
  _$jscoverage['vizapi/DataTable.js'][98] = 0;
  _$jscoverage['vizapi/DataTable.js'][102] = 0;
  _$jscoverage['vizapi/DataTable.js'][106] = 0;
  _$jscoverage['vizapi/DataTable.js'][117] = 0;
  _$jscoverage['vizapi/DataTable.js'][118] = 0;
  _$jscoverage['vizapi/DataTable.js'][125] = 0;
  _$jscoverage['vizapi/DataTable.js'][126] = 0;
  _$jscoverage['vizapi/DataTable.js'][134] = 0;
  _$jscoverage['vizapi/DataTable.js'][135] = 0;
  _$jscoverage['vizapi/DataTable.js'][143] = 0;
  _$jscoverage['vizapi/DataTable.js'][144] = 0;
  _$jscoverage['vizapi/DataTable.js'][152] = 0;
  _$jscoverage['vizapi/DataTable.js'][153] = 0;
  _$jscoverage['vizapi/DataTable.js'][162] = 0;
  _$jscoverage['vizapi/DataTable.js'][163] = 0;
  _$jscoverage['vizapi/DataTable.js'][164] = 0;
  _$jscoverage['vizapi/DataTable.js'][166] = 0;
  _$jscoverage['vizapi/DataTable.js'][168] = 0;
  _$jscoverage['vizapi/DataTable.js'][170] = 0;
  _$jscoverage['vizapi/DataTable.js'][180] = 0;
  _$jscoverage['vizapi/DataTable.js'][181] = 0;
  _$jscoverage['vizapi/DataTable.js'][183] = 0;
  _$jscoverage['vizapi/DataTable.js'][185] = 0;
  _$jscoverage['vizapi/DataTable.js'][187] = 0;
  _$jscoverage['vizapi/DataTable.js'][189] = 0;
  _$jscoverage['vizapi/DataTable.js'][191] = 0;
  _$jscoverage['vizapi/DataTable.js'][194] = 0;
  _$jscoverage['vizapi/DataTable.js'][204] = 0;
  _$jscoverage['vizapi/DataTable.js'][206] = 0;
  _$jscoverage['vizapi/DataTable.js'][207] = 0;
  _$jscoverage['vizapi/DataTable.js'][208] = 0;
  _$jscoverage['vizapi/DataTable.js'][209] = 0;
  _$jscoverage['vizapi/DataTable.js'][211] = 0;
  _$jscoverage['vizapi/DataTable.js'][212] = 0;
  _$jscoverage['vizapi/DataTable.js'][214] = 0;
  _$jscoverage['vizapi/DataTable.js'][215] = 0;
  _$jscoverage['vizapi/DataTable.js'][216] = 0;
  _$jscoverage['vizapi/DataTable.js'][218] = 0;
  _$jscoverage['vizapi/DataTable.js'][220] = 0;
  _$jscoverage['vizapi/DataTable.js'][222] = 0;
  _$jscoverage['vizapi/DataTable.js'][224] = 0;
  _$jscoverage['vizapi/DataTable.js'][229] = 0;
  _$jscoverage['vizapi/DataTable.js'][233] = 0;
  _$jscoverage['vizapi/DataTable.js'][243] = 0;
  _$jscoverage['vizapi/DataTable.js'][244] = 0;
  _$jscoverage['vizapi/DataTable.js'][245] = 0;
  _$jscoverage['vizapi/DataTable.js'][246] = 0;
  _$jscoverage['vizapi/DataTable.js'][247] = 0;
  _$jscoverage['vizapi/DataTable.js'][248] = 0;
  _$jscoverage['vizapi/DataTable.js'][249] = 0;
  _$jscoverage['vizapi/DataTable.js'][250] = 0;
  _$jscoverage['vizapi/DataTable.js'][253] = 0;
  _$jscoverage['vizapi/DataTable.js'][262] = 0;
  _$jscoverage['vizapi/DataTable.js'][263] = 0;
  _$jscoverage['vizapi/DataTable.js'][264] = 0;
  _$jscoverage['vizapi/DataTable.js'][265] = 0;
  _$jscoverage['vizapi/DataTable.js'][266] = 0;
  _$jscoverage['vizapi/DataTable.js'][267] = 0;
  _$jscoverage['vizapi/DataTable.js'][268] = 0;
  _$jscoverage['vizapi/DataTable.js'][269] = 0;
  _$jscoverage['vizapi/DataTable.js'][272] = 0;
  _$jscoverage['vizapi/DataTable.js'][292] = 0;
  _$jscoverage['vizapi/DataTable.js'][293] = 0;
  _$jscoverage['vizapi/DataTable.js'][294] = 0;
  _$jscoverage['vizapi/DataTable.js'][295] = 0;
  _$jscoverage['vizapi/DataTable.js'][296] = 0;
  _$jscoverage['vizapi/DataTable.js'][297] = 0;
  _$jscoverage['vizapi/DataTable.js'][299] = 0;
  _$jscoverage['vizapi/DataTable.js'][301] = 0;
  _$jscoverage['vizapi/DataTable.js'][304] = 0;
  _$jscoverage['vizapi/DataTable.js'][306] = 0;
  _$jscoverage['vizapi/DataTable.js'][307] = 0;
  _$jscoverage['vizapi/DataTable.js'][308] = 0;
  _$jscoverage['vizapi/DataTable.js'][309] = 0;
  _$jscoverage['vizapi/DataTable.js'][311] = 0;
  _$jscoverage['vizapi/DataTable.js'][312] = 0;
  _$jscoverage['vizapi/DataTable.js'][314] = 0;
  _$jscoverage['vizapi/DataTable.js'][315] = 0;
  _$jscoverage['vizapi/DataTable.js'][318] = 0;
  _$jscoverage['vizapi/DataTable.js'][319] = 0;
  _$jscoverage['vizapi/DataTable.js'][320] = 0;
  _$jscoverage['vizapi/DataTable.js'][321] = 0;
  _$jscoverage['vizapi/DataTable.js'][323] = 0;
  _$jscoverage['vizapi/DataTable.js'][327] = 0;
  _$jscoverage['vizapi/DataTable.js'][328] = 0;
  _$jscoverage['vizapi/DataTable.js'][333] = 0;
  _$jscoverage['vizapi/DataTable.js'][344] = 0;
  _$jscoverage['vizapi/DataTable.js'][345] = 0;
  _$jscoverage['vizapi/DataTable.js'][346] = 0;
  _$jscoverage['vizapi/DataTable.js'][359] = 0;
  _$jscoverage['vizapi/DataTable.js'][360] = 0;
  _$jscoverage['vizapi/DataTable.js'][361] = 0;
  _$jscoverage['vizapi/DataTable.js'][363] = 0;
  _$jscoverage['vizapi/DataTable.js'][378] = 0;
  _$jscoverage['vizapi/DataTable.js'][379] = 0;
  _$jscoverage['vizapi/DataTable.js'][380] = 0;
  _$jscoverage['vizapi/DataTable.js'][381] = 0;
  _$jscoverage['vizapi/DataTable.js'][382] = 0;
  _$jscoverage['vizapi/DataTable.js'][397] = 0;
  _$jscoverage['vizapi/DataTable.js'][398] = 0;
  _$jscoverage['vizapi/DataTable.js'][413] = 0;
  _$jscoverage['vizapi/DataTable.js'][414] = 0;
  _$jscoverage['vizapi/DataTable.js'][423] = 0;
  _$jscoverage['vizapi/DataTable.js'][425] = 0;
  _$jscoverage['vizapi/DataTable.js'][426] = 0;
  _$jscoverage['vizapi/DataTable.js'][427] = 0;
  _$jscoverage['vizapi/DataTable.js'][428] = 0;
  _$jscoverage['vizapi/DataTable.js'][429] = 0;
  _$jscoverage['vizapi/DataTable.js'][430] = 0;
  _$jscoverage['vizapi/DataTable.js'][431] = 0;
  _$jscoverage['vizapi/DataTable.js'][432] = 0;
  _$jscoverage['vizapi/DataTable.js'][433] = 0;
  _$jscoverage['vizapi/DataTable.js'][435] = 0;
  _$jscoverage['vizapi/DataTable.js'][436] = 0;
  _$jscoverage['vizapi/DataTable.js'][438] = 0;
  _$jscoverage['vizapi/DataTable.js'][439] = 0;
  _$jscoverage['vizapi/DataTable.js'][443] = 0;
  _$jscoverage['vizapi/DataTable.js'][447] = 0;
  _$jscoverage['vizapi/DataTable.js'][457] = 0;
  _$jscoverage['vizapi/DataTable.js'][458] = 0;
  _$jscoverage['vizapi/DataTable.js'][459] = 0;
  _$jscoverage['vizapi/DataTable.js'][460] = 0;
  _$jscoverage['vizapi/DataTable.js'][461] = 0;
  _$jscoverage['vizapi/DataTable.js'][462] = 0;
  _$jscoverage['vizapi/DataTable.js'][463] = 0;
  _$jscoverage['vizapi/DataTable.js'][464] = 0;
  _$jscoverage['vizapi/DataTable.js'][467] = 0;
  _$jscoverage['vizapi/DataTable.js'][476] = 0;
  _$jscoverage['vizapi/DataTable.js'][477] = 0;
  _$jscoverage['vizapi/DataTable.js'][478] = 0;
  _$jscoverage['vizapi/DataTable.js'][479] = 0;
  _$jscoverage['vizapi/DataTable.js'][480] = 0;
  _$jscoverage['vizapi/DataTable.js'][481] = 0;
  _$jscoverage['vizapi/DataTable.js'][482] = 0;
  _$jscoverage['vizapi/DataTable.js'][483] = 0;
  _$jscoverage['vizapi/DataTable.js'][486] = 0;
  _$jscoverage['vizapi/DataTable.js'][496] = 0;
  _$jscoverage['vizapi/DataTable.js'][497] = 0;
  _$jscoverage['vizapi/DataTable.js'][498] = 0;
  _$jscoverage['vizapi/DataTable.js'][499] = 0;
  _$jscoverage['vizapi/DataTable.js'][501] = 0;
  _$jscoverage['vizapi/DataTable.js'][502] = 0;
  _$jscoverage['vizapi/DataTable.js'][504] = 0;
  _$jscoverage['vizapi/DataTable.js'][511] = 0;
  _$jscoverage['vizapi/DataTable.js'][512] = 0;
  _$jscoverage['vizapi/DataTable.js'][519] = 0;
  _$jscoverage['vizapi/DataTable.js'][520] = 0;
  _$jscoverage['vizapi/DataTable.js'][528] = 0;
  _$jscoverage['vizapi/DataTable.js'][529] = 0;
  _$jscoverage['vizapi/DataTable.js'][537] = 0;
  _$jscoverage['vizapi/DataTable.js'][538] = 0;
  _$jscoverage['vizapi/DataTable.js'][546] = 0;
  _$jscoverage['vizapi/DataTable.js'][547] = 0;
  _$jscoverage['vizapi/DataTable.js'][556] = 0;
  _$jscoverage['vizapi/DataTable.js'][557] = 0;
  _$jscoverage['vizapi/DataTable.js'][558] = 0;
  _$jscoverage['vizapi/DataTable.js'][559] = 0;
  _$jscoverage['vizapi/DataTable.js'][562] = 0;
  _$jscoverage['vizapi/DataTable.js'][563] = 0;
  _$jscoverage['vizapi/DataTable.js'][564] = 0;
  _$jscoverage['vizapi/DataTable.js'][565] = 0;
  _$jscoverage['vizapi/DataTable.js'][566] = 0;
  _$jscoverage['vizapi/DataTable.js'][568] = 0;
  _$jscoverage['vizapi/DataTable.js'][569] = 0;
  _$jscoverage['vizapi/DataTable.js'][571] = 0;
  _$jscoverage['vizapi/DataTable.js'][572] = 0;
  _$jscoverage['vizapi/DataTable.js'][575] = 0;
  _$jscoverage['vizapi/DataTable.js'][577] = 0;
  _$jscoverage['vizapi/DataTable.js'][586] = 0;
  _$jscoverage['vizapi/DataTable.js'][587] = 0;
  _$jscoverage['vizapi/DataTable.js'][588] = 0;
  _$jscoverage['vizapi/DataTable.js'][589] = 0;
  _$jscoverage['vizapi/DataTable.js'][592] = 0;
  _$jscoverage['vizapi/DataTable.js'][593] = 0;
  _$jscoverage['vizapi/DataTable.js'][594] = 0;
  _$jscoverage['vizapi/DataTable.js'][595] = 0;
  _$jscoverage['vizapi/DataTable.js'][596] = 0;
  _$jscoverage['vizapi/DataTable.js'][598] = 0;
  _$jscoverage['vizapi/DataTable.js'][599] = 0;
  _$jscoverage['vizapi/DataTable.js'][601] = 0;
  _$jscoverage['vizapi/DataTable.js'][602] = 0;
  _$jscoverage['vizapi/DataTable.js'][605] = 0;
  _$jscoverage['vizapi/DataTable.js'][607] = 0;
  _$jscoverage['vizapi/DataTable.js'][618] = 0;
  _$jscoverage['vizapi/DataTable.js'][620] = 0;
  _$jscoverage['vizapi/DataTable.js'][621] = 0;
  _$jscoverage['vizapi/DataTable.js'][622] = 0;
  _$jscoverage['vizapi/DataTable.js'][627] = 0;
  _$jscoverage['vizapi/DataTable.js'][630] = 0;
  _$jscoverage['vizapi/DataTable.js'][631] = 0;
  _$jscoverage['vizapi/DataTable.js'][632] = 0;
  _$jscoverage['vizapi/DataTable.js'][633] = 0;
  _$jscoverage['vizapi/DataTable.js'][634] = 0;
  _$jscoverage['vizapi/DataTable.js'][639] = 0;
  _$jscoverage['vizapi/DataTable.js'][642] = 0;
  _$jscoverage['vizapi/DataTable.js'][645] = 0;
  _$jscoverage['vizapi/DataTable.js'][647] = 0;
  _$jscoverage['vizapi/DataTable.js'][648] = 0;
  _$jscoverage['vizapi/DataTable.js'][660] = 0;
  _$jscoverage['vizapi/DataTable.js'][661] = 0;
  _$jscoverage['vizapi/DataTable.js'][673] = 0;
  _$jscoverage['vizapi/DataTable.js'][674] = 0;
}
_$jscoverage['vizapi/DataTable.js'].source = ["<span class=\"c\">/*</span>","<span class=\"c\">pentaho.DataTable</span>","<span class=\"c\">pentaho.DataView</span>","","<span class=\"c\">Client-side non-visual data tables.</span>","","<span class=\"c\">author: James Dixon</span>","","<span class=\"c\">*/</span>","","pentaho <span class=\"k\">=</span> <span class=\"k\">typeof</span> pentaho <span class=\"k\">==</span> <span class=\"s\">\"undefined\"</span> <span class=\"k\">?</span> <span class=\"k\">{}</span> <span class=\"k\">:</span> pentaho<span class=\"k\">;</span>","","<span class=\"c\">/****************************************************</span>","<span class=\"c\">    pentaho.DataTable</span>","<span class=\"c\">    A client-side table object. </span>","<span class=\"c\">****************************************************/</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    Constructor.</span>","<span class=\"c\">    jsonTable:      A CDA JSON table object or a Google DataTable JSON object</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataTable <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span> jsonTable <span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>jsonTable <span class=\"k\">=</span> jsonTable<span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>className <span class=\"k\">=</span> <span class=\"s\">\"pentaho.DataTable\"</span><span class=\"k\">;</span>","    <span class=\"k\">if</span><span class=\"k\">(</span> jsonTable<span class=\"k\">.</span>metadata <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"c\">// convert from CDA to DataTable</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>jsonTable <span class=\"k\">=</span> pentaho<span class=\"k\">.</span>DataTable<span class=\"k\">.</span>convertCdaToDataTable<span class=\"k\">(</span>jsonTable<span class=\"k\">);</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    convertCdaToDataTable</span>","<span class=\"c\">    Converts a CDA JSON table object to a Google DataTable JSON table object</span>","<span class=\"c\">    </span>","<span class=\"c\">    Input format</span>","<span class=\"c\">    {</span>","<span class=\"c\">        metadata: [</span>","<span class=\"c\">            { colName: 'col1', colType: 'STRING', colLabel: 'Column 1' },</span>","<span class=\"c\">            { colName: 'col2', colType: 'NUMERIC', colLabel: 'Column 2' }</span>","<span class=\"c\">        ],</span>","<span class=\"c\">        resultset: [</span>","<span class=\"c\">            [ 'Row1', 123 ],</span>","<span class=\"c\">            [ 'Row2', 456 ]</span>","<span class=\"c\">        ]</span>","<span class=\"c\">    }</span>","<span class=\"c\">    </span>","<span class=\"c\">    Output format</span>","<span class=\"c\">    {</span>","<span class=\"c\">        cols: [</span>","<span class=\"c\">            { id: 'col1', type: 'string', label: 'Column 1' },</span>","<span class=\"c\">            { id: 'col2', type: 'number', label: 'Column 2' },</span>","<span class=\"c\">        ],</span>","<span class=\"c\">        rows: [</span>","<span class=\"c\">            { c: [ {v: 'Row 1' }, {v: 123} ] },</span>","<span class=\"c\">            { c: [ {v: 'Row 2' }, {v: 456} ] }</span>","<span class=\"c\">        ]</span>","<span class=\"c\">    }</span>","<span class=\"c\">    </span>","<span class=\"c\">    cdaTable:   a CDA JSON table</span>","<span class=\"c\">    returns:    a Google DataTable JSON table object</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataTable<span class=\"k\">.</span>convertCdaToDataTable <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span> cdaTable <span class=\"k\">)</span> <span class=\"k\">{</span>","","    <span class=\"k\">var</span> cols <span class=\"k\">=</span> <span class=\"k\">[];</span>","    <span class=\"k\">var</span> rows <span class=\"k\">=</span> <span class=\"k\">[];</span>","    ","    <span class=\"c\">// create the columns objects</span>","    <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> columnIdx<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> columnIdx<span class=\"k\">&lt;</span>cdaTable<span class=\"k\">.</span>metadata<span class=\"k\">.</span>length<span class=\"k\">;</span> columnIdx<span class=\"k\">++)</span> <span class=\"k\">{</span>","        <span class=\"c\">// create a column object</span>","        col <span class=\"k\">=</span> <span class=\"k\">{</span>","            id<span class=\"k\">:</span> cdaTable<span class=\"k\">.</span>metadata<span class=\"k\">[</span>columnIdx<span class=\"k\">].</span>colName<span class=\"k\">,</span>","            type<span class=\"k\">:</span> cdaTable<span class=\"k\">.</span>metadata<span class=\"k\">[</span>columnIdx<span class=\"k\">].</span>colType<span class=\"k\">.</span>toLowerCase<span class=\"k\">(),</span>","            label<span class=\"k\">:</span> cdaTable<span class=\"k\">.</span>metadata<span class=\"k\">[</span>columnIdx<span class=\"k\">].</span>colLabel","        <span class=\"k\">}</span>","        <span class=\"k\">if</span><span class=\"k\">(!</span>col<span class=\"k\">.</span>label<span class=\"k\">)</span> <span class=\"k\">{</span>","            col<span class=\"k\">.</span>label <span class=\"k\">=</span> col<span class=\"k\">.</span>id<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span><span class=\"k\">(</span>col<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'numeric'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"c\">// convert 'numeric' to 'number' to be compatible with Google Charts</span>","            col<span class=\"k\">.</span>type <span class=\"k\">=</span> <span class=\"s\">'number'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"c\">// add the column to the cols array</span>","        cols<span class=\"k\">.</span>push<span class=\"k\">(</span>col<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    ","    <span class=\"c\">// now add the rows</span>","    <span class=\"k\">var</span> cdaData <span class=\"k\">=</span> cdaTable<span class=\"k\">.</span>resultset<span class=\"k\">;</span>","    <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> rowIdx<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> rowIdx<span class=\"k\">&lt;</span>cdaData<span class=\"k\">.</span>length<span class=\"k\">;</span> rowIdx<span class=\"k\">++)</span> <span class=\"k\">{</span>","        <span class=\"c\">// create a cells array</span>","        <span class=\"k\">var</span> cells <span class=\"k\">=</span> <span class=\"k\">[];</span>","        <span class=\"k\">var</span> cdaRow <span class=\"k\">=</span> cdaData<span class=\"k\">[</span>rowIdx<span class=\"k\">];</span>","        <span class=\"k\">for</span><span class=\"k\">(</span> columnIdx<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> columnIdx<span class=\"k\">&lt;</span>cdaRow<span class=\"k\">.</span>length<span class=\"k\">;</span> columnIdx<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"c\">// add a value to the cells array</span>","            cells<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">{</span>","                v<span class=\"k\">:</span> cdaRow<span class=\"k\">[</span>columnIdx<span class=\"k\">]</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> row <span class=\"k\">=</span> <span class=\"k\">{</span>","            c<span class=\"k\">:</span> cells","        <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"c\">// add the row to the rows array</span>","        rows<span class=\"k\">.</span>push<span class=\"k\">(</span>row<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    ","    <span class=\"c\">// returns the finished object</span>","    <span class=\"k\">return</span> <span class=\"k\">{</span>","        cols<span class=\"k\">:</span> cols<span class=\"k\">,</span>","        rows<span class=\"k\">:</span> rows","    <span class=\"k\">}</span><span class=\"k\">;</span>","","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getNumberOfColumns</span>","<span class=\"c\">    returns     The number of columns in the table</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataTable<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getNumberOfColumns <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>jsonTable<span class=\"k\">.</span>cols<span class=\"k\">.</span>length<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getNumberOfRows</span>","<span class=\"c\">    returns     The number of rows in the table</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataTable<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getNumberOfRows <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>jsonTable<span class=\"k\">.</span>rows<span class=\"k\">.</span>length<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getColumnType</span>","<span class=\"c\">    columnIdx   The column number (zero based)</span>","<span class=\"c\">    returns     The type of the specified column (number, string, date, boolean</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataTable<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getColumnType <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>columnIdx<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>jsonTable<span class=\"k\">.</span>cols<span class=\"k\">[</span>columnIdx<span class=\"k\">].</span>type<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getColumnId</span>","<span class=\"c\">    columnIdx   The column number (zero based)</span>","<span class=\"c\">    returns     The id of the specified column</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataTable<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getColumnId <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>columnIdx<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>jsonTable<span class=\"k\">.</span>cols<span class=\"k\">[</span>columnIdx<span class=\"k\">].</span>id<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getColumnLabel</span>","<span class=\"c\">    columnIdx   The column number (zero based)</span>","<span class=\"c\">    returns     The label of the specified column</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataTable<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getColumnLabel <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>columnIdx<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>jsonTable<span class=\"k\">.</span>cols<span class=\"k\">[</span>columnIdx<span class=\"k\">].</span>label<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getValue</span>","<span class=\"c\">    columnIdx   The column number (zero based)</span>","<span class=\"c\">    rowIdx      The row number (zero based)</span>","<span class=\"c\">    returns     The value of the specified cell</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataTable<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getValue <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>rowIdx<span class=\"k\">,</span>columnIdx<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>jsonTable<span class=\"k\">.</span>rows<span class=\"k\">[</span>rowIdx<span class=\"k\">].</span>c<span class=\"k\">[</span>columnIdx<span class=\"k\">]</span> <span class=\"k\">==</span> <span class=\"k\">null</span><span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>jsonTable<span class=\"k\">.</span>rows<span class=\"k\">[</span>rowIdx<span class=\"k\">].</span>c<span class=\"k\">[</span>columnIdx<span class=\"k\">].</span>v <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"c\">// we have a value field so return it</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>jsonTable<span class=\"k\">.</span>rows<span class=\"k\">[</span>rowIdx<span class=\"k\">].</span>c<span class=\"k\">[</span>columnIdx<span class=\"k\">].</span>v<span class=\"k\">;</span>","    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>jsonTable<span class=\"k\">.</span>rows<span class=\"k\">[</span>rowIdx<span class=\"k\">].</span>c<span class=\"k\">[</span>columnIdx<span class=\"k\">];</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getFormattedValue</span>","<span class=\"c\">    columnIdx   The column number (zero based)</span>","<span class=\"c\">    rowIdx      The row number (zero based)</span>","<span class=\"c\">    returns     The formatted value of the specified cell</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataTable<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getFormattedValue <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>rowIdx<span class=\"k\">,</span>columnIdx<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>jsonTable<span class=\"k\">.</span>rows<span class=\"k\">[</span>rowIdx<span class=\"k\">].</span>c<span class=\"k\">[</span>columnIdx<span class=\"k\">].</span>f <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"c\">// we have a formatted value so return it</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>jsonTable<span class=\"k\">.</span>rows<span class=\"k\">[</span>rowIdx<span class=\"k\">].</span>c<span class=\"k\">[</span>columnIdx<span class=\"k\">].</span>f<span class=\"k\">;</span>","    <span class=\"k\">}</span> ","    <span class=\"k\">else</span> <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>jsonTable<span class=\"k\">.</span>rows<span class=\"k\">[</span>rowIdx<span class=\"k\">].</span>c<span class=\"k\">[</span>columnIdx<span class=\"k\">].</span>v <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"c\">// we have a value field so return it</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>jsonTable<span class=\"k\">.</span>rows<span class=\"k\">[</span>rowIdx<span class=\"k\">].</span>c<span class=\"k\">[</span>columnIdx<span class=\"k\">].</span>v<span class=\"k\">;</span>","    <span class=\"k\">}</span> ","    <span class=\"k\">else</span> <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>jsonTable<span class=\"k\">.</span>rows<span class=\"k\">[</span>rowIdx<span class=\"k\">].</span>c<span class=\"k\">[</span>columnIdx<span class=\"k\">].</span>v <span class=\"k\">==</span> <span class=\"k\">null</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"c\">// we have a null value field so return it</span>","        <span class=\"k\">return</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    <span class=\"k\">}</span> ","    <span class=\"k\">else</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>jsonTable<span class=\"k\">.</span>rows<span class=\"k\">[</span>rowIdx<span class=\"k\">].</span>c<span class=\"k\">[</span>columnIdx<span class=\"k\">];</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getColumnRange</span>","<span class=\"c\">    Returns a range object describing the minimum and maximum values from the specified column</span>","<span class=\"c\">    columnIdx   The column number (zero based)</span>","<span class=\"c\">    returns     A range object - { min: 123, max: 456 }</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataTable<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getColumnRange <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>columnIdx<span class=\"k\">)</span> <span class=\"k\">{</span>","","    <span class=\"k\">var</span> min<span class=\"k\">;</span>","    <span class=\"k\">var</span> max<span class=\"k\">;</span>","    <span class=\"k\">var</span> set <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","    <span class=\"k\">for</span><span class=\"k\">(</span> <span class=\"k\">var</span> rowNo<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> rowNo<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>getNumberOfRows<span class=\"k\">();</span> rowNo<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"c\">// get the value from this row</span>","        <span class=\"k\">var</span> value <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getValue<span class=\"k\">(</span> rowNo<span class=\"k\">,</span> columnIdx <span class=\"k\">);</span>","        <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">!</span>set <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>value <span class=\"k\">||</span> value <span class=\"k\">==</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"c\">// we have found our first value, set the min and max</span>","            min <span class=\"k\">=</span> value<span class=\"k\">;</span>","            max <span class=\"k\">=</span> value<span class=\"k\">;</span>","            set <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span> value <span class=\"k\">&lt;</span> min <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"c\">// adjust the minimum</span>","                min <span class=\"k\">=</span> value<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span><span class=\"k\">(</span> value <span class=\"k\">&gt;</span> max <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"c\">// adjust the maximum</span>","                max <span class=\"k\">=</span> value<span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"c\">// return the range </span>","    <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">{</span>","        min<span class=\"k\">:</span> min<span class=\"k\">,</span>","        max<span class=\"k\">:</span> max","    <span class=\"k\">}</span>","    <span class=\"k\">return</span> range<span class=\"k\">;</span>","","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getDistinctValues</span>","<span class=\"c\">    Returns an array of the distinct values from the specified column</span>","<span class=\"c\">    columnIdx   The column number (zero based)</span>","<span class=\"c\">    Returns     An array of the distinct values from the specified column</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataTable<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getDistinctValues <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>columnIdx<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> values <span class=\"k\">=</span> <span class=\"k\">[];</span>","    <span class=\"k\">var</span> valueMap <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","    <span class=\"k\">for</span><span class=\"k\">(</span> <span class=\"k\">var</span> rowNo<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> rowNo<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>getNumberOfRows<span class=\"k\">();</span> rowNo<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> value <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getValue<span class=\"k\">(</span> rowNo<span class=\"k\">,</span> columnIdx <span class=\"k\">);</span>","        <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">!</span>valueMap<span class=\"k\">[</span>value<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            valueMap<span class=\"k\">[</span>value<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","            values<span class=\"k\">.</span>push<span class=\"k\">(</span>value<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"k\">return</span> values<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getDistinctFormattedValues</span>","<span class=\"c\">    Returns an array of the distinct formatted values from the specified column</span>","<span class=\"c\">    columnIdx   The column number (zero based)</span>","<span class=\"c\">    Returns     an array of the distinct formatted values from the specified column</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataTable<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getDistinctFormattedValues <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>columnIdx<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> values <span class=\"k\">=</span> <span class=\"k\">[];</span>","    <span class=\"k\">var</span> valueMap <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","    <span class=\"k\">for</span><span class=\"k\">(</span> <span class=\"k\">var</span> rowNo<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> rowNo<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>getNumberOfRows<span class=\"k\">();</span> rowNo<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> value <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getFormattedValue<span class=\"k\">(</span> rowNo<span class=\"k\">,</span> columnIdx <span class=\"k\">);</span>","        <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">!</span>valueMap<span class=\"k\">[</span>value<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            valueMap<span class=\"k\">[</span>value<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","            values<span class=\"k\">.</span>push<span class=\"k\">(</span>value<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"k\">return</span> values<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getFilteredRows</span>","<span class=\"c\">    Filters the rows of the table using the specified filter(s). Returns an array of the row numbers</span>","<span class=\"c\">    that met the filter criteria. The result can be passed to DataView.setRows to get a filtered table</span>","<span class=\"c\">    </span>","<span class=\"c\">    To filter on column 0 == 'France'</span>","<span class=\"c\">    var rows = dataTable.getFilteredRows({ column: 0, value: 'France' })</span>","<span class=\"c\">    var view = new pentaho.DataView( dataTable );</span>","<span class=\"c\">    view.setRows(rows)</span>","<span class=\"c\">    </span>","<span class=\"c\">    To combine France and Germany</span>","<span class=\"c\">    var rows = dataTable.getFilteredRows({ column: 0, combine: [{values:['France','Germany']}] })</span>","<span class=\"c\">    var view = new pentaho.DataView( dataTable );</span>","<span class=\"c\">    view.setRows(rows)</span>","<span class=\"c\">    </span>","<span class=\"c\">    Returns     an array of row nummbers of the rows that met the filter requirements</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataTable<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getFilteredRows <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>filters<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> rows <span class=\"k\">=</span> <span class=\"k\">[];</span>","    <span class=\"k\">var</span> comboMap <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","    <span class=\"k\">for</span><span class=\"k\">(</span> <span class=\"k\">var</span> rowNo<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> rowNo<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>getNumberOfRows<span class=\"k\">();</span> rowNo<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"c\">// check each row</span>","        <span class=\"k\">for</span><span class=\"k\">(</span> <span class=\"k\">var</span> filterNo<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> filterNo<span class=\"k\">&lt;</span>filters<span class=\"k\">.</span>length<span class=\"k\">;</span> filterNo<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"c\">// check each filter</span>","            <span class=\"k\">if</span><span class=\"k\">(</span> filters<span class=\"k\">[</span>filterNo<span class=\"k\">].</span>value <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"c\">// this is a 'filter by value'</span>","                <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>getValue<span class=\"k\">(</span> rowNo<span class=\"k\">,</span> filters<span class=\"k\">[</span>filterNo<span class=\"k\">].</span>column <span class=\"k\">)</span> <span class=\"k\">==</span> filters<span class=\"k\">[</span>filterNo<span class=\"k\">].</span>value <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"c\">// this row passes the filter requirements, add the row number to the rows array</span>","                    rows<span class=\"k\">.</span>push<span class=\"k\">(</span> rowNo <span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span><span class=\"k\">(</span> filters<span class=\"k\">[</span>filterNo<span class=\"k\">].</span>combinations <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"c\">// this is a 'local combination of rows'</span>","                <span class=\"k\">var</span> value <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getValue<span class=\"k\">(</span> rowNo<span class=\"k\">,</span> filters<span class=\"k\">[</span>filterNo<span class=\"k\">].</span>column <span class=\"k\">);</span>","                <span class=\"k\">var</span> combinations <span class=\"k\">=</span> filters<span class=\"k\">[</span>filterNo<span class=\"k\">].</span>combinations<span class=\"k\">;</span>","                <span class=\"k\">var</span> combined <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                <span class=\"k\">for</span><span class=\"k\">(</span> combinationNo<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> combinationNo<span class=\"k\">&lt;</span>combinations<span class=\"k\">.</span>length<span class=\"k\">;</span> combinationNo<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"c\">// check the values</span>","                    <span class=\"k\">for</span><span class=\"k\">(</span> valueNo<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> valueNo<span class=\"k\">&lt;</span>combinations<span class=\"k\">[</span>combinationNo<span class=\"k\">].</span>values<span class=\"k\">.</span>length<span class=\"k\">;</span> valueNo<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span><span class=\"k\">(</span> value <span class=\"k\">==</span> combinations<span class=\"k\">[</span>combinationNo<span class=\"k\">].</span>values<span class=\"k\">[</span>valueNo<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"c\">// found something to combine</span>","                            <span class=\"k\">if</span><span class=\"k\">(</span> comboMap<span class=\"k\">[</span>combinationNo<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                comboMap<span class=\"k\">[</span>combinationNo<span class=\"k\">][</span><span class=\"s\">1</span><span class=\"k\">].</span>push<span class=\"k\">(</span> rowNo <span class=\"k\">);</span>","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                <span class=\"c\">// this is a new one</span>","                                <span class=\"k\">var</span> row <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">'combine'</span><span class=\"k\">,[]];</span>","                                row<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">].</span>push<span class=\"k\">(</span> rowNo <span class=\"k\">);</span>","                                rows<span class=\"k\">.</span>push<span class=\"k\">(</span> row <span class=\"k\">);</span>","                                comboMap<span class=\"k\">[</span>combinationNo<span class=\"k\">]</span> <span class=\"k\">=</span> row<span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                            combined <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">!</span>combined <span class=\"k\">)</span> <span class=\"k\">{</span>","                    rows<span class=\"k\">.</span>push<span class=\"k\">(</span> rowNo <span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"k\">return</span> rows<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    setColumnProperty</span>","<span class=\"c\">    Sets a column property</span>","","<span class=\"c\">    columnIndex The index of the column to set the property on</span>","<span class=\"c\">    name        The name of the property</span>","<span class=\"c\">    value       The value of the property</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataTable<span class=\"k\">.</span>prototype<span class=\"k\">.</span>setColumnProperty <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>columnIndex<span class=\"k\">,</span> name<span class=\"k\">,</span> value<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">if</span><span class=\"k\">(</span> columnIndex <span class=\"k\">&gt;=</span> <span class=\"s\">0</span> <span class=\"k\">&amp;&amp;</span> columnIndex <span class=\"k\">&lt;</span> <span class=\"k\">this</span><span class=\"k\">.</span>jsonTable<span class=\"k\">.</span>cols<span class=\"k\">.</span>length<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>jsonTable<span class=\"k\">.</span>cols<span class=\"k\">[</span>columnIndex<span class=\"k\">][</span>name<span class=\"k\">]</span> <span class=\"k\">=</span> value<span class=\"k\">;</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getColumnProperty</span>","<span class=\"c\">    Returns a column property</span>","","<span class=\"c\">    columnIndex The index of the column to set the property on</span>","<span class=\"c\">    name        The name of the property</span>","","<span class=\"c\">    Return      The value of the property</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataTable<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getColumnProperty <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>columnIndex<span class=\"k\">,</span> name<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">if</span><span class=\"k\">(</span> columnIndex <span class=\"k\">&gt;=</span> <span class=\"s\">0</span> <span class=\"k\">&amp;&amp;</span> columnIndex <span class=\"k\">&lt;</span> <span class=\"k\">this</span><span class=\"k\">.</span>jsonTable<span class=\"k\">.</span>cols<span class=\"k\">.</span>length<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>jsonTable<span class=\"k\">.</span>cols<span class=\"k\">[</span>columnIndex<span class=\"k\">][</span>name<span class=\"k\">];</span>","    <span class=\"k\">}</span>","    <span class=\"k\">return</span> <span class=\"k\">null</span><span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/****************************************************</span>","<span class=\"c\">    pentaho.DataView</span>","<span class=\"c\">    A client-side data view object.</span>","<span class=\"c\">    Provides a way to access a subset of a DataTable.</span>","<span class=\"c\">    You can reduce the rows and/or columns of the</span>","<span class=\"c\">    underlying DataTable</span>","<span class=\"c\">****************************************************/</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    Constructor</span>","<span class=\"c\">    dataTable:  A DataTable object to base this view on</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataView <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span> dataTable <span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>dataTable <span class=\"k\">=</span> dataTable<span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>rows <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>columns <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>className <span class=\"k\">=</span> <span class=\"s\">\"pentaho.DataView\"</span><span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    setRows</span>","<span class=\"c\">    Sets the row numbers of the rows to have in the view.</span>","<span class=\"c\">    The row numbers do not have to match the order of the</span>","<span class=\"c\">    underlying table.</span>","<span class=\"c\">    If this function is not called this DataView will include</span>","<span class=\"c\">    all the rows of the underlying DataTable.</span>","<span class=\"c\">    All of the row numbers must be within the range of valid</span>","<span class=\"c\">    row numbers for the DataTable.</span>","<span class=\"c\">    </span>","<span class=\"c\">    rows    An array of row numbers</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataView<span class=\"k\">.</span>prototype<span class=\"k\">.</span>setRows <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>rows<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>rows <span class=\"k\">=</span> rows<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    setColumns</span>","<span class=\"c\">    Sets the column numbers to have in the view.</span>","<span class=\"c\">    The column numbers do not have to match the order of the</span>","<span class=\"c\">    columns in the underlying table.</span>","<span class=\"c\">    If this function is not called this DataView will include</span>","<span class=\"c\">    all the columns of the underlying DataTable.</span>","<span class=\"c\">    All of the columns numbers must be within the range of valid</span>","<span class=\"c\">    columns numbers for the DataTable.</span>","<span class=\"c\">    </span>","<span class=\"c\">    columns    An array of columns numbers</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataView<span class=\"k\">.</span>prototype<span class=\"k\">.</span>setColumns <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>columns<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>columns <span class=\"k\">=</span> columns<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getColumnRange</span>","<span class=\"c\">    Returns a range object describing the minimum and maximum values from the specified column</span>","<span class=\"c\">    columnIdx   The column number (zero based)</span>","<span class=\"c\">    returns     A range object - { min: 123, max: 456 }</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataView<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getColumnRange <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>columnIdx<span class=\"k\">)</span> <span class=\"k\">{</span>","","    <span class=\"k\">var</span> min<span class=\"k\">;</span>","    <span class=\"k\">var</span> max<span class=\"k\">;</span>","    <span class=\"k\">var</span> set <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","    <span class=\"k\">for</span><span class=\"k\">(</span> <span class=\"k\">var</span> rowNo<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> rowNo<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>getNumberOfRows<span class=\"k\">();</span> rowNo<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> value <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getValue<span class=\"k\">(</span> rowNo<span class=\"k\">,</span> columnIdx <span class=\"k\">);</span>","        <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">!</span>set <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>value <span class=\"k\">||</span> value <span class=\"k\">==</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            min <span class=\"k\">=</span> value<span class=\"k\">;</span>","            max <span class=\"k\">=</span> value<span class=\"k\">;</span>","            set <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span> value <span class=\"k\">&lt;</span> min <span class=\"k\">)</span> <span class=\"k\">{</span>","                min <span class=\"k\">=</span> value<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span><span class=\"k\">(</span> value <span class=\"k\">&gt;</span> max <span class=\"k\">)</span> <span class=\"k\">{</span>","                max <span class=\"k\">=</span> value<span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">{</span>","        min<span class=\"k\">:</span> min<span class=\"k\">,</span>","        max<span class=\"k\">:</span> max","    <span class=\"k\">}</span>","    <span class=\"k\">return</span> range<span class=\"k\">;</span>","","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getDistinctValues</span>","<span class=\"c\">    Returns an array of the distinct values from the specified column</span>","<span class=\"c\">    columnIdx   The column number (zero based)</span>","<span class=\"c\">    Returns     An array of the distinct values from the specified column</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataView<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getDistinctValues <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>columnIdx<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> values <span class=\"k\">=</span> <span class=\"k\">[];</span>","    <span class=\"k\">var</span> valueMap <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","    <span class=\"k\">for</span><span class=\"k\">(</span> <span class=\"k\">var</span> rowNo<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> rowNo<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>getNumberOfRows<span class=\"k\">();</span> rowNo<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> value <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getValue<span class=\"k\">(</span> rowNo<span class=\"k\">,</span> columnIdx <span class=\"k\">);</span>","        <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">!</span>valueMap<span class=\"k\">[</span>value<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            valueMap<span class=\"k\">[</span>value<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","            values<span class=\"k\">.</span>push<span class=\"k\">(</span>value<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"k\">return</span> values<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getDistinctFormattedValues</span>","<span class=\"c\">    Returns an array of the distinct formatted values from the specified column</span>","<span class=\"c\">    columnIdx   The column number (zero based)</span>","<span class=\"c\">    Returns     an array of the distinct formatted values from the specified column</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataView<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getDistinctFormattedValues <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>columnIdx<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> values <span class=\"k\">=</span> <span class=\"k\">[];</span>","    <span class=\"k\">var</span> valueMap <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","    <span class=\"k\">for</span><span class=\"k\">(</span> <span class=\"k\">var</span> rowNo<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> rowNo<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>getNumberOfRows<span class=\"k\">();</span> rowNo<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> value <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getFormattedValue<span class=\"k\">(</span> rowNo<span class=\"k\">,</span> columnIdx <span class=\"k\">);</span>","        <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">!</span>valueMap<span class=\"k\">[</span>value<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            valueMap<span class=\"k\">[</span>value<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","            values<span class=\"k\">.</span>push<span class=\"k\">(</span>value<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"k\">return</span> values<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    hideColumns</span>","<span class=\"c\">    Removes columns from the view.</span>","<span class=\"c\">    The list of column numbers to hide must be in ascending order so the indexes don't shift as we delete.</span>","<span class=\"c\">    </span>","<span class=\"c\">    columns     An array of column numbers to hide</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataView<span class=\"k\">.</span>prototype<span class=\"k\">.</span>hideColumns <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>columns<span class=\"k\">)</span> <span class=\"k\">{</span>","    tmpCols <span class=\"k\">=</span> <span class=\"k\">[];</span>","    <span class=\"k\">for</span><span class=\"k\">(</span> <span class=\"k\">var</span> columnIdx<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> columnIdx <span class=\"k\">&lt;</span> <span class=\"k\">this</span><span class=\"k\">.</span>getNumberOfColumns<span class=\"k\">();</span> columnIdx<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","        tmpCols<span class=\"k\">.</span>push<span class=\"k\">(</span> columnIdx <span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">for</span><span class=\"k\">(</span> <span class=\"k\">var</span> idx<span class=\"k\">=</span>columns<span class=\"k\">.</span>length<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span> idx<span class=\"k\">&gt;</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span> idx<span class=\"k\">--</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","        tmpCols<span class=\"k\">.</span>splice<span class=\"k\">(</span>columns<span class=\"k\">[</span>idx<span class=\"k\">],</span><span class=\"s\">1</span><span class=\"k\">)</span>","    <span class=\"k\">}</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>columns <span class=\"k\">=</span> tmpCols<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getNumberOfRows</span>","<span class=\"c\">    returns     The number of rows in the table</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataView<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getNumberOfRows <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>rows <span class=\"k\">==</span> <span class=\"k\">null</span> <span class=\"k\">?</span> <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getNumberOfRows<span class=\"k\">()</span> <span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>rows<span class=\"k\">.</span>length<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getNumberOfColumns</span>","<span class=\"c\">    returns     The number of columns in the table</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataView<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getNumberOfColumns <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>columns <span class=\"k\">==</span> <span class=\"k\">null</span> <span class=\"k\">?</span> <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getNumberOfColumns<span class=\"k\">()</span> <span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>columns<span class=\"k\">.</span>length<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getColumnId</span>","<span class=\"c\">    columnIdx   The column number (zero based)</span>","<span class=\"c\">    returns     The id of the specified column</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataView<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getColumnId <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>columnIdx<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>columns <span class=\"k\">==</span> <span class=\"k\">null</span> <span class=\"k\">?</span> <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getColumnId<span class=\"k\">(</span>columnIdx<span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getColumnId<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>columns<span class=\"k\">[</span>columnIdx<span class=\"k\">]);</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getColumnLabel</span>","<span class=\"c\">    columnIdx   The column number (zero based)</span>","<span class=\"c\">    returns     The label of the specified column</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataView<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getColumnLabel <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>columnIdx<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>columns <span class=\"k\">==</span> <span class=\"k\">null</span> <span class=\"k\">?</span> <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getColumnLabel<span class=\"k\">(</span>columnIdx<span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getColumnLabel<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>columns<span class=\"k\">[</span>columnIdx<span class=\"k\">]);</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getColumnType</span>","<span class=\"c\">    columnIdx   The column number (zero based)</span>","<span class=\"c\">    returns     The type of the specified column (number, string, date, boolean</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataView<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getColumnType <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>columnIdx<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>columns <span class=\"k\">==</span> <span class=\"k\">null</span> <span class=\"k\">?</span> <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getColumnType<span class=\"k\">(</span>columnIdx<span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getColumnType<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>columns<span class=\"k\">[</span>columnIdx<span class=\"k\">]);</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getValue</span>","<span class=\"c\">    columnIdx   The column number (zero based)</span>","<span class=\"c\">    rowIdx      The row number (zero based)</span>","<span class=\"c\">    returns     The value of the specified cell</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataView<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getValue <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>rowNo<span class=\"k\">,</span> colNo<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> rowIdx <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>rows <span class=\"k\">==</span> <span class=\"k\">null</span> <span class=\"k\">?</span> rowNo <span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>rows<span class=\"k\">[</span>rowNo<span class=\"k\">];</span>","    <span class=\"k\">var</span> colIdx <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>columns <span class=\"k\">==</span> <span class=\"k\">null</span> <span class=\"k\">?</span> colNo <span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>columns<span class=\"k\">[</span>colNo<span class=\"k\">];</span>","    <span class=\"k\">if</span><span class=\"k\">(</span> rowIdx<span class=\"k\">.</span>length <span class=\"k\">&amp;&amp;</span> rowIdx<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">==</span> <span class=\"s\">'combine'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"c\">// this is a combined row</span>","","        <span class=\"k\">var</span> type <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getColumnType<span class=\"k\">(</span>colNo<span class=\"k\">);</span>","        <span class=\"k\">var</span> value ","        <span class=\"k\">for</span><span class=\"k\">(</span> <span class=\"k\">var</span> idx<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> idx<span class=\"k\">&lt;</span>rowIdx<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">].</span>length<span class=\"k\">;</span> idx<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span> idx <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                value <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getValue<span class=\"k\">(</span>rowIdx<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">][</span>idx<span class=\"k\">],</span> colIdx<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">else</span> <span class=\"k\">if</span><span class=\"k\">(</span> type <span class=\"k\">==</span> <span class=\"s\">'string'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                value <span class=\"k\">+=</span> <span class=\"s\">' + '</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getValue<span class=\"k\">(</span>rowIdx<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">][</span>idx<span class=\"k\">],</span> colIdx<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">else</span> <span class=\"k\">if</span><span class=\"k\">(</span> type <span class=\"k\">==</span> <span class=\"s\">'number'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                value <span class=\"k\">+=</span> <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getValue<span class=\"k\">(</span>rowIdx<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">][</span>idx<span class=\"k\">],</span> colIdx<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> value<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getValue<span class=\"k\">(</span>rowIdx<span class=\"k\">,</span> colIdx<span class=\"k\">);</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getFormattedValue</span>","<span class=\"c\">    columnIdx   The column number (zero based)</span>","<span class=\"c\">    rowIdx      The row number (zero based)</span>","<span class=\"c\">    returns     The formatted value of the specified cell</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataView<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getFormattedValue <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>rowNo<span class=\"k\">,</span> colNo<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> rowIdx <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>rows <span class=\"k\">==</span> <span class=\"k\">null</span> <span class=\"k\">?</span> rowNo <span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>rows<span class=\"k\">[</span>rowNo<span class=\"k\">];</span>","    <span class=\"k\">var</span> colIdx <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>columns <span class=\"k\">==</span> <span class=\"k\">null</span> <span class=\"k\">?</span> colNo <span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>columns<span class=\"k\">[</span>colNo<span class=\"k\">];</span>","    <span class=\"k\">if</span><span class=\"k\">(</span> rowIdx<span class=\"k\">.</span>length <span class=\"k\">&amp;&amp;</span> rowIdx<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">==</span> <span class=\"s\">'combine'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"c\">// this is a combined row</span>","","        <span class=\"k\">var</span> type <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getColumnType<span class=\"k\">(</span>colNo<span class=\"k\">);</span>","        <span class=\"k\">var</span> value ","        <span class=\"k\">for</span><span class=\"k\">(</span> <span class=\"k\">var</span> idx<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> idx<span class=\"k\">&lt;</span>rowIdx<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">].</span>length<span class=\"k\">;</span> idx<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span> idx <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                value <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getFormattedValue<span class=\"k\">(</span>rowIdx<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">][</span>idx<span class=\"k\">],</span> colIdx<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">else</span> <span class=\"k\">if</span><span class=\"k\">(</span> type <span class=\"k\">==</span> <span class=\"s\">'string'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                value <span class=\"k\">+=</span> <span class=\"s\">' + '</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getFormattedValue<span class=\"k\">(</span>rowIdx<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">][</span>idx<span class=\"k\">],</span> colIdx<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">else</span> <span class=\"k\">if</span><span class=\"k\">(</span> type <span class=\"k\">==</span> <span class=\"s\">'number'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                value <span class=\"k\">+=</span> <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getFormattedValue<span class=\"k\">(</span>rowIdx<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">][</span>idx<span class=\"k\">],</span> colIdx<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> value<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getFormattedValue<span class=\"k\">(</span>rowIdx<span class=\"k\">,</span> colIdx<span class=\"k\">);</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    toDataTable</span>","<span class=\"c\">    Converts this view into a DataTable that has its own copy of the</span>","<span class=\"c\">    underlying data.</span>","<span class=\"c\">    The column metadata and the rows are copied into the new object.</span>","<span class=\"c\">    </span>","<span class=\"c\">    Returns:    A DataTable</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataView<span class=\"k\">.</span>prototype<span class=\"k\">.</span>toDataTable <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","","    <span class=\"k\">var</span> cols <span class=\"k\">=</span> <span class=\"k\">[];</span>","    <span class=\"k\">for</span><span class=\"k\">(</span> <span class=\"k\">var</span> colIdx<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> colIdx<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>getNumberOfColumns<span class=\"k\">();</span> colIdx<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","        col <span class=\"k\">=</span> <span class=\"k\">{</span>","            type<span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>getColumnType<span class=\"k\">(</span>colIdx<span class=\"k\">),</span>","            id<span class=\"k\">:</span>  <span class=\"k\">this</span><span class=\"k\">.</span>getColumnId<span class=\"k\">(</span>colIdx<span class=\"k\">),</span>","            label<span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>getColumnLabel<span class=\"k\">(</span>colIdx<span class=\"k\">)</span>","        <span class=\"k\">}</span>","        cols<span class=\"k\">.</span>push<span class=\"k\">(</span>col<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> rows <span class=\"k\">=</span> <span class=\"k\">[];</span>","    <span class=\"k\">for</span><span class=\"k\">(</span> <span class=\"k\">var</span> rowIdx<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> rowIdx<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>getNumberOfRows<span class=\"k\">();</span> rowIdx<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","        cells <span class=\"k\">=</span> <span class=\"k\">[];</span>","        <span class=\"k\">for</span><span class=\"k\">(</span> <span class=\"k\">var</span> colIdx<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> colIdx<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>getNumberOfColumns<span class=\"k\">();</span> colIdx<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            cells<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">{</span>","                v<span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>getValue<span class=\"k\">(</span>rowIdx<span class=\"k\">,</span> colIdx<span class=\"k\">),</span>","                f<span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>getFormattedValue<span class=\"k\">(</span>rowIdx<span class=\"k\">,</span> colIdx<span class=\"k\">)</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","        row <span class=\"k\">=</span> <span class=\"k\">{</span>","            c<span class=\"k\">:</span> cells","        <span class=\"k\">}</span><span class=\"k\">;</span>","        rows<span class=\"k\">.</span>push<span class=\"k\">(</span> row <span class=\"k\">);</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">var</span> json <span class=\"k\">=</span> <span class=\"k\">{</span> cols<span class=\"k\">:</span> cols<span class=\"k\">,</span> rows<span class=\"k\">:</span> rows <span class=\"k\">}</span><span class=\"k\">;</span>","    ","    <span class=\"k\">var</span> table <span class=\"k\">=</span> <span class=\"k\">new</span> pentaho<span class=\"k\">.</span>DataTable<span class=\"k\">(</span>json<span class=\"k\">);</span>","    <span class=\"k\">return</span> table<span class=\"k\">;</span>","","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    setColumnProperty</span>","<span class=\"c\">    Sets a column property</span>","","<span class=\"c\">    columnIndex The index of the column to set the property on</span>","<span class=\"c\">    name        The name of the property</span>","<span class=\"c\">    value       The value of the property</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataView<span class=\"k\">.</span>prototype<span class=\"k\">.</span>setColumnProperty <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>columnIndex<span class=\"k\">,</span> name<span class=\"k\">,</span> value<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>setColumnProperty<span class=\"k\">(</span>columnIndex<span class=\"k\">,</span> name<span class=\"k\">,</span> value<span class=\"k\">);</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\">    getColumnProperty</span>","<span class=\"c\">    Returns a column property</span>","","<span class=\"c\">    columnIndex The index of the column to set the property on</span>","<span class=\"c\">    name        The name of the property</span>","","<span class=\"c\">    Return      The value of the property</span>","<span class=\"c\">*/</span>","pentaho<span class=\"k\">.</span>DataView<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getColumnProperty <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>columnIndex<span class=\"k\">,</span> name<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getColumnProperty<span class=\"k\">(</span>columnIndex<span class=\"k\">,</span> name<span class=\"k\">);</span>","<span class=\"k\">}</span>"];
_$jscoverage['vizapi/DataTable.js'][11]++;
pentaho = (((typeof pentaho) == "undefined")? {}: pentaho);
_$jscoverage['vizapi/DataTable.js'][22]++;
pentaho.DataTable = (function (jsonTable) {
  _$jscoverage['vizapi/DataTable.js'][23]++;
  this.jsonTable = jsonTable;
  _$jscoverage['vizapi/DataTable.js'][24]++;
  this.className = "pentaho.DataTable";
  _$jscoverage['vizapi/DataTable.js'][25]++;
  if (jsonTable.metadata) {
    _$jscoverage['vizapi/DataTable.js'][27]++;
    this.jsonTable = pentaho.DataTable.convertCdaToDataTable(jsonTable);
  }
});
_$jscoverage['vizapi/DataTable.js'][62]++;
pentaho.DataTable.convertCdaToDataTable = (function (cdaTable) {
  _$jscoverage['vizapi/DataTable.js'][64]++;
  var cols = [];
  _$jscoverage['vizapi/DataTable.js'][65]++;
  var rows = [];
  _$jscoverage['vizapi/DataTable.js'][68]++;
  for (var columnIdx = 0; (columnIdx < cdaTable.metadata.length); (columnIdx++)) {
    _$jscoverage['vizapi/DataTable.js'][70]++;
    col = {id: cdaTable.metadata[columnIdx].colName, type: cdaTable.metadata[columnIdx].colType.toLowerCase(), label: cdaTable.metadata[columnIdx].colLabel};
    _$jscoverage['vizapi/DataTable.js'][75]++;
    if ((! col.label)) {
      _$jscoverage['vizapi/DataTable.js'][76]++;
      col.label = col.id;
    }
    _$jscoverage['vizapi/DataTable.js'][78]++;
    if ((col.type == "numeric")) {
      _$jscoverage['vizapi/DataTable.js'][80]++;
      col.type = "number";
    }
    _$jscoverage['vizapi/DataTable.js'][83]++;
    cols.push(col);
}
  _$jscoverage['vizapi/DataTable.js'][87]++;
  var cdaData = cdaTable.resultset;
  _$jscoverage['vizapi/DataTable.js'][88]++;
  for (var rowIdx = 0; (rowIdx < cdaData.length); (rowIdx++)) {
    _$jscoverage['vizapi/DataTable.js'][90]++;
    var cells = [];
    _$jscoverage['vizapi/DataTable.js'][91]++;
    var cdaRow = cdaData[rowIdx];
    _$jscoverage['vizapi/DataTable.js'][92]++;
    for (columnIdx = 0; (columnIdx < cdaRow.length); (columnIdx++)) {
      _$jscoverage['vizapi/DataTable.js'][94]++;
      cells.push({v: cdaRow[columnIdx]});
}
    _$jscoverage['vizapi/DataTable.js'][98]++;
    var row = {c: cells};
    _$jscoverage['vizapi/DataTable.js'][102]++;
    rows.push(row);
}
  _$jscoverage['vizapi/DataTable.js'][106]++;
  return ({cols: cols, rows: rows});
});
_$jscoverage['vizapi/DataTable.js'][117]++;
pentaho.DataTable.prototype.getNumberOfColumns = (function () {
  _$jscoverage['vizapi/DataTable.js'][118]++;
  return this.jsonTable.cols.length;
});
_$jscoverage['vizapi/DataTable.js'][125]++;
pentaho.DataTable.prototype.getNumberOfRows = (function () {
  _$jscoverage['vizapi/DataTable.js'][126]++;
  return this.jsonTable.rows.length;
});
_$jscoverage['vizapi/DataTable.js'][134]++;
pentaho.DataTable.prototype.getColumnType = (function (columnIdx) {
  _$jscoverage['vizapi/DataTable.js'][135]++;
  return this.jsonTable.cols[columnIdx].type;
});
_$jscoverage['vizapi/DataTable.js'][143]++;
pentaho.DataTable.prototype.getColumnId = (function (columnIdx) {
  _$jscoverage['vizapi/DataTable.js'][144]++;
  return this.jsonTable.cols[columnIdx].id;
});
_$jscoverage['vizapi/DataTable.js'][152]++;
pentaho.DataTable.prototype.getColumnLabel = (function (columnIdx) {
  _$jscoverage['vizapi/DataTable.js'][153]++;
  return this.jsonTable.cols[columnIdx].label;
});
_$jscoverage['vizapi/DataTable.js'][162]++;
pentaho.DataTable.prototype.getValue = (function (rowIdx, columnIdx) {
  _$jscoverage['vizapi/DataTable.js'][163]++;
  if ((this.jsonTable.rows[rowIdx].c[columnIdx] == null)) {
    _$jscoverage['vizapi/DataTable.js'][164]++;
    return null;
  }
  _$jscoverage['vizapi/DataTable.js'][166]++;
  if (this.jsonTable.rows[rowIdx].c[columnIdx].v) {
    _$jscoverage['vizapi/DataTable.js'][168]++;
    return this.jsonTable.rows[rowIdx].c[columnIdx].v;
  }
  else {
    _$jscoverage['vizapi/DataTable.js'][170]++;
    return this.jsonTable.rows[rowIdx].c[columnIdx];
  }
});
_$jscoverage['vizapi/DataTable.js'][180]++;
pentaho.DataTable.prototype.getFormattedValue = (function (rowIdx, columnIdx) {
  _$jscoverage['vizapi/DataTable.js'][181]++;
  if (this.jsonTable.rows[rowIdx].c[columnIdx].f) {
    _$jscoverage['vizapi/DataTable.js'][183]++;
    return this.jsonTable.rows[rowIdx].c[columnIdx].f;
  }
  else {
    _$jscoverage['vizapi/DataTable.js'][185]++;
    if (this.jsonTable.rows[rowIdx].c[columnIdx].v) {
      _$jscoverage['vizapi/DataTable.js'][187]++;
      return this.jsonTable.rows[rowIdx].c[columnIdx].v;
    }
    else {
      _$jscoverage['vizapi/DataTable.js'][189]++;
      if ((this.jsonTable.rows[rowIdx].c[columnIdx].v == null)) {
        _$jscoverage['vizapi/DataTable.js'][191]++;
        return null;
      }
      else {
        _$jscoverage['vizapi/DataTable.js'][194]++;
        return this.jsonTable.rows[rowIdx].c[columnIdx];
      }
    }
  }
});
_$jscoverage['vizapi/DataTable.js'][204]++;
pentaho.DataTable.prototype.getColumnRange = (function (columnIdx) {
  _$jscoverage['vizapi/DataTable.js'][206]++;
  var min;
  _$jscoverage['vizapi/DataTable.js'][207]++;
  var max;
  _$jscoverage['vizapi/DataTable.js'][208]++;
  var set = false;
  _$jscoverage['vizapi/DataTable.js'][209]++;
  for (var rowNo = 0; (rowNo < this.getNumberOfRows()); (rowNo++)) {
    _$jscoverage['vizapi/DataTable.js'][211]++;
    var value = this.getValue(rowNo, columnIdx);
    _$jscoverage['vizapi/DataTable.js'][212]++;
    if (((! set) && (value || (value == 0)))) {
      _$jscoverage['vizapi/DataTable.js'][214]++;
      min = value;
      _$jscoverage['vizapi/DataTable.js'][215]++;
      max = value;
      _$jscoverage['vizapi/DataTable.js'][216]++;
      set = true;
    }
    else {
      _$jscoverage['vizapi/DataTable.js'][218]++;
      if ((value < min)) {
        _$jscoverage['vizapi/DataTable.js'][220]++;
        min = value;
      }
      _$jscoverage['vizapi/DataTable.js'][222]++;
      if ((value > max)) {
        _$jscoverage['vizapi/DataTable.js'][224]++;
        max = value;
      }
    }
}
  _$jscoverage['vizapi/DataTable.js'][229]++;
  var range = {min: min, max: max};
  _$jscoverage['vizapi/DataTable.js'][233]++;
  return range;
});
_$jscoverage['vizapi/DataTable.js'][243]++;
pentaho.DataTable.prototype.getDistinctValues = (function (columnIdx) {
  _$jscoverage['vizapi/DataTable.js'][244]++;
  var values = [];
  _$jscoverage['vizapi/DataTable.js'][245]++;
  var valueMap = {};
  _$jscoverage['vizapi/DataTable.js'][246]++;
  for (var rowNo = 0; (rowNo < this.getNumberOfRows()); (rowNo++)) {
    _$jscoverage['vizapi/DataTable.js'][247]++;
    var value = this.getValue(rowNo, columnIdx);
    _$jscoverage['vizapi/DataTable.js'][248]++;
    if ((! valueMap[value])) {
      _$jscoverage['vizapi/DataTable.js'][249]++;
      valueMap[value] = true;
      _$jscoverage['vizapi/DataTable.js'][250]++;
      values.push(value);
    }
}
  _$jscoverage['vizapi/DataTable.js'][253]++;
  return values;
});
_$jscoverage['vizapi/DataTable.js'][262]++;
pentaho.DataTable.prototype.getDistinctFormattedValues = (function (columnIdx) {
  _$jscoverage['vizapi/DataTable.js'][263]++;
  var values = [];
  _$jscoverage['vizapi/DataTable.js'][264]++;
  var valueMap = {};
  _$jscoverage['vizapi/DataTable.js'][265]++;
  for (var rowNo = 0; (rowNo < this.getNumberOfRows()); (rowNo++)) {
    _$jscoverage['vizapi/DataTable.js'][266]++;
    var value = this.getFormattedValue(rowNo, columnIdx);
    _$jscoverage['vizapi/DataTable.js'][267]++;
    if ((! valueMap[value])) {
      _$jscoverage['vizapi/DataTable.js'][268]++;
      valueMap[value] = true;
      _$jscoverage['vizapi/DataTable.js'][269]++;
      values.push(value);
    }
}
  _$jscoverage['vizapi/DataTable.js'][272]++;
  return values;
});
_$jscoverage['vizapi/DataTable.js'][292]++;
pentaho.DataTable.prototype.getFilteredRows = (function (filters) {
  _$jscoverage['vizapi/DataTable.js'][293]++;
  var rows = [];
  _$jscoverage['vizapi/DataTable.js'][294]++;
  var comboMap = {};
  _$jscoverage['vizapi/DataTable.js'][295]++;
  for (var rowNo = 0; (rowNo < this.getNumberOfRows()); (rowNo++)) {
    _$jscoverage['vizapi/DataTable.js'][296]++;
    for (var filterNo = 0; (filterNo < filters.length); (filterNo++)) {
      _$jscoverage['vizapi/DataTable.js'][297]++;
      if (filters[filterNo].value) {
        _$jscoverage['vizapi/DataTable.js'][299]++;
        if ((this.getValue(rowNo, filters[filterNo].column) == filters[filterNo].value)) {
          _$jscoverage['vizapi/DataTable.js'][301]++;
          rows.push(rowNo);
        }
      }
      _$jscoverage['vizapi/DataTable.js'][304]++;
      if (filters[filterNo].combinations) {
        _$jscoverage['vizapi/DataTable.js'][306]++;
        var value = this.getValue(rowNo, filters[filterNo].column);
        _$jscoverage['vizapi/DataTable.js'][307]++;
        var combinations = filters[filterNo].combinations;
        _$jscoverage['vizapi/DataTable.js'][308]++;
        var combined = false;
        _$jscoverage['vizapi/DataTable.js'][309]++;
        for (combinationNo = 0; (combinationNo < combinations.length); (combinationNo++)) {
          _$jscoverage['vizapi/DataTable.js'][311]++;
          for (valueNo = 0; (valueNo < combinations[combinationNo].values.length); (valueNo++)) {
            _$jscoverage['vizapi/DataTable.js'][312]++;
            if ((value == combinations[combinationNo].values[valueNo])) {
              _$jscoverage['vizapi/DataTable.js'][314]++;
              if (comboMap[combinationNo]) {
                _$jscoverage['vizapi/DataTable.js'][315]++;
                comboMap[combinationNo][1].push(rowNo);
              }
              else {
                _$jscoverage['vizapi/DataTable.js'][318]++;
                var row = ["combine", []];
                _$jscoverage['vizapi/DataTable.js'][319]++;
                row[1].push(rowNo);
                _$jscoverage['vizapi/DataTable.js'][320]++;
                rows.push(row);
                _$jscoverage['vizapi/DataTable.js'][321]++;
                comboMap[combinationNo] = row;
              }
              _$jscoverage['vizapi/DataTable.js'][323]++;
              combined = true;
            }
}
}
        _$jscoverage['vizapi/DataTable.js'][327]++;
        if ((! combined)) {
          _$jscoverage['vizapi/DataTable.js'][328]++;
          rows.push(rowNo);
        }
      }
}
}
  _$jscoverage['vizapi/DataTable.js'][333]++;
  return rows;
});
_$jscoverage['vizapi/DataTable.js'][344]++;
pentaho.DataTable.prototype.setColumnProperty = (function (columnIndex, name, value) {
  _$jscoverage['vizapi/DataTable.js'][345]++;
  if (((columnIndex >= 0) && (columnIndex < this.jsonTable.cols.length))) {
    _$jscoverage['vizapi/DataTable.js'][346]++;
    this.jsonTable.cols[columnIndex][name] = value;
  }
});
_$jscoverage['vizapi/DataTable.js'][359]++;
pentaho.DataTable.prototype.getColumnProperty = (function (columnIndex, name) {
  _$jscoverage['vizapi/DataTable.js'][360]++;
  if (((columnIndex >= 0) && (columnIndex < this.jsonTable.cols.length))) {
    _$jscoverage['vizapi/DataTable.js'][361]++;
    return this.jsonTable.cols[columnIndex][name];
  }
  _$jscoverage['vizapi/DataTable.js'][363]++;
  return null;
});
_$jscoverage['vizapi/DataTable.js'][378]++;
pentaho.DataView = (function (dataTable) {
  _$jscoverage['vizapi/DataTable.js'][379]++;
  this.dataTable = dataTable;
  _$jscoverage['vizapi/DataTable.js'][380]++;
  this.rows = null;
  _$jscoverage['vizapi/DataTable.js'][381]++;
  this.columns = null;
  _$jscoverage['vizapi/DataTable.js'][382]++;
  this.className = "pentaho.DataView";
});
_$jscoverage['vizapi/DataTable.js'][397]++;
pentaho.DataView.prototype.setRows = (function (rows) {
  _$jscoverage['vizapi/DataTable.js'][398]++;
  this.rows = rows;
});
_$jscoverage['vizapi/DataTable.js'][413]++;
pentaho.DataView.prototype.setColumns = (function (columns) {
  _$jscoverage['vizapi/DataTable.js'][414]++;
  this.columns = columns;
});
_$jscoverage['vizapi/DataTable.js'][423]++;
pentaho.DataView.prototype.getColumnRange = (function (columnIdx) {
  _$jscoverage['vizapi/DataTable.js'][425]++;
  var min;
  _$jscoverage['vizapi/DataTable.js'][426]++;
  var max;
  _$jscoverage['vizapi/DataTable.js'][427]++;
  var set = false;
  _$jscoverage['vizapi/DataTable.js'][428]++;
  for (var rowNo = 0; (rowNo < this.getNumberOfRows()); (rowNo++)) {
    _$jscoverage['vizapi/DataTable.js'][429]++;
    var value = this.getValue(rowNo, columnIdx);
    _$jscoverage['vizapi/DataTable.js'][430]++;
    if (((! set) && (value || (value == 0)))) {
      _$jscoverage['vizapi/DataTable.js'][431]++;
      min = value;
      _$jscoverage['vizapi/DataTable.js'][432]++;
      max = value;
      _$jscoverage['vizapi/DataTable.js'][433]++;
      set = true;
    }
    else {
      _$jscoverage['vizapi/DataTable.js'][435]++;
      if ((value < min)) {
        _$jscoverage['vizapi/DataTable.js'][436]++;
        min = value;
      }
      _$jscoverage['vizapi/DataTable.js'][438]++;
      if ((value > max)) {
        _$jscoverage['vizapi/DataTable.js'][439]++;
        max = value;
      }
    }
}
  _$jscoverage['vizapi/DataTable.js'][443]++;
  var range = {min: min, max: max};
  _$jscoverage['vizapi/DataTable.js'][447]++;
  return range;
});
_$jscoverage['vizapi/DataTable.js'][457]++;
pentaho.DataView.prototype.getDistinctValues = (function (columnIdx) {
  _$jscoverage['vizapi/DataTable.js'][458]++;
  var values = [];
  _$jscoverage['vizapi/DataTable.js'][459]++;
  var valueMap = {};
  _$jscoverage['vizapi/DataTable.js'][460]++;
  for (var rowNo = 0; (rowNo < this.getNumberOfRows()); (rowNo++)) {
    _$jscoverage['vizapi/DataTable.js'][461]++;
    var value = this.getValue(rowNo, columnIdx);
    _$jscoverage['vizapi/DataTable.js'][462]++;
    if ((! valueMap[value])) {
      _$jscoverage['vizapi/DataTable.js'][463]++;
      valueMap[value] = true;
      _$jscoverage['vizapi/DataTable.js'][464]++;
      values.push(value);
    }
}
  _$jscoverage['vizapi/DataTable.js'][467]++;
  return values;
});
_$jscoverage['vizapi/DataTable.js'][476]++;
pentaho.DataView.prototype.getDistinctFormattedValues = (function (columnIdx) {
  _$jscoverage['vizapi/DataTable.js'][477]++;
  var values = [];
  _$jscoverage['vizapi/DataTable.js'][478]++;
  var valueMap = {};
  _$jscoverage['vizapi/DataTable.js'][479]++;
  for (var rowNo = 0; (rowNo < this.getNumberOfRows()); (rowNo++)) {
    _$jscoverage['vizapi/DataTable.js'][480]++;
    var value = this.getFormattedValue(rowNo, columnIdx);
    _$jscoverage['vizapi/DataTable.js'][481]++;
    if ((! valueMap[value])) {
      _$jscoverage['vizapi/DataTable.js'][482]++;
      valueMap[value] = true;
      _$jscoverage['vizapi/DataTable.js'][483]++;
      values.push(value);
    }
}
  _$jscoverage['vizapi/DataTable.js'][486]++;
  return values;
});
_$jscoverage['vizapi/DataTable.js'][496]++;
pentaho.DataView.prototype.hideColumns = (function (columns) {
  _$jscoverage['vizapi/DataTable.js'][497]++;
  tmpCols = [];
  _$jscoverage['vizapi/DataTable.js'][498]++;
  for (var columnIdx = 0; (columnIdx < this.getNumberOfColumns()); (columnIdx++)) {
    _$jscoverage['vizapi/DataTable.js'][499]++;
    tmpCols.push(columnIdx);
}
  _$jscoverage['vizapi/DataTable.js'][501]++;
  for (var idx = (columns.length - 1); (idx > -1); (idx--)) {
    _$jscoverage['vizapi/DataTable.js'][502]++;
    tmpCols.splice(columns[idx], 1);
}
  _$jscoverage['vizapi/DataTable.js'][504]++;
  this.columns = tmpCols;
});
_$jscoverage['vizapi/DataTable.js'][511]++;
pentaho.DataView.prototype.getNumberOfRows = (function () {
  _$jscoverage['vizapi/DataTable.js'][512]++;
  return ((this.rows == null)? this.dataTable.getNumberOfRows(): this.rows.length);
});
_$jscoverage['vizapi/DataTable.js'][519]++;
pentaho.DataView.prototype.getNumberOfColumns = (function () {
  _$jscoverage['vizapi/DataTable.js'][520]++;
  return ((this.columns == null)? this.dataTable.getNumberOfColumns(): this.columns.length);
});
_$jscoverage['vizapi/DataTable.js'][528]++;
pentaho.DataView.prototype.getColumnId = (function (columnIdx) {
  _$jscoverage['vizapi/DataTable.js'][529]++;
  return ((this.columns == null)? this.dataTable.getColumnId(columnIdx): this.dataTable.getColumnId(this.columns[columnIdx]));
});
_$jscoverage['vizapi/DataTable.js'][537]++;
pentaho.DataView.prototype.getColumnLabel = (function (columnIdx) {
  _$jscoverage['vizapi/DataTable.js'][538]++;
  return ((this.columns == null)? this.dataTable.getColumnLabel(columnIdx): this.dataTable.getColumnLabel(this.columns[columnIdx]));
});
_$jscoverage['vizapi/DataTable.js'][546]++;
pentaho.DataView.prototype.getColumnType = (function (columnIdx) {
  _$jscoverage['vizapi/DataTable.js'][547]++;
  return ((this.columns == null)? this.dataTable.getColumnType(columnIdx): this.dataTable.getColumnType(this.columns[columnIdx]));
});
_$jscoverage['vizapi/DataTable.js'][556]++;
pentaho.DataView.prototype.getValue = (function (rowNo, colNo) {
  _$jscoverage['vizapi/DataTable.js'][557]++;
  var rowIdx = ((this.rows == null)? rowNo: this.rows[rowNo]);
  _$jscoverage['vizapi/DataTable.js'][558]++;
  var colIdx = ((this.columns == null)? colNo: this.columns[colNo]);
  _$jscoverage['vizapi/DataTable.js'][559]++;
  if ((rowIdx.length && (rowIdx[0] == "combine"))) {
    _$jscoverage['vizapi/DataTable.js'][562]++;
    var type = this.getColumnType(colNo);
    _$jscoverage['vizapi/DataTable.js'][563]++;
    var value;
    _$jscoverage['vizapi/DataTable.js'][564]++;
    for (var idx = 0; (idx < rowIdx[1].length); (idx++)) {
      _$jscoverage['vizapi/DataTable.js'][565]++;
      if ((idx == 0)) {
        _$jscoverage['vizapi/DataTable.js'][566]++;
        value = this.dataTable.getValue(rowIdx[1][idx], colIdx);
      }
      else {
        _$jscoverage['vizapi/DataTable.js'][568]++;
        if ((type == "string")) {
          _$jscoverage['vizapi/DataTable.js'][569]++;
          value += (" + " + this.dataTable.getValue(rowIdx[1][idx], colIdx));
        }
        else {
          _$jscoverage['vizapi/DataTable.js'][571]++;
          if ((type == "number")) {
            _$jscoverage['vizapi/DataTable.js'][572]++;
            value += this.dataTable.getValue(rowIdx[1][idx], colIdx);
          }
        }
      }
}
    _$jscoverage['vizapi/DataTable.js'][575]++;
    return value;
  }
  _$jscoverage['vizapi/DataTable.js'][577]++;
  return this.dataTable.getValue(rowIdx, colIdx);
});
_$jscoverage['vizapi/DataTable.js'][586]++;
pentaho.DataView.prototype.getFormattedValue = (function (rowNo, colNo) {
  _$jscoverage['vizapi/DataTable.js'][587]++;
  var rowIdx = ((this.rows == null)? rowNo: this.rows[rowNo]);
  _$jscoverage['vizapi/DataTable.js'][588]++;
  var colIdx = ((this.columns == null)? colNo: this.columns[colNo]);
  _$jscoverage['vizapi/DataTable.js'][589]++;
  if ((rowIdx.length && (rowIdx[0] == "combine"))) {
    _$jscoverage['vizapi/DataTable.js'][592]++;
    var type = this.getColumnType(colNo);
    _$jscoverage['vizapi/DataTable.js'][593]++;
    var value;
    _$jscoverage['vizapi/DataTable.js'][594]++;
    for (var idx = 0; (idx < rowIdx[1].length); (idx++)) {
      _$jscoverage['vizapi/DataTable.js'][595]++;
      if ((idx == 0)) {
        _$jscoverage['vizapi/DataTable.js'][596]++;
        value = this.dataTable.getFormattedValue(rowIdx[1][idx], colIdx);
      }
      else {
        _$jscoverage['vizapi/DataTable.js'][598]++;
        if ((type == "string")) {
          _$jscoverage['vizapi/DataTable.js'][599]++;
          value += (" + " + this.dataTable.getFormattedValue(rowIdx[1][idx], colIdx));
        }
        else {
          _$jscoverage['vizapi/DataTable.js'][601]++;
          if ((type == "number")) {
            _$jscoverage['vizapi/DataTable.js'][602]++;
            value += this.dataTable.getFormattedValue(rowIdx[1][idx], colIdx);
          }
        }
      }
}
    _$jscoverage['vizapi/DataTable.js'][605]++;
    return value;
  }
  _$jscoverage['vizapi/DataTable.js'][607]++;
  return this.dataTable.getFormattedValue(rowIdx, colIdx);
});
_$jscoverage['vizapi/DataTable.js'][618]++;
pentaho.DataView.prototype.toDataTable = (function () {
  _$jscoverage['vizapi/DataTable.js'][620]++;
  var cols = [];
  _$jscoverage['vizapi/DataTable.js'][621]++;
  for (var colIdx = 0; (colIdx < this.getNumberOfColumns()); (colIdx++)) {
    _$jscoverage['vizapi/DataTable.js'][622]++;
    col = {type: this.getColumnType(colIdx), id: this.getColumnId(colIdx), label: this.getColumnLabel(colIdx)};
    _$jscoverage['vizapi/DataTable.js'][627]++;
    cols.push(col);
}
  _$jscoverage['vizapi/DataTable.js'][630]++;
  var rows = [];
  _$jscoverage['vizapi/DataTable.js'][631]++;
  for (var rowIdx = 0; (rowIdx < this.getNumberOfRows()); (rowIdx++)) {
    _$jscoverage['vizapi/DataTable.js'][632]++;
    cells = [];
    _$jscoverage['vizapi/DataTable.js'][633]++;
    for (var colIdx = 0; (colIdx < this.getNumberOfColumns()); (colIdx++)) {
      _$jscoverage['vizapi/DataTable.js'][634]++;
      cells.push({v: this.getValue(rowIdx, colIdx), f: this.getFormattedValue(rowIdx, colIdx)});
}
    _$jscoverage['vizapi/DataTable.js'][639]++;
    row = {c: cells};
    _$jscoverage['vizapi/DataTable.js'][642]++;
    rows.push(row);
}
  _$jscoverage['vizapi/DataTable.js'][645]++;
  var json = {cols: cols, rows: rows};
  _$jscoverage['vizapi/DataTable.js'][647]++;
  var table = new (pentaho.DataTable)(json);
  _$jscoverage['vizapi/DataTable.js'][648]++;
  return table;
});
_$jscoverage['vizapi/DataTable.js'][660]++;
pentaho.DataView.prototype.setColumnProperty = (function (columnIndex, name, value) {
  _$jscoverage['vizapi/DataTable.js'][661]++;
  this.dataTable.setColumnProperty(columnIndex, name, value);
});
_$jscoverage['vizapi/DataTable.js'][673]++;
pentaho.DataView.prototype.getColumnProperty = (function (columnIndex, name) {
  _$jscoverage['vizapi/DataTable.js'][674]++;
  return this.dataTable.getColumnProperty(columnIndex, name);
});
